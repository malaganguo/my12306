/**
         * fish-desktop v3.19.1
         *
         * Copyright (c) 2013-present, ZTESoft, Inc.
         * All rights reserved.
         *
         * This source code is licensed under the LGPL-3.0-style license found in the
         * LICENSE file in the root directory of this source tree. 
         *
         */
function focusable(a,b){var c,d,e,f=a.nodeName.toLowerCase();return"area"===f?(c=a.parentNode,d=c.name,!(!a.href||!d||"map"!==c.nodeName.toLowerCase())&&(!!(e=$("img[usemap='#"+d+"']")[0])&&visible(e))):(/^(input|select|textarea|button|object)$/.test(f)?!a.disabled:"a"===f?a.href||b:b)&&visible(a)}function visible(a){return $.expr.filters.visible(a)&&!$(a).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}!function(a,b){function c(a){var b=a.length,c=jQuery.type(a);return!jQuery.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)))}function d(a){var b=za[a]={};return jQuery.each(a.match(ma)||[],function(_,a){b[a]=!0}),b}function e(a,c,d,e){if(jQuery.acceptData(a)){var f,g,h=jQuery.expando,i=a.nodeType,j=i?jQuery.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==b||"string"!=typeof c)return k||(k=i?a[h]=da.pop()||jQuery.guid++:h),j[k]||(j[k]=i?{}:{toJSON:jQuery.noop}),"object"!=typeof c&&"function"!=typeof c||(e?j[k]=jQuery.extend(j[k],c):j[k].data=jQuery.extend(j[k].data,c)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[jQuery.camelCase(c)]=d),"string"==typeof c?null==(f=g[c])&&(f=g[jQuery.camelCase(c)]):f=g,f}}function f(a,b,c){if(jQuery.acceptData(a)){var d,e,f=a.nodeType,g=f?jQuery.cache:a,i=f?a[jQuery.expando]:jQuery.expando;if(g[i]){if(b&&(d=c?g[i]:g[i].data)){jQuery.isArray(b)?b=b.concat(jQuery.map(b,jQuery.camelCase)):b in d?b=[b]:(b=jQuery.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!h(d):!jQuery.isEmptyObject(d))return}(c||(delete g[i].data,h(g[i])))&&(f?jQuery.cleanData([a],!0):jQuery.support.deleteExpando||g!=g.window?delete g[i]:g[i]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(Ba,"-$1").toLowerCase();if("string"==typeof(d=a.getAttribute(e))){try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:Aa.test(d)?jQuery.parseJSON(d):d)}catch(f){}jQuery.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!jQuery.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(){try{return Y.activeElement}catch(a){}}function l(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}function m(a,b,c){if(jQuery.isFunction(b))return jQuery.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return jQuery.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Qa.test(b))return jQuery.filter(b,a,c);b=jQuery.filter(b,a)}return jQuery.grep(a,function(a){return jQuery.inArray(a,b)>=0!==c})}function n(a){var b=Ua.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){return jQuery.nodeName(a,"table")&&jQuery.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function p(a){return a.type=(null!==jQuery.find.attr(a,"type"))+"/"+a.type,a}function q(a){var b=eb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function r(a,b){for(var c,d=0;null!=(c=a[d]);d++)jQuery._data(c,"globalEval",!b||jQuery._data(b[d],"globalEval"))}function s(a,b){if(1===b.nodeType&&jQuery.hasData(a)){var c,d,e,f=jQuery._data(a),g=jQuery._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)jQuery.event.add(b,c,h[c][d])}g.data&&(g.data=jQuery.extend({},g.data))}}function t(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!jQuery.support.noCloneEvent&&b[jQuery.expando]){e=jQuery._data(b);for(d in e.events)jQuery.removeEvent(b,d,e.handle);b.removeAttribute(jQuery.expando)}"script"===c&&b.text!==a.text?(p(b).text=a.text,q(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),jQuery.support.html5Clone&&a.innerHTML&&!jQuery.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function u(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==W?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==W?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||jQuery.nodeName(e,c)?g.push(e):jQuery.merge(g,u(e,c));return c===b||c&&jQuery.nodeName(a,c)?jQuery.merge([a],g):g}function v(a){bb.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yb.length;e--;)if((b=yb[e]+c)in a)return b;return d}function x(a,b){return a=b||a,"none"===jQuery.css(a,"display")||!jQuery.contains(a.ownerDocument,a)}function y(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=jQuery._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=jQuery._data(d,"olddisplay",C(d.nodeName)))):f[g]||(e=x(d),(c&&"none"!==c||!e)&&jQuery._data(d,"olddisplay",e?c:jQuery.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function z(a,b,c){var d=rb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=jQuery.css(a,c+xb[f],!0,e)),d?("content"===c&&(g-=jQuery.css(a,"padding"+xb[f],!0,e)),"margin"!==c&&(g-=jQuery.css(a,"border"+xb[f]+"Width",!0,e))):(g+=jQuery.css(a,"padding"+xb[f],!0,e),"padding"!==c&&(g+=jQuery.css(a,"border"+xb[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kb(a),g=jQuery.support.boxSizing&&"border-box"===jQuery.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=lb(a,b,f),(e<0||null==e)&&(e=a.style[b]),sb.test(e))return e;d=g&&(jQuery.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a){var b=Y,c=ub[a];return c||(c=D(a,b),"none"!==c&&c||(jb=(jb||jQuery("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jb[0].contentWindow||jb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=D(a,b),jb.detach()),ub[a]=c),c}function D(a,b){var c=jQuery(b.createElement(a)).appendTo(b.body),d=jQuery.css(c[0],"display");return c.remove(),d}function E(a,b,c,d){var e;if(jQuery.isArray(b))jQuery.each(b,function(b,e){c||Ab.test(a)?d(a,e):E(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==jQuery.type(b))d(a,b);else for(e in b)E(a+"["+e+"]",b[e],c,d)}function F(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ma)||[];if(jQuery.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function G(a,b,c,d){function e(h){var i;return f[h]=!0,jQuery.each(a[h]||[],function(_,a){var h=a(b,c,d);return"string"!=typeof h||g||f[h]?g?!(i=h):void 0:(b.dataTypes.unshift(h),e(h),!1)}),i}var f={},g=a===Rb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function H(a,c){var d,e,f=jQuery.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&jQuery.extend(!0,a,d),a}function I(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}if(g)return g!==j[0]&&j.unshift(g),d[g]}function J(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function K(){try{return new a.XMLHttpRequest}catch(b){}}function L(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function M(){return setTimeout(function(){Zb=b}),Zb=jQuery.now()}function N(a,b,c){for(var d,e=(dc[b]||[]).concat(dc["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function O(a,b,c){var d,e,f=0,g=cc.length,h=jQuery.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Zb||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:jQuery.extend({},b),opts:jQuery.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Zb||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=jQuery.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(P(k,j.opts.specialEasing);f<g;f++)if(d=cc[f].call(j,a,k,j.opts))return d;return jQuery.map(k,N,j),jQuery.isFunction(j.opts.start)&&j.opts.start.call(a,j),jQuery.fx.timer(jQuery.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function P(a,b){var c,d,e,f,g;for(c in a)if(d=jQuery.camelCase(c),e=b[d],f=a[c],jQuery.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=jQuery.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Q(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&x(a),n=jQuery._data(a,"fxshow");c.queue||(h=jQuery._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,jQuery.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===jQuery.css(a,"display")&&"none"===jQuery.css(a,"float")&&(jQuery.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",jQuery.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],_b.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||jQuery.style(a,d)}if(!jQuery.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=jQuery._data(a,"fxshow",{}),f&&(n.hidden=!m),m?jQuery(a).show():j.done(function(){jQuery(a).hide()}),j.done(function(){var b;jQuery._removeData(a,"fxshow");for(b in k)jQuery.style(a,b,k[b])});for(d in k)g=N(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=xb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function T(a){return jQuery.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var U,V,W=typeof b,X=a.location,Y=a.document,Z=Y.documentElement,aa=a.jQuery,ba=a.$,ca={},da=[],ea=da.concat,fa=da.push,ga=da.slice,ha=da.indexOf,ia=ca.toString,ja=ca.hasOwnProperty,ka="1.12.4".trim,jQuery=function(a,b){return new jQuery.fn.init(a,b,V)},la=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ma=/\S+/g,na=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,qa=/^[\],:{}\s]*$/,ra=/(?:^|:|,)(?:\s*\[)+/g,sa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ta=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ua=/^-ms-/,va=/-([\da-z])/gi,wa=function(a,b){return b.toUpperCase()},xa=function(a){(Y.addEventListener||"load"===a.type||"complete"===Y.readyState)&&(ya(),jQuery.ready())},ya=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",xa,!1),a.removeEventListener("load",xa,!1)):(Y.detachEvent("onreadystatechange",xa),a.detachEvent("onload",xa))};jQuery.fn=jQuery.prototype={jquery:"1.12.4",constructor:jQuery,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(!(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:oa.exec(a))||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof jQuery?c[0]:c,jQuery.merge(this,jQuery.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:Y,!0)),pa.test(e[1])&&jQuery.isPlainObject(c))for(e in c)jQuery.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if((f=Y.getElementById(e[2]))&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):jQuery.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),jQuery.makeArray(a,this))},selector:"",length:0,toArray:function(){return ga.call(this)},get:function(a){return null==a?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a){var b=jQuery.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return jQuery.each(this,a,b)},ready:function(a){return jQuery.ready.promise().done(a),this},slice:function(){return this.pushStack(ga.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},map:function(a){return this.pushStack(jQuery.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:fa,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||jQuery.isFunction(h)||(h={}),j===i&&(h=this,--i);i<j;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(jQuery.isPlainObject(d)||(c=jQuery.isArray(d)))?(c?(c=!1,g=a&&jQuery.isArray(a)?a:[]):g=a&&jQuery.isPlainObject(a)?a:{},h[e]=jQuery.extend(k,g,d)):d!==b&&(h[e]=d));return h},jQuery.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===jQuery&&(a.$=ba),b&&a.jQuery===jQuery&&(a.jQuery=aa),jQuery},isReady:!1,readyWait:1,holdReady:function(a){a?jQuery.readyWait++:jQuery.ready(!0)},ready:function(a){if(!0===a?!--jQuery.readyWait:!jQuery.isReady){if(!Y.body)return setTimeout(jQuery.ready);jQuery.isReady=!0,!0!==a&&--jQuery.readyWait>0||(U.resolveWith(Y,[jQuery]),jQuery.fn.trigger&&jQuery(Y).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===jQuery.type(a)},isArray:Array.isArray||function(a){return"array"===jQuery.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?ca[ia.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==jQuery.type(a)||a.nodeType||jQuery.isWindow(a))return!1;try{if(a.constructor&&!ja.call(a,"constructor")&&!ja.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(jQuery.support.ownLast)for(c in a)return ja.call(a,c);for(c in a);return c===b||ja.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Y;var d=pa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=jQuery.buildFragment([a],b,e),e&&jQuery(e).remove(),jQuery.merge([],d.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=jQuery.trim(b))&&qa.test(b.replace(sa,"@").replace(ta,"]").replace(ra,""))?new Function("return "+b)():void jQuery.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&jQuery.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ua,"ms-").replace(va,wa)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e=0,f=a.length,g=c(a);if(d){if(g)for(;e<f&&!1!==b.apply(a[e],d);e++);else for(e in a)if(!1===b.apply(a[e],d))break}else if(g)for(;e<f&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:ka&&!ka.call("\ufeffÂ ")?function(a){return null==a?"":ka.call(a)}:function(a){return null==a?"":(a+"").replace(na,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?jQuery.merge(d,"string"==typeof a?[a]:a):fa.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(ha)return ha.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;f<d;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;f<g;f++)null!=(e=b(a[f],f,d))&&(i[i.length]=e);else for(f in a)null!=(e=b(a[f],f,d))&&(i[i.length]=e);return ea.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),jQuery.isFunction(a)?(d=ga.call(arguments,2),e=function(){return a.apply(c||this,d.concat(ga.call(arguments)))},e.guid=a.guid=a.guid||jQuery.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===jQuery.type(d)){f=!0;for(i in d)jQuery.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,jQuery.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(jQuery(a),c)})),c))for(;i<j;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),jQuery.ready.promise=function(b){if(!U)if(U=jQuery.Deferred(),"complete"===Y.readyState)setTimeout(jQuery.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",xa,!1),a.addEventListener("load",xa,!1);else{Y.attachEvent("onreadystatechange",xa),a.attachEvent("onload",xa);var c=!1;try{c=null==a.frameElement&&Y.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!jQuery.isReady){try{c.doScroll("left")}catch(d){return setTimeout(e,50)}ya(),jQuery.ready()}}()}return U.promise(b)},jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ca["[object "+b+"]"]=b.toLowerCase()}),V=jQuery(Y),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,m,n,o,p;if((b?b.ownerDocument||b:M)!==E&&D(b),b=b||E,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(G&&!d){if(e=ra.exec(a))if(g=e[1]){if(9===h){if(!(f=b.getElementById(g))||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&K(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return Z.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName&&b.getElementsByClassName)return Z.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!H||!H.test(a))){if(n=m=L,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=k(a),(m=b.getAttribute("id"))?n=m.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+l(j[i]);o=la.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return Z.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{m||b.removeAttribute("id")}}}return t(a.replace(ia,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>x.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[L]=!0,a}function f(a){var b=E.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)x.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||U)-(~a.sourceIndex||U);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function j(){}function k(a,b){var d,e,f,g,h,i,j,k=Q[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=x.preFilter;h;){d&&!(e=ja.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in x.filter)!(e=pa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function l(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function m(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=O++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=N+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[L]||(b[L]={}),(i=j[d])&&i[0]===k){if(!0===(h=i[1])||h===w)return!0===h}else if(i=j[d]=[k],i[1]=a(b,c,g)||w,!0===i[1])return!0}}function n(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function o(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function p(a,b,c,d,f,g){return d&&!d[L]&&(d=p(d)),f&&!f[L]&&(f=p(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],p=g.length,q=e||s(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?q:o(q,m,a,h,i),t=c?f||(e?a:p||d)?[]:g:r;if(c&&c(r,t,h,i),d)for(j=o(t,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(r[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?ba.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else t=o(t===g?t.splice(p,t.length):t),f?f(null,g,t,i):Z.apply(g,t)})}function q(a){for(var b,c,d,e=a.length,f=x.relative[a[0].type],g=f||x.relative[" "],h=f?1:0,i=m(function(a){return a===b},g,!0),j=m(function(a){return ba.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==B)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];h<e;h++)if(c=x.relative[a[h].type])k=[m(n(k),c)];else{if(c=x.filter[a[h].type].apply(null,a[h].matches),c[L]){for(d=++h;d<e&&!x.relative[a[d].type];d++);return p(h>1&&n(k),h>1&&l(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,h<d&&q(a.slice(h,d)),d<e&&q(a=a.slice(d)),d<e&&l(a))}k.push(c)}return n(k)}function r(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,p=[],q=0,r="0",s=e&&[],t=null!=k,u=B,v=e||g&&x.find.TAG("*",k&&h.parentNode||h),y=N+=null==u?1:Math.random()||.1;for(t&&(B=h!==E&&h,w=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(N=y,w=++d)}f&&((l=!n&&l)&&q--,e&&s.push(l))}if(q+=r,f&&r!==q){for(m=0;n=b[m++];)n(s,p,h,i);if(e){if(q>0)for(;r--;)s[r]||p[r]||(p[r]=X.call(j));p=o(p)}Z.apply(j,p),t&&!e&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return t&&(N=y,B=u),s};return f?e(h):h}function s(a,b,d){for(var e=0,f=b.length;e<f;e++)c(a,b[e],d);return d}function t(a,b,c,d){var e,f,g,h,i,j=k(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&G&&x.relative[f[1].type]){if(!(b=(x.find.ID(g.matches[0].replace(va,wa),b)||[])[0]))return c;a=a.slice(f.shift().value.length)}for(e=pa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!x.relative[h=g.type]);)if((i=x.find[h])&&(d=i(g.matches[0].replace(va,wa),la.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),!(a=d.length&&l(f)))return Z.apply(c,d),c;break}}return A(a,j)(d,b,!G,c,la.test(a)),c}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L="sizzle"+-new Date,M=a.document,N=0,O=0,P=d(),Q=d(),R=d(),S=!1,T=function(a,b){return a===b?(S=!0,0):0},U=1<<31,V={}.hasOwnProperty,W=[],X=W.pop,Y=W.push,Z=W.push,aa=W.slice,ba=W.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},ca="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",da="[\\x20\\t\\r\\n\\f]",ea="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fa=ea.replace("w","w#"),ga="\\["+da+"*("+ea+")"+da+"*(?:([*^$|!~]?=)"+da+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fa+")|)|)"+da+"*\\]",ha=":("+ea+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ga.replace(3,8)+")*)|.*)\\)|)",ia=new RegExp("^"+da+"+|((?:^|[^\\\\])(?:\\\\.)*)"+da+"+$","g"),ja=new RegExp("^"+da+"*,"+da+"*"),ka=new RegExp("^"+da+"*([>+~]|"+da+")"+da+"*"),la=new RegExp(da+"*[+~]"),ma=new RegExp("="+da+"*([^\\]'\"]*)"+da+"*\\]","g"),na=new RegExp(ha),oa=new RegExp("^"+fa+"$"),pa={ID:new RegExp("^#("+ea+")"),CLASS:new RegExp("^\\.("+ea+")"),TAG:new RegExp("^("+ea.replace("w","w*")+")"),ATTR:new RegExp("^"+ga),PSEUDO:new RegExp("^"+ha),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+da+"*(even|odd|(([+-]|)(\\d*)n|)"+da+"*(?:([+-]|)"+da+"*(\\d+)|))"+da+"*\\)|)","i"),bool:new RegExp("^(?:"+ca+")$","i"),needsContext:new RegExp("^"+da+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+da+"*((?:-\\d)?\\d*)"+da+"*\\)|)(?=[^-]|$)","i")},qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/^(?:input|select|textarea|button)$/i,ta=/^h\d$/i,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+da+"?|("+da+")|.)","ig"),wa=function(_,a,b){var c="0x"+a-65536;return c!==c||b?a:c<0?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)};try{Z.apply(W=aa.call(M.childNodes),M.childNodes),W[M.childNodes.length].nodeType}catch(xa){Z={apply:W.length?function(a,b){Y.apply(a,aa.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}z=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},v=c.support={},D=c.setDocument=function(a){var b=a?a.ownerDocument||a:M,c=b.defaultView;return b!==E&&9===b.nodeType&&b.documentElement?(E=b,F=b.documentElement,G=!z(b),c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){D()}),v.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),v.getById=f(function(a){return F.appendChild(a).id=L,!b.getElementsByName||!b.getElementsByName(L).length}),v.getById?(x.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&G){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},x.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete x.find.ID,x.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),x.find.TAG=v.getElementsByTagName?function(a,b){if("undefined"!=typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},x.find.CLASS=v.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&G)return b.getElementsByClassName(a)},I=[],H=[],(v.qsa=qa.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||H.push("\\["+da+"*(?:value|"+ca+")"),a.querySelectorAll(":checked").length||H.push(":checked")}),f(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&H.push("[*^$]="+da+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),H.push(",.*:")})),(v.matchesSelector=qa.test(J=F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&f(function(a){v.disconnectedMatch=J.call(a,"div"),J.call(a,"[s!='']:x"),I.push("!=",ha)}),H=H.length&&new RegExp(H.join("|")),I=I.length&&new RegExp(I.join("|")),K=qa.test(F.contains)||F.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},T=F.compareDocumentPosition?function(a,c){if(a===c)return S=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!v.sortDetached&&c.compareDocumentPosition(a)===d?a===b||K(M,a)?-1:c===b||K(M,c)?1:C?ba.call(C,a)-ba.call(C,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,i=[a],j=[c];if(a===c)return S=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:C?ba.call(C,a)-ba.call(C,c):0;if(f===g)return h(a,c);for(d=a;d=d.parentNode;)i.unshift(d);for(d=c;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===M?-1:j[e]===M?1:0},b):E},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==E&&D(a),b=b.replace(ma,"='$1']"),v.matchesSelector&&G&&(!I||!I.test(b))&&(!H||!H.test(b)))try{var d=J.call(a,b);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(xa){}return c(b,E,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==E&&D(a),K(a,b)},c.attr=function(a,b){(a.ownerDocument||a)!==E&&D(a);var c=x.attrHandle[b.toLowerCase()],d=c&&V.call(x.attrHandle,b.toLowerCase())?c(a,b,!G):void 0;return void 0===d?v.attributes||!G?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null:d},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(S=!v.detectDuplicates,C=!v.sortStable&&a.slice(0),a.sort(T),S){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},y=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=y(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=y(b);return c},x=c.selectors={cacheLength:50,createPseudo:e,match:pa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2]
;return pa.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&na.test(c)&&(b=k(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=P[a+" "];return b||(b=new RegExp("(^|"+da+")"+a+"("+da+"|$)"))&&P(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:!b||(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[L]||(q[L]={}),j=k[a]||[],n=j[0]===N&&j[1],m=j[0]===N&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[N,n,m];break}}else if(s&&(j=(b[L]||(b[L]={}))[a])&&j[0]===N)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[L]||(l[L]={}))[a]=[N,m]),l!==b)););return(m-=e)===d||m%d==0&&m/d>=0}}},PSEUDO:function(a,b){var d,f=x.pseudos[a]||x.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[L]?f(b):f.length>1?(d=[a,a,"",b],x.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=ba.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=A(a.replace(ia,"$1"));return d[L]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||y(b)).indexOf(a)>-1}}),lang:e(function(a){return oa.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do{if(c=G?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===F},focus:function(a){return a===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return ta.test(a.nodeName)},input:function(a){return sa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:i(function(){return[0]}),last:i(function(a,b){return[b-1]}),eq:i(function(a,b,c){return[c<0?c+b:c]}),even:i(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:i(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:i(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:i(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},x.pseudos.nth=x.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[u]=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}(u);for(u in{submit:!0,reset:!0})x.pseudos[u]=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}(u);j.prototype=x.filters=x.pseudos,x.setFilters=new j,A=c.compile=function(a,b){var c,d=[],e=[],f=R[a+" "];if(!f){for(b||(b=k(a)),c=b.length;c--;)f=q(b[c]),f[L]?d.push(f):e.push(f);f=R(a,r(e,d))}return f},v.sortStable=L.split("").sort(T).join("")===L,v.detectDuplicates=S,D(),v.sortDetached=f(function(a){return 1&a.compareDocumentPosition(E.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(ca,function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&d.specified?d.value:!0===a[b]?b.toLowerCase():null}),jQuery.find=c,jQuery.expr=c.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=c.uniqueSort,jQuery.text=c.getText,jQuery.isXMLDoc=c.isXML,jQuery.contains=c.contains}(a);var za={};jQuery.Callbacks=function(a){a="string"==typeof a?za[a]||d(a):jQuery.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&h<g;h++)if(!1===j[h].apply(b[0],b[1])&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){jQuery.each(b,function(_,b){var c=jQuery.type(b);"function"===c?a.unique&&m.has(b)||j.push(b):b&&b.length&&"string"!==c&&d(b)})}(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&jQuery.each(arguments,function(_,a){for(var b;(b=jQuery.inArray(a,j,b))>-1;)j.splice(b,1),c&&(b<=g&&g--,b<=h&&h--)}),this},has:function(a){return a?jQuery.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||f&&!k||(b=b||[],b=[a,b.slice?b.slice():b],c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},jQuery.extend({Deferred:function(a){var b=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return jQuery.Deferred(function(c){jQuery.each(b,function(b,f){var g=f[0],h=jQuery.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&jQuery.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?jQuery.extend(a,d):d}},e={};return d.pipe=d.then,jQuery.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=ga.call(arguments),g=f.length,h=1!==g||a&&jQuery.isFunction(a.promise)?g:0,i=1===h?a:jQuery.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?ga.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&jQuery.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),jQuery.support=function(b){var c,d,e,f,g,h,i,j,k,l=Y.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],!(d=l.getElementsByTagName("a")[0])||!d.style||!c.length)return b;f=Y.createElement("select"),h=f.appendChild(Y.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Y.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=Y.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Y.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||!1===l.attributes[i].expando;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in jQuery(b))break;return b.ownLast="0"!==k,jQuery(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Y.getElementsByTagName("body")[0];g&&(c=Y.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",jQuery.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Y.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==W&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Aa=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ba=/([A-Z])/g;jQuery.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return!!(a=a.nodeType?jQuery.cache[a[jQuery.expando]]:a[jQuery.expando])&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&jQuery.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===b}}),jQuery.fn.extend({data:function(a,c){var d,e,f=null,h=0,i=this[0];if(a===b){if(this.length&&(f=jQuery.data(i),1===i.nodeType&&!jQuery._data(i,"parsedAttrs"))){for(d=i.attributes;h<d.length;h++)e=d[h].name,0===e.indexOf("data-")&&(e=jQuery.camelCase(e.slice(5)),g(i,e,f[e]));jQuery._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){jQuery.data(this,a)}):arguments.length>1?this.each(function(){jQuery.data(this,a,c)}):i?g(i,a,jQuery.data(i,a)):null},removeData:function(a){return this.each(function(){jQuery.removeData(this,a)})}}),jQuery.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=jQuery._data(a,b),c&&(!d||jQuery.isArray(c)?d=jQuery._data(a,b,jQuery.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=jQuery.queue(a,b),d=c.length,e=c.shift(),f=jQuery._queueHooks(a,b),g=function(){jQuery.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return jQuery._data(a,c)||jQuery._data(a,c,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(a,b+"queue"),jQuery._removeData(a,c)})})}}),jQuery.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?jQuery.queue(this[0],a):c===b?this:this.each(function(){var b=jQuery.queue(this,a,c);jQuery._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&jQuery.dequeue(this,a)})},dequeue:function(a){return this.each(function(){jQuery.dequeue(this,a)})},delay:function(a,b){return a=jQuery.fx?jQuery.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=jQuery.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)(d=jQuery._data(g[h],a+"queueHooks"))&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Ca,Da,Ea=/[\t\r\n\f]/g,Fa=/\r/g,Ga=/^(?:input|select|textarea|button|object)$/i,Ha=/^(?:a|area)$/i,Ia=/^(?:checked|selected)$/i,Ja=jQuery.support.getSetAttribute,Ka=jQuery.support.input;jQuery.fn.extend({attr:function(a,b){return jQuery.access(this,jQuery.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){jQuery.removeAttr(this,a)})},prop:function(a,b){return jQuery.access(this,jQuery.prop,a,b,arguments.length>1)},removeProp:function(a){return a=jQuery.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ma)||[];g<h;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ea," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=jQuery.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ma)||[];g<h;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ea," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?jQuery.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):jQuery.isFunction(a)?this.each(function(c){jQuery(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=jQuery(this),f=a.match(ma)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==W&&"boolean"!==c||(this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||!1===a?"":jQuery._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Ea," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=jQuery.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=e?a.call(this,c,jQuery(this).val()):a,null==f?f="":"number"==typeof f?f+="":jQuery.isArray(f)&&(f=jQuery.map(f,function(a){return null==a?"":a+""})),(d=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))});if(f)return(d=jQuery.valHooks[f.type]||jQuery.valHooks[f.nodeName.toLowerCase()])&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Fa,""):null==c?"":c)}}}),jQuery.extend({valHooks:{option:{get:function(a){var b=jQuery.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(jQuery.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!jQuery.nodeName(c.parentNode,"optgroup"))){if(b=jQuery(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=jQuery.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=jQuery.inArray(jQuery(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===W?jQuery.prop(a,c,d):(1===g&&jQuery.isXMLDoc(a)||(c=c.toLowerCase(),e=jQuery.attrHooks[c]||(jQuery.expr.match.bool.test(c)?Da:Ca)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=jQuery.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):void jQuery.removeAttr(a,c))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ma);if(f&&1===a.nodeType)for(;c=f[e++];)d=jQuery.propFix[c]||c,jQuery.expr.match.bool.test(c)?Ka&&Ja||!Ia.test(c)?a[d]=!1:a[jQuery.camelCase("default-"+c)]=a[d]=!1:jQuery.attr(a,c,""),a.removeAttribute(Ja?c:d)},attrHooks:{type:{set:function(a,b){if(!jQuery.support.radioValue&&"radio"===b&&jQuery.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!jQuery.isXMLDoc(a),g&&(c=jQuery.propFix[c]||c,f=jQuery.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var b=jQuery.find.attr(a,"tabindex");return b?parseInt(b,10):Ga.test(a.nodeName)||Ha.test(a.nodeName)&&a.href?0:-1}}}}),Da={set:function(a,b,c){return!1===b?jQuery.removeAttr(a,c):Ka&&Ja||!Ia.test(c)?a.setAttribute(!Ja&&jQuery.propFix[c]||c,c):a[jQuery.camelCase("default-"+c)]=a[c]=!0,c}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(a,c){var d=jQuery.expr.attrHandle[c]||jQuery.find.attr;jQuery.expr.attrHandle[c]=Ka&&Ja||!Ia.test(c)?function(a,c,e){var f=jQuery.expr.attrHandle[c],g=e?b:(jQuery.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return jQuery.expr.attrHandle[c]=f,g}:function(a,c,d){return d?b:a[jQuery.camelCase("default-"+c)]?c.toLowerCase():null}}),Ka&&Ja||(jQuery.attrHooks.value={set:function(a,b,c){if(!jQuery.nodeName(a,"input"))return Ca&&Ca.set(a,b,c);a.defaultValue=b}}),Ja||(Ca={set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},jQuery.expr.attrHandle.id=jQuery.expr.attrHandle.name=jQuery.expr.attrHandle.coords=function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&""!==e.value?e.value:null},jQuery.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:Ca.set},jQuery.attrHooks.contenteditable={set:function(a,b,c){Ca.set(a,""!==b&&b,c)}},jQuery.each(["width","height"],function(a,b){jQuery.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})),jQuery.support.hrefNormalized||jQuery.each(["href","src"],function(a,b){jQuery.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),jQuery.support.style||(jQuery.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),jQuery.support.optSelected||(jQuery.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),jQuery.support.enctype||(jQuery.propFix.enctype="encoding"),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(a,b){if(jQuery.isArray(b))return a.checked=jQuery.inArray(jQuery(a).val(),b)>=0}},jQuery.support.checkOn||(jQuery.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var La=/^(?:input|select|textarea)$/i,Ma=/^key/,Na=/^(?:mouse|contextmenu)|click/,Oa=/^(?:focusinfocus|focusoutblur)$/,Pa=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=jQuery._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=jQuery.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof jQuery===W||a&&jQuery.event.triggered===a.type?b:jQuery.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(ma)||[""],i=c.length;i--;)g=Pa.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=jQuery.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=jQuery.event.special[o]||{},m=jQuery.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&jQuery.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&!1!==k.setup.call(a,e,p,l)||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),jQuery.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=jQuery.hasData(a)&&jQuery._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ma)||[""],j=b.length;j--;)if(h=Pa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=jQuery.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||jQuery.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)jQuery.event.remove(a,n+b[j],c,d,!0);jQuery.isEmptyObject(k)&&(delete q.handle,jQuery._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||Y],o=ja.call(c,"type")?c.type:c,p=ja.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||Y,3!==e.nodeType&&8!==e.nodeType&&!Oa.test(o+jQuery.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=o.indexOf(":")<0&&"on"+o,c=c[jQuery.expando]?c:new jQuery.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:jQuery.makeArray(d,[c]),k=jQuery.event.special[o]||{},f||!k.trigger||!1!==k.trigger.apply(e,d))){if(!f&&!k.noBubble&&!jQuery.isWindow(e)){for(j=k.delegateType||o,Oa.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Y)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(jQuery._data(i,"events")||{})[c.type]&&jQuery._data(i,"handle"),g&&g.apply(i,d),(g=h&&i[h])&&jQuery.acceptData(i)&&g.apply&&!1===g.apply(i,d)&&c.preventDefault();if(c.type=o,!f&&!c.isDefaultPrevented()&&(!k._default||!1===k._default.apply(n.pop(),d))&&jQuery.acceptData(e)&&h&&e[o]&&!jQuery.isWindow(e)){l=e[h],l&&(e[h]=null),jQuery.event.triggered=o;try{e[o]()}catch(q){}jQuery.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=jQuery.event.fix(a);var c,d,e,f,g,h=[],i=ga.call(arguments),j=(jQuery._data(this,"events")||{})[a.type]||[],k=jQuery.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){for(h=jQuery.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(e.namespace)||(a.handleObj=e,a.data=e.data,(d=((jQuery.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i))!==b&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(!0!==j.disabled||"click"!==a.type)){for(f=[],g=0;g<i;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?jQuery(d,this).index(j)>=0:jQuery.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return i<c.length&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[jQuery.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Na.test(e)?this.mouseHooks:Ma.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new jQuery.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||Y,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===k()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(jQuery.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return jQuery.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=jQuery.extend(new jQuery.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?jQuery.event.trigger(e,null,b):jQuery.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},jQuery.removeEvent=Y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===W&&(a[d]=null),a.detachEvent(d,c))},jQuery.Event=function(a,b){if(!(this instanceof jQuery.Event))return new jQuery.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,b&&jQuery.extend(this,b),this.timeStamp=a&&a.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){jQuery.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||jQuery.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),jQuery.support.submitBubbles||(jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=jQuery.nodeName(c,"input")||jQuery.nodeName(c,"button")?c.form:b;d&&!jQuery._data(d,"submitBubbles")&&(jQuery.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),jQuery._data(d,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&jQuery.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.remove(this,"._submit")}}),jQuery.support.changeBubbles||(jQuery.event.special.change={setup:function(){if(La.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(jQuery.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),jQuery.event.simulate("change",this,a,!0)})),!1;jQuery.event.add(this,"beforeactivate._change",function(a){var b=a.target;La.test(b.nodeName)&&!jQuery._data(b,"changeBubbles")&&(jQuery.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||jQuery.event.simulate("change",this.parentNode,a,!0)}),jQuery._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return jQuery.event.remove(this,"._change"),!La.test(this.nodeName)}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){jQuery.event.simulate(b,a.target,jQuery.event.fix(a),!0)};jQuery.event.special[b]={setup:function(){0==c++&&Y.addEventListener(a,d,!0)},teardown:function(){0==--c&&Y.removeEventListener(a,d,!0)}}}),jQuery.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),!1===e)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return jQuery().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,a,e,d,c)})},one:function(a,b,c,d){
return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,jQuery(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return!1!==c&&"function"!=typeof c||(d=c,c=b),!1===d&&(d=j),this.each(function(){jQuery.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){jQuery.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return jQuery.event.trigger(a,b,c,!0)}});var Qa=/^.[^:#\[\.,]*$/,Ra=/^(?:parents|prev(?:Until|All))/,Sa=jQuery.expr.match.needsContext,Ta={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(jQuery(a).filter(function(){for(b=0;b<e;b++)if(jQuery.contains(d[b],this))return!0}));for(b=0;b<e;b++)jQuery.find(a,d[b],c);return c=this.pushStack(e>1?jQuery.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=jQuery(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(jQuery.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a||[],!0))},filter:function(a){return this.pushStack(m(this,a||[],!1))},is:function(a){return!!m(this,"string"==typeof a&&Sa.test(a)?jQuery(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sa.test(a)||"string"!=typeof a?jQuery(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&jQuery.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?jQuery.unique(f):f)},index:function(a){return a?"string"==typeof a?jQuery.inArray(this[0],jQuery(a)):jQuery.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?jQuery(a,b):jQuery.makeArray(a&&a.nodeType?[a]:a),d=jQuery.merge(this.get(),c);return this.pushStack(jQuery.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),jQuery.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return jQuery.dir(a,"parentNode")},parentsUntil:function(a,b,c){return jQuery.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return jQuery.dir(a,"nextSibling")},prevAll:function(a){return jQuery.dir(a,"previousSibling")},nextUntil:function(a,b,c){return jQuery.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return jQuery.dir(a,"previousSibling",c)},siblings:function(a){return jQuery.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return jQuery.sibling(a.firstChild)},contents:function(a){return jQuery.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:jQuery.merge([],a.childNodes)}},function(a,b){jQuery.fn[a]=function(c,d){var e=jQuery.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=jQuery.filter(d,e)),this.length>1&&(Ta[a]||(e=jQuery.unique(e)),Ra.test(a)&&(e=e.reverse())),this.pushStack(e)}}),jQuery.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?jQuery.find.matchesSelector(d,a)?[d]:[]:jQuery.find.matches(a,jQuery.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!jQuery(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ua="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Va=/ jQuery\d+="(?:null|\d+)"/g,Wa=new RegExp("<(?:"+Ua+")[\\s/>]","i"),Xa=/^\s+/,Ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Za=/<([\w:]+)/,$a=/<tbody/i,_a=/<|&#?\w+;/,ab=/<(?:script|style|link)/i,bb=/^(?:checkbox|radio)$/i,cb=/checked\s*(?:[^=]|=\s*.checked.)/i,db=/^$|\/(?:java|ecma)script/i,eb=/^true\/(.*)/,fb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hb=n(Y),ib=hb.appendChild(Y.createElement("div"));gb.optgroup=gb.option,gb.tbody=gb.tfoot=gb.colgroup=gb.caption=gb.thead,gb.th=gb.td,jQuery.fn.extend({text:function(a){return jQuery.access(this,function(a){return a===b?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){o(this,a).appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?jQuery.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||jQuery.cleanData(u(c)),c.parentNode&&(b&&jQuery.contains(c.ownerDocument,c)&&r(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&jQuery.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&jQuery.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return jQuery.clone(this,a,b)})},html:function(a){return jQuery.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Va,""):b;if("string"==typeof a&&!ab.test(a)&&(jQuery.support.htmlSerialize||!Wa.test(a))&&(jQuery.support.leadingWhitespace||!Xa.test(a))&&!gb[(Za.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ya,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},1===c.nodeType&&(jQuery.cleanData(u(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=jQuery.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),jQuery(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=ea.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=jQuery.isFunction(n);if(o||!(k<=1||"string"!=typeof n||jQuery.support.checkClone)&&cb.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=jQuery.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=jQuery.map(u(i,"script"),p),f=g.length;j<k;j++)e=i,j!==m&&(e=jQuery.clone(e,!0,!0),f&&jQuery.merge(g,u(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,jQuery.map(g,q),j=0;j<f;j++)e=g[j],db.test(e.type||"")&&!jQuery._data(e,"globalEval")&&jQuery.contains(h,e)&&(e.src?jQuery._evalUrl(e.src):jQuery.globalEval((e.text||e.textContent||e.innerHTML||"").replace(fb,"")));i=d=null}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){jQuery.fn[a]=function(a){for(var c,d=0,e=[],f=jQuery(a),g=f.length-1;d<=g;d++)c=d===g?this:this.clone(!0),jQuery(f[d])[b](c),fa.apply(e,c.get());return this.pushStack(e)}}),jQuery.extend({clone:function(a,b,c){var d,e,f,g,h,i=jQuery.contains(a.ownerDocument,a);if(jQuery.support.html5Clone||jQuery.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ib.innerHTML=a.outerHTML,ib.removeChild(f=ib.firstChild)),!(jQuery.support.noCloneEvent&&jQuery.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||jQuery.isXMLDoc(a)))for(d=u(f),h=u(a),g=0;null!=(e=h[g]);++g)d[g]&&t(e,d[g]);if(b)if(c)for(h=h||u(a),d=d||u(f),g=0;null!=(e=h[g]);g++)s(e,d[g]);else s(a,f);return d=u(f,"script"),d.length>0&&r(d,!i&&u(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=n(b),o=[],p=0;p<l;p++)if((f=a[p])||0===f)if("object"===jQuery.type(f))jQuery.merge(o,f.nodeType?[f]:f);else if(_a.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Za.exec(f)||["",""])[1].toLowerCase(),k=gb[i]||gb._default,h.innerHTML=k[1]+f.replace(Ya,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!jQuery.support.leadingWhitespace&&Xa.test(f)&&o.push(b.createTextNode(Xa.exec(f)[0])),!jQuery.support.tbody)for(f="table"!==i||$a.test(f)?"<table>"!==k[1]||$a.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)jQuery.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(jQuery.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else o.push(b.createTextNode(f));for(h&&m.removeChild(h),jQuery.support.appendChecked||jQuery.grep(u(o,"input"),v),p=0;f=o[p++];)if((!d||-1===jQuery.inArray(f,d))&&(g=jQuery.contains(f.ownerDocument,f),h=u(m.appendChild(f),"script"),g&&r(h),c))for(e=0;f=h[e++];)db.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=jQuery.expando,i=jQuery.cache,j=jQuery.support.deleteExpando,k=jQuery.event.special;null!=(c=a[g]);g++)if((b||jQuery.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?jQuery.event.remove(c,d):jQuery.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==W?c.removeAttribute(h):c[h]=null,da.push(e))}},_evalUrl:function(a){return jQuery.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),jQuery.fn.extend({wrapAll:function(a){if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).wrapAll(a.call(this,b))});if(this[0]){var b=jQuery(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return jQuery.isFunction(a)?this.each(function(b){jQuery(this).wrapInner(a.call(this,b))}):this.each(function(){var b=jQuery(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=jQuery.isFunction(a);return this.each(function(c){jQuery(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}});var jb,kb,lb,mb=/alpha\([^)]*\)/i,nb=/opacity\s*=\s*([^)]*)/,ob=/^(top|right|bottom|left)$/,pb=/^(none|table(?!-c[ea]).+)/,qb=/^margin/,rb=new RegExp("^("+la+")(.*)$","i"),sb=new RegExp("^("+la+")(?!px)[a-z%]+$","i"),tb=new RegExp("^([+-])=("+la+")","i"),ub={BODY:"block"},vb={position:"absolute",visibility:"hidden",display:"block"},wb={letterSpacing:0,fontWeight:400},xb=["Top","Right","Bottom","Left"],yb=["Webkit","O","Moz","ms"];jQuery.fn.extend({css:function(a,c){return jQuery.access(this,function(a,c,d){var e,f,g={},h=0;if(jQuery.isArray(c)){for(f=kb(a),e=c.length;h<e;h++)g[c[h]]=jQuery.css(a,c[h],!1,f);return g}return d!==b?jQuery.style(a,c,d):jQuery.css(a,c)},a,c,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){x(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=jQuery.camelCase(c),j=a.style;if(c=jQuery.cssProps[i]||(jQuery.cssProps[i]=w(j,i)),h=jQuery.cssHooks[c]||jQuery.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(!(g=typeof d,"string"===g&&(f=tb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(jQuery.css(a,c)),g="number"),null==d||"number"===g&&isNaN(d)||("number"!==g||jQuery.cssNumber[i]||(d+="px"),jQuery.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=jQuery.camelCase(c);return c=jQuery.cssProps[i]||(jQuery.cssProps[i]=w(a.style,i)),h=jQuery.cssHooks[c]||jQuery.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lb(a,c,e)),"normal"===g&&c in wb&&(g=wb[c]),""===d||d?(f=parseFloat(g),!0===d||jQuery.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(kb=function(b){return a.getComputedStyle(b,null)},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||jQuery.contains(a.ownerDocument,a)||(i=jQuery.style(a,c)),sb.test(i)&&qb.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Y.documentElement.currentStyle&&(kb=function(a){return a.currentStyle},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sb.test(i)&&!ob.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),jQuery.each(["height","width"],function(a,b){jQuery.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&pb.test(jQuery.css(a,"display"))?jQuery.swap(a,vb,function(){return B(a,b,d)}):B(a,b,d)},set:function(a,c,d){var e=d&&kb(a);return z(a,c,d?A(a,b,d,jQuery.support.boxSizing&&"border-box"===jQuery.css(a,"boxSizing",!1,e),e):0)}}}),jQuery.support.opacity||(jQuery.cssHooks.opacity={get:function(a,b){return nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=jQuery.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===jQuery.trim(f.replace(mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mb.test(f)?f.replace(mb,e):f+" "+e)}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(a,b){if(b)return jQuery.swap(a,{display:"inline-block"},lb,[a,"marginRight"])}}),!jQuery.support.pixelPosition&&jQuery.fn.position&&jQuery.each(["top","left"],function(a,b){jQuery.cssHooks[b]={get:function(a,c){if(c)return c=lb(a,b),sb.test(c)?jQuery(a).position()[b]+"px":c}}})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!jQuery.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||jQuery.css(a,"display"))},jQuery.expr.filters.visible=function(a){return!jQuery.expr.filters.hidden(a)}),jQuery.each({margin:"",padding:"",border:"Width"},function(a,b){jQuery.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+xb[d]+b]=f[d]||f[d-2]||f[0];return e}},qb.test(a)||(jQuery.cssHooks[a+b].set=z)});var zb=/%20/g,Ab=/\[\]$/,Bb=/\r?\n/g,Cb=/^(?:submit|button|image|reset|file)$/i,Db=/^(?:input|select|textarea|keygen)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=jQuery.prop(this,"elements");return a?jQuery.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!jQuery(this).is(":disabled")&&Db.test(this.nodeName)&&!Cb.test(a)&&(this.checked||!bb.test(a))}).map(function(a,b){var c=jQuery(this).val();return null==c?null:jQuery.isArray(c)?jQuery.map(c,function(a){return{name:b.name,value:a.replace(Bb,"\r\n")}}):{name:b.name,value:c.replace(Bb,"\r\n")}}).get()}}),jQuery.param=function(a,c){var d,e=[],f=function(a,b){b=jQuery.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){f(this.name,this.value)});else for(d in a)E(d,a[d],c,f);return e.join("&").replace(zb,"+")},jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){jQuery.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),jQuery.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Eb,Fb,Gb=jQuery.now(),Hb=/\?/,Ib=/#.*$/,Jb=/([?&])_=[^&]*/,Kb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mb=/^(?:GET|HEAD)$/,Nb=/^\/\//,Ob=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pb=jQuery.fn.load,Qb={},Rb={},Sb="*/".concat("*");try{Fb=X.href}catch(ec){Fb=Y.createElement("a"),Fb.href="",Fb=Fb.href}Eb=Ob.exec(Fb.toLowerCase())||[],jQuery.fn.load=function(a,c,d){if("string"!=typeof a&&Pb)return Pb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),jQuery.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&jQuery.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?jQuery("<div>").append(jQuery.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){jQuery.fn[b]=function(a){return this.on(b,a)}}),jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fb,type:"GET",isLocal:Lb.test(Eb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?H(H(a,jQuery.ajaxSettings),b):H(jQuery.ajaxSettings,a)},ajaxPrefilter:F(Qb),ajaxTransport:F(Rb),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,f=a>=200&&a<300||304===a,d&&(t=I(m,w,d)),t=J(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(jQuery.lastModified[g]=v),(v=w.getResponseHeader("etag"))&&(jQuery.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,!a&&x||(x="error",a<0&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=jQuery.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?jQuery(n):jQuery.event,p=jQuery.Deferred(),q=jQuery.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kb.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fb)+"").replace(Ib,"").replace(Nb,Eb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=jQuery.trim(m.dataType||"*").toLowerCase().match(ma)||[""],null==m.crossDomain&&(e=Ob.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Eb[1]&&e[2]===Eb[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Eb[3]||("http:"===Eb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=jQuery.param(m.data,m.traditional)),G(Qb,m,c,w),2===u)return w;j=m.global,j&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hb.test(g)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Jb.test(g)?g.replace(Jb,"$1_="+Gb++):g+(Hb.test(g)?"&":"?")+"_="+Gb++)),m.ifModified&&(jQuery.lastModified[g]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[g]),jQuery.etag[g]&&w.setRequestHeader("If-None-Match",jQuery.etag[g])),(m.data&&m.hasContent&&!1!==m.contentType||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sb+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(!1===m.beforeSend.call(n,w,m)||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=G(Rb,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(ec){if(!(u<2))throw ec;d(-1,ec)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return jQuery.get(a,b,c,"json")},getScript:function(a,c){return jQuery.get(a,b,c,"script")}}),jQuery.each(["get","post"],function(a,c){jQuery[c]=function(a,d,e,f){return jQuery.isFunction(d)&&(f=f||e,e=d,d=b),jQuery.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),jQuery.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return jQuery.globalEval(a),a}}}),jQuery.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),jQuery.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=Y.head||jQuery("head")[0]||Y.documentElement;return{send:function(_,b){c=Y.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(_,a){(a||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,a||b(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Tb=[],Ub=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tb.pop()||jQuery.expando+"_"+Gb++;return this[a]=!0,a}}),jQuery.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=!1!==c.jsonp&&(Ub.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ub.test(c.data)&&"data");if(i||"jsonp"===c.dataTypes[0])return f=c.jsonpCallback=jQuery.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Ub,"$1"+f):!1!==c.jsonp&&(c.url+=(Hb.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||jQuery.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Tb.push(f)),h&&jQuery.isFunction(g)&&g(h[0]),h=g=b}),"script"});var Vb,Wb,Xb=0,Yb=a.ActiveXObject&&function(){var a;for(a in Vb)Vb[a](b,!0)};jQuery.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&K()||L()}:K,Wb=jQuery.ajaxSettings.xhr(),jQuery.support.cors=!!Wb&&"withCredentials"in Wb,(Wb=jQuery.support.ajax=!!Wb)&&jQuery.ajaxTransport(function(c){if(!c.crossDomain||jQuery.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(_,a){var e,h,j,k;try{if(d&&(a||4===i.readyState))if(d=b,g&&(i.onreadystatechange=jQuery.noop,Yb&&delete Vb[g]),a)4!==i.readyState&&i.abort();else{k={},e=i.status,h=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(k.text=i.responseText);try{j=i.statusText}catch(ec){j=""}e||!c.isLocal||c.crossDomain?1223===e&&(e=204):e=k.text?200:404}}catch(l){a||f(-1,l)}k&&f(e,j,k,h)},c.async?4===i.readyState?setTimeout(d):(g=++Xb,Yb&&(Vb||(Vb={},jQuery(a).unload(Yb)),Vb[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var Zb,$b,_b=/^(?:toggle|show|hide)$/,ac=new RegExp("^(?:([+-])=|)("+la+")([a-z%]*)$","i"),bc=/queueHooks$/,cc=[Q],dc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=ac.exec(b),f=e&&e[3]||(jQuery.cssNumber[a]?"":"px"),g=(jQuery.cssNumber[a]||"px"!==f&&+d)&&ac.exec(jQuery.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,jQuery.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};jQuery.Animation=jQuery.extend(O,{tweener:function(a,b){jQuery.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],dc[c]=dc[c]||[],dc[c].unshift(b)},prefilter:function(a,b){b?cc.unshift(a):cc.push(a)}}),jQuery.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(jQuery.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.options.duration?this.pos=b=jQuery.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=jQuery.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){jQuery.fx.step[a.prop]?jQuery.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[jQuery.cssProps[a.prop]]||jQuery.cssHooks[a.prop])?jQuery.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},jQuery.each(["toggle","show","hide"],function(a,b){var c=jQuery.fn[b];jQuery.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(S(b,!0),a,d,e)}}),jQuery.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=jQuery.isEmptyObject(a),f=jQuery.speed(b,c,d),g=function(){var b=O(this,jQuery.extend({},a),f);(e||jQuery._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=jQuery.timers,g=jQuery._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&bc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));!b&&d||jQuery.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=jQuery._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=jQuery.timers,g=d?d.length:0;for(c.finish=!0,jQuery.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),jQuery.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){jQuery.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),jQuery.speed=function(a,b,c){var d=a&&"object"==typeof a?jQuery.extend({},a):{complete:c||!c&&b||jQuery.isFunction(a)&&a,duration:a,easing:c&&b||b&&!jQuery.isFunction(b)&&b};return d.duration=jQuery.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in jQuery.fx.speeds?jQuery.fx.speeds[d.duration]:jQuery.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){jQuery.isFunction(d.old)&&d.old.call(this),d.queue&&jQuery.dequeue(this,d.queue)},d},jQuery.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},jQuery.timers=[],jQuery.fx=R.prototype.init,jQuery.fx.tick=function(){var a,c=jQuery.timers,d=0;for(Zb=jQuery.now();d<c.length;d++)(a=c[d])()||c[d]!==a||c.splice(d--,1);c.length||jQuery.fx.stop(),Zb=b},jQuery.fx.timer=function(a){a()&&jQuery.timers.push(a)&&jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){$b||($b=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval($b),$b=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fx.step={},jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(a){return jQuery.grep(jQuery.timers,function(b){return a===b.elem}).length}),jQuery.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){jQuery.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return c=g.documentElement,jQuery.contains(c,f)?(typeof f.getBoundingClientRect!==W&&(e=f.getBoundingClientRect()),d=T(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e},jQuery.offset={setOffset:function(a,b,c){var d=jQuery.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=jQuery(a),h=g.offset(),i=jQuery.css(a,"top"),j=jQuery.css(a,"left"),k=("absolute"===d||"fixed"===d)&&jQuery.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),jQuery.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},jQuery.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===jQuery.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),jQuery.nodeName(a[0],"html")||(c=a.offset()),c.top+=jQuery.css(a[0],"borderTopWidth",!0),c.left+=jQuery.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-jQuery.css(d,"marginTop",!0),left:b.left-c.left-jQuery.css(d,"marginLeft",!0)}}},
offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Z;a&&!jQuery.nodeName(a,"html")&&"static"===jQuery.css(a,"position");)a=a.offsetParent;return a||Z})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);jQuery.fn[a]=function(e){return jQuery.access(this,function(a,e,f){var g=T(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?jQuery(g).scrollLeft():f,d?f:jQuery(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),jQuery.each({Height:"height",Width:"width"},function(a,c){jQuery.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){jQuery.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(!0===e||!0===f?"margin":"border");return jQuery.access(this,function(c,d,e){var f;return jQuery.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?jQuery.css(c,d,h):jQuery.style(c,d,e,h)},c,g?e:b,g,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=jQuery:(a.jQuery=a.$=jQuery,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery}))}(window),function(){function a(a){function b(b,c,d,e,f,g){for(;f>=0&&f<g;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=s(d,f,4);var g=!z(c)&&_.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function b(a){return function(b,c,d){c=t(c,d);for(var e=y(b),f=a>0?0:e-1;f>=0&&f<e;f+=a)if(c(b[f],f,b))return f;return-1}}function c(a,b,c){return function(d,e,f){var g=0,h=y(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(k.call(d,g,h),_.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&f<h;f+=a)if(d[f]===e)return f;return-1}}function d(a,b){var c=E.length,d=a.constructor,e=_.isFunction(d)&&d.prototype||h,f="constructor";for(_.has(a,f)&&!_.contains(b,f)&&b.push(f);c--;)(f=E[c])in a&&a[f]!==e[f]&&!_.contains(b,f)&&b.push(f)}var e=this,f=e._,g=Array.prototype,h=Object.prototype,i=Function.prototype,j=g.push,k=g.slice,l=h.toString,m=h.hasOwnProperty,n=Array.isArray,o=Object.keys,p=i.bind,q=Object.create,r=function(){},_=function(a){return a instanceof _?a:this instanceof _?void(this._wrapped=a):new _(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):e._=_,_.VERSION="1.8.3";var s=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},t=function(a,b,c){return null==a?_.identity:_.isFunction(a)?s(a,b,c):_.isObject(a)?_.matcher(a):_.property(a)};_.iteratee=function(a,b){return t(a,b,Infinity)};var u=function(a,b){return function(c){var d=arguments.length;if(d<2||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;i<h;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},v=function(a){if(!_.isObject(a))return{};if(q)return q(a);r.prototype=a;var b=new r;return r.prototype=null,b},w=function(a){return function(b){return null==b?void 0:b[a]}},x=Math.pow(2,53)-1,y=w("length"),z=function(a){var b=y(a);return"number"==typeof b&&b>=0&&b<=x};_.each=_.forEach=function(a,b,c){b=s(b,c);var d,e;if(z(a))for(d=0,e=a.length;d<e;d++)b(a[d],d,a);else{var f=_.keys(a);for(d=0,e=f.length;d<e;d++)b(a[f[d]],f[d],a)}return a},_.map=_.collect=function(a,b,c){b=t(b,c);for(var d=!z(a)&&_.keys(a),e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},_.reduce=_.foldl=_.inject=a(1),_.reduceRight=_.foldr=a(-1),_.find=_.detect=function(a,b,c){var d;if(void 0!==(d=z(a)?_.findIndex(a,b,c):_.findKey(a,b,c))&&-1!==d)return a[d]},_.filter=_.select=function(a,b,c){var d=[];return b=t(b,c),_.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},_.reject=function(a,b,c){return _.filter(a,_.negate(t(b)),c)},_.every=_.all=function(a,b,c){b=t(b,c);for(var d=!z(a)&&_.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},_.some=_.any=function(a,b,c){b=t(b,c);for(var d=!z(a)&&_.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},_.contains=_.includes=_.include=function(a,b,c,d){return z(a)||(a=_.values(a)),("number"!=typeof c||d)&&(c=0),_.indexOf(a,b,c)>=0},_.invoke=function(a,b){var c=k.call(arguments,2),d=_.isFunction(b);return _.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},_.pluck=function(a,b){return _.map(a,_.property(b))},_.where=function(a,b){return _.filter(a,_.matcher(b))},_.findWhere=function(a,b){return _.find(a,_.matcher(b))},_.max=function(a,b,c){var d,e,f=-Infinity,g=-Infinity;if(null==b&&null!=a){a=z(a)?a:_.values(a);for(var h=0,i=a.length;h<i;h++)(d=a[h])>f&&(f=d)}else b=t(b,c),_.each(a,function(a,c,d){((e=b(a,c,d))>g||e===-Infinity&&f===-Infinity)&&(f=a,g=e)});return f},_.min=function(a,b,c){var d,e,f=Infinity,g=Infinity;if(null==b&&null!=a){a=z(a)?a:_.values(a);for(var h=0,i=a.length;h<i;h++)(d=a[h])<f&&(f=d)}else b=t(b,c),_.each(a,function(a,c,d){((e=b(a,c,d))<g||e===Infinity&&f===Infinity)&&(f=a,g=e)});return f},_.shuffle=function(a){for(var b,c=z(a)?a:_.values(a),d=c.length,e=Array(d),f=0;f<d;f++)b=_.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},_.sample=function(a,b,c){return null==b||c?(z(a)||(a=_.values(a)),a[_.random(a.length-1)]):_.shuffle(a).slice(0,Math.max(0,b))},_.sortBy=function(a,b,c){return b=t(b,c),_.pluck(_.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var A=function(a){return function(b,c,d){var e={};return c=t(c,d),_.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};_.groupBy=A(function(a,b,c){_.has(a,c)?a[c].push(b):a[c]=[b]}),_.indexBy=A(function(a,b,c){a[c]=b}),_.countBy=A(function(a,b,c){_.has(a,c)?a[c]++:a[c]=1}),_.toArray=function(a){return a?_.isArray(a)?k.call(a):z(a)?_.map(a,_.identity):_.values(a):[]},_.size=function(a){return null==a?0:z(a)?a.length:_.keys(a).length},_.partition=function(a,b,c){b=t(b,c);var d=[],e=[];return _.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},_.first=_.head=_.take=function(a,b,c){if(null!=a)return null==b||c?a[0]:_.initial(a,a.length-b)},_.initial=function(a,b,c){return k.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},_.last=function(a,b,c){if(null!=a)return null==b||c?a[a.length-1]:_.rest(a,Math.max(0,a.length-b))},_.rest=_.tail=_.drop=function(a,b,c){return k.call(a,null==b||c?1:b)},_.compact=function(a){return _.filter(a,_.identity)};var B=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=y(a);g<h;g++){var i=a[g];if(z(i)&&(_.isArray(i)||_.isArguments(i))){b||(i=B(i,b,c));var j=0,k=i.length;for(e.length+=k;j<k;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};_.flatten=function(a,b){return B(a,b,!1)},_.without=function(a){return _.difference(a,k.call(arguments,1))},_.uniq=_.unique=function(a,b,c,d){_.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=t(c,d));for(var e=[],f=[],g=0,h=y(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?_.contains(f,j)||(f.push(j),e.push(i)):_.contains(e,i)||e.push(i)}return e},_.union=function(){return _.uniq(B(arguments,!0,!0))},_.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=y(a);d<e;d++){var f=a[d];if(!_.contains(b,f)){for(var g=1;g<c&&_.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},_.difference=function(a){var b=B(arguments,!0,!0,1);return _.filter(a,function(a){return!_.contains(b,a)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(a){for(var b=a&&_.max(a,y).length||0,c=Array(b),d=0;d<b;d++)c[d]=_.pluck(a,d);return c},_.object=function(a,b){for(var c={},d=0,e=y(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},_.findIndex=b(1),_.findLastIndex=b(-1),_.sortedIndex=function(a,b,c,d){c=t(c,d,1);for(var e=c(b),f=0,g=y(a);f<g;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},_.indexOf=c(1,_.findIndex,_.sortedIndex),_.lastIndexOf=c(-1,_.findLastIndex),_.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e};var C=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=v(a.prototype),g=a.apply(f,e);return _.isObject(g)?g:f};_.bind=function(a,b){if(p&&a.bind===p)return p.apply(a,k.call(arguments,1));if(!_.isFunction(a))throw new TypeError("Bind must be called on a function");var c=k.call(arguments,2),d=function(){return C(a,d,b,this,c.concat(k.call(arguments)))};return d},_.partial=function(a){var b=k.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;g<e;g++)f[g]=b[g]===_?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return C(a,c,this,this,f)};return c},_.bindAll=function(a){var b,c,d=arguments.length;if(d<=1)throw new Error("bindAll must be passed function names");for(b=1;b<d;b++)c=arguments[b],a[c]=_.bind(a[c],a);return a},_.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return _.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},_.delay=function(a,b){var c=k.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},_.defer=_.partial(_.delay,_,1),_.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=!1===c.leading?0:_.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=_.now();h||!1!==c.leading||(h=j);var k=b-(j-h);return d=this,e=arguments,k<=0||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||!1===c.trailing||(g=setTimeout(i,k)),f}},_.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=_.now()-g;j<b&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=_.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},_.wrap=function(a,b){return _.partial(b,a)},_.negate=function(a){return function(){return!a.apply(this,arguments)}},_.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},_.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},_.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=null),c}},_.once=_.partial(_.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(a){if(!_.isObject(a))return[];if(o)return o(a);var b=[];for(var c in a)_.has(a,c)&&b.push(c);return D&&d(a,b),b},_.allKeys=function(a){if(!_.isObject(a))return[];var b=[];for(var c in a)b.push(c);return D&&d(a,b),b},_.values=function(a){for(var b=_.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d},_.mapObject=function(a,b,c){b=t(b,c);for(var d,e=_.keys(a),f=e.length,g={},h=0;h<f;h++)d=e[h],g[d]=b(a[d],d,a);return g},_.pairs=function(a){for(var b=_.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},_.invert=function(a){for(var b={},c=_.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b},_.functions=_.methods=function(a){var b=[];for(var c in a)_.isFunction(a[c])&&b.push(c);return b.sort()},_.extend=u(_.allKeys),_.extendOwn=_.assign=u(_.keys),_.findKey=function(a,b,c){b=t(b,c);for(var d,e=_.keys(a),f=0,g=e.length;f<g;f++)if(d=e[f],b(a[d],d,a))return d},_.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;_.isFunction(b)?(e=_.allKeys(g),d=s(b,c)):(e=B(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;h<i;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},_.omit=function(a,b,c){if(_.isFunction(b))b=_.negate(b);else{var d=_.map(B(arguments,!1,!1,1),String);b=function(a,b){return!_.contains(d,b)}}return _.pick(a,b,c)},_.defaults=u(_.allKeys,!0),_.create=function(a,b){var c=v(a);return b&&_.extendOwn(c,b),c},_.clone=function(a){return _.isObject(a)?_.isArray(a)?a.slice():_.extend({},a):a},_.tap=function(a,b){return b(a),a},_.isMatch=function(a,b){var c=_.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var e=l.call(a);if(e!==l.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(_.isFunction(g)&&g instanceof g&&_.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if((i=a.length)!==b.length)return!1;for(;i--;)if(!F(a[i],b[i],c,d))return!1}else{var j,k=_.keys(a);if(i=k.length,_.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!_.has(b,j)||!F(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};_.isEqual=function(a,b){return F(a,b)},_.isEmpty=function(a){return null==a||(z(a)&&(_.isArray(a)||_.isString(a)||_.isArguments(a))?0===a.length:0===_.keys(a).length)},_.isElement=function(a){return!(!a||1!==a.nodeType)},_.isArray=n||function(a){return"[object Array]"===l.call(a)},_.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){_["is"+a]=function(b){return l.call(b)==="[object "+a+"]"}}),_.isArguments(arguments)||(_.isArguments=function(a){return _.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(a){return"function"==typeof a||!1}),_.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},_.isNaN=function(a){return _.isNumber(a)&&a!==+a},_.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===l.call(a)},_.isNull=function(a){return null===a},_.isUndefined=function(a){return void 0===a},_.has=function(a,b){return null!=a&&m.call(a,b)},_.noConflict=function(){return e._=f,this},_.identity=function(a){return a},_.constant=function(a){return function(){return a}},_.noop=function(){},_.property=w,_.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},_.matcher=_.matches=function(a){return a=_.extendOwn({},a),function(b){return _.isMatch(b,a)}},_.times=function(a,b,c){var d=Array(Math.max(0,a));b=s(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d},_.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},_.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=_.invert(G),I=function(a){var b=function(b){return a[b]},c="(?:"+_.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};_.escape=I(G),_.unescape=I(H),_.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),_.isFunction(d)?d.call(a):d};var J=0;_.uniqueId=function(a){var b=++J+"";return a?a+b:b},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\u2028|\u2029/g,N=function(a){return"\\"+L[a]};_.template=function(a,b,c){!b&&c&&(b=c),b=_.defaults({},b,_.templateSettings);var d=RegExp([(b.escape||K).source,(b.interpolate||K).source,(b.evaluate||K).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(M,N),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(i){throw i.source=f,i}var h=function(a){return g.call(this,a,_)};return h.source="function("+(b.variable||"obj")+"){\n"+f+"}",h},_.chain=function(a){var b=_(a);return b._chain=!0,b};var O=function(a,b){return a._chain?_(b).chain():b};_.mixin=function(a){_.each(_.functions(a),function(b){var c=_[b]=a[b];_.prototype[b]=function(){var a=[this._wrapped];return j.apply(a,arguments),O(this,c.apply(_,a))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=g[a];_.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],O(this,c)}}),_.each(["concat","join","slice"],function(a){var b=g[a];_.prototype[a]=function(){return O(this,b.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}.call(this),function(){var a,b=[],c=[],d=window.fish={version:"v3.19.1",language:"en",locale:{},getResource:function(a){if(!a)return"";var b;b=this.locale.hasOwnProperty(this.language)?this.locale[this.language]:this.locale.en;for(var c=a.split("."),d=0,e=c.length;d<e;d++){if(!b){b="UNKNOWN_KEY_"+a;break}b=b[c[d]]}return b},setLanguage:function(a){this.language=a,_.each(b,function(a){a()})},addLangListener:function(a){b.push(a)}};d._active=0,d.latencyThreshold=2e3,d.customMasks=[],d.customActive=[],d.ajax=function(b){b=$.extend({showMask:!1,showError:!0,type:"post",dataType:"json"},b);var e=b.beforeSend,f=b.success,g=b.error,h=function(){b.showMask&&(b.showMask instanceof $?d.latencyThreshold>0?d.customMasks.forEach(function(a,e){b.showMask.is(a)&&0==--d.customActive[e]&&(clearTimeout(c[e]),$.fn.unblockUI&&a.unblockUI(),d.customMasks.splice(e,1),d.customActive.splice(e,1),c.splice(e,1))}):$.fn.unblockUI&&b.showMask.unblockUI():0==--d._active&&(d.latencyThreshold>0&&clearTimeout(a),$.unblockUI&&$.unblockUI()))};return b.success=[h,f],b.error=[h,g],b.beforeSend=function(f,g){var h=b.context||this;if(e&&!1===e.apply(h,[f,g]))return!1;if(b.showMask)if(b.showMask instanceof $){var i=!1;if(d.customMasks.forEach(function(a,c){b.showMask.is(a)&&(d.customActive[c]++,i=!0)}),!i)if(d.latencyThreshold>0){d.customMasks.push(b.showMask),d.customActive.push(1),$.fn.blockUI&&b.showMask.blockUI({blockMsgClass:"blocking"});var j=setTimeout(function(){b.showMask.find("> .blockUI.blocking").removeClass("blocking")},d.latencyThreshold);c.push(j)}else $.fn.blockUI&&b.showMask.blockUI()}else 0==d._active++&&(d.latencyThreshold>0?($.blockUI&&$.blockUI({blockMsgClass:"blocking"}),a=setTimeout(function(){$("body").find("> .blockUI.blocking").removeClass("blocking")},d.latencyThreshold)):$.blockUI&&$.blockUI())},b.showError&&(b.error=[function(a,c,e){d.error({title:"Ajax "+c,message:b.url+" "+e})},b.error]),$.ajax(b)},d.wait=function(a){if($.isFunction(a)){0==d._active++&&$.blockUI&&$.blockUI();var b=Array.prototype.slice.call(arguments,1);return setTimeout(function(){var c=a.apply(null,b);return 0==--d._active&&$.unblockUI&&$.unblockUI(),c},100)}},$.extend(d,{htmlDecode:function(a){return _.unescape(a)},htmlEncode:function(a){return _.escape(a)},msie:"Microsoft Internet Explorer"===navigator.appName,isIE:!!window.ActiveXObject||"ActiveXObject"in window,msiever:function(){var a=-1,b=navigator.userAgent;return null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(b)&&(a=parseFloat(RegExp.$1)),a},getAccessor:function(a,b){var c,d,e,f=[];if((c=a[b])===undefined)try{if("string"==typeof b&&(f=b.split(".")),e=f.length)for(c=a;c&&e--;)d=f.shift(),c=c[d]}catch(g){}return c},setAccessor:function(a,b,c){var d,e,f,g=[];if((d=a[b])===undefined)try{if("string"==typeof b&&(g=b.split(".")),f=g.length)for(d=a;d&&f--;){if(e=g.shift(),0===f)return void(d[e]=c);d=d[e]}}catch(h){}else a[b]=c}}),d.createCallback=function(a,b){return function(){var c=arguments;c=$.extend(c,b),a.call(window,c)}};var e=-1;d.getScrollBarWidth=function(){if(-1!=e)return e;var a=document.createElement("div");return a.className="modal-scrollbar-measure",document.body.appendChild(a),e=a.offsetWidth-a.clientWidth,document.body.removeChild(a),e},d.widgetInstance=function(a){var b=a.attr("data-ui-role");if(b)return a.data("ui-"+b)},d.getUUID=function(){var a,b="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",d=c.length;for(a=0;a<32;a++)b+=c.charAt(Math.floor(Math.random()*d));return b},d.substitute=function(a){if(null==a)return"";var b=Array.prototype.slice.call(arguments,1);return 1==b.length&&_.isArray(b[0])&&(b=b[0]),a=a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})},d.nest=function(a,b,c,e){var f,g;if(!b||""==b||!a)return[];if(d.isArray(a)){var h=[],i=[];for(f=0,g=a.length;f<g;f++)i[a[f][b]]=a[f];for(f=0,g=a.length;f<g;f++)i[a[f][c]]&&a[f][b]!=a[f][c]?(i[a[f][c]][e]||(i[a[f][c]][e]=[]),i[a[f][c]][e].push(a[f])):h.push(a[f]);return h}return[a]}}(),function(){fish.browser=function(a){return/msie|trident/i.test(a)?{name:"Internet Explorer",msie:!0,version:function(b){var c=a.match(b);return c&&c.length>1&&c[1]||""}(/(?:msie |rv:)(\d+(\.\d+)?)/i),userAgent:a}:{userAgent:a}}(navigator.userAgent)}(),function(a,_){_.extend(a,_.omit(_,"VERSION"))}(fish,_),function(){"use strict";function a(a,b){return $.contains(a,b)?-1:1}function b(){return $(this).is(":visible")}var c,d,e="debouncedresize",f=$.event;c=f.special.debouncedresize={setup:function(){$(this).on("resize",c.handler)},teardown:function(){$(this).off("resize",c.handler)},handler:function(a,b){var g,h;d&&clearTimeout(d),g=this,fish.browser.msie&&fish.browser.version<9&&(a=$.extend(!0,{},a)),h=function(){a.type=e,f.dispatch.apply(g,[a])},b?h():d=setTimeout(h,c.threshold)},threshold:150},fish.onResize=function(a){return $(window).on(e,a),a},fish.offResize=function(a){$(window).off(e,a)},fish.resize=function(c,d){var e=$(c).find("[data-ui-role]").addBack().filter(b);if(e.length){var f=$.makeArray(e);f.sort(a),$.each(f,function(){var a=fish.widgetInstance($(this));a&&a.resize(d)})}}}(),function($){"use strict";function a(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(a.style[c]!==undefined)return{end:b[c]};return!1}$.fn.emulateTransitionEnd=function(a){var b=!1,c=this;$(this).one("bsTransitionEnd",function(){b=!0});var d=function(){b||$(c).trigger($.support.transition.end)};return setTimeout(d,a),this},$(function(){$.support.transition=a(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(a){if($(a.target).is(this))return a.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(){function a(a){return a&&"function"==typeof a.promise}function b(b){return a(b)&&b.hasOwnProperty("readyState")}var c=Array.prototype.slice;$.parallel=function(a){fish.isArray(a)||(a=c.call(arguments)),a=a.map(function(a){return a()});var d=$.Deferred();return $.when.apply(null,a).done(function(){1===a.length?d.resolve([arguments[0]]):d.resolve(c.call(arguments).map(function(c,d){return b(a[d])?c[0]:c}))}),d.promise()},$.series=function(a,b){fish.isArray(a)||(a=c.call(arguments),b="");var d=$.Deferred(),e=$.Deferred();return a.reduce(function(a,b){return a.then(function(){return b.apply(null,c.call(arguments))},d.reject)},e.promise()).then(d.resolve,d.reject),e.resolve(b),d.promise()},$.promisify=function(b){if(a(b))return b;var c=$.Deferred();return c.resolve(b),c.promise()},$.polling=function(a,b){function d(){g=setTimeout(function(){i++,$.promisify(a.apply(null,h)).then(function(){g&&d()})},b)}function e(){clearTimeout(g),g=null}function f(){return i}var g,h=c.call(arguments,2),i=0;return{start:d,stop:e,times:f}}}(),function(){"use strict";var a={trackURL:"",isShowLog:!0,dateDisplayFormat:{datetime:"yyyy-mm-dd hh:ii:ss",date:"yyyy-mm-dd",time:"hh:ii:ss"},dateParseFormat:{datetime:"yyyy-mm-dd hh:ii:ss",date:"yyyy-mm-dd",time:"hh:ii:ss"}},b={};fish.config={get:function(b){for(var c=b.split("."),d=a,e=0,f=c.length;e<f;e++)if(d=d[c[e]],_.isUndefined(d))return d;return d},set:function(c,d){for(var e=c.split("."),f=a,g=0,h=e.length;g<h-1;g++)_.isUndefined(f[e[g]])&&(f[e[g]]={}),f=f[e[g]];f[e[h-1]]=d,c in b&&_.each(b[c],function(a){a()})},addListener:function(a,c){a in b?b[a].push(c):b[a]=[c]}}}(),function(a){"function"==typeof define&&define.amd?define("fish.dateutil",a):a()}(function(){function a(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)}function b(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999)}function c(a,b){var c=new Date(a.getTime());return c.setYear(a.getFullYear()+b),c}function d(a,b){var c=new Date(a.getTime());return c.setMonth(a.getMonth()+b),c=i(a,c)}function e(a,b){return h(a,r,b)}function f(a,b){return h(a,q,b)}function g(a,b){return h(a,p,b)}function h(a,b,c){var d=a.getTime()+b*c;return new Date(d)}function i(a,b){var c=b;return a.getDate()>c.getDate()&&(c=e(b,-b.getDate())),c}function j(a,b){if(null==a)return"";null==b&&(b="datetime");var c=fish.getResource("datetimepicker.meridiem"),d=fish.getResource("datetimepicker.monthsShort"),e=fish.getResource("datetimepicker.months"),f=fish.getResource("datetimepicker.daysShort"),g=fish.getResource("datetimepicker.days"),h={yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear(),m:a.getMonth()+1,M:d[a.getMonth()],MM:e[a.getMonth()],d:a.getDate(),D:f[a.getDay()],DD:g[a.getDay()],p:2==c.length?c[a.getHours()<12?0:1]:"",h:a.getHours(),i:a.getMinutes(),s:a.getSeconds()},i={date:function(){return fish.config.get("dateDisplayFormat.date")},time:function(){return fish.config.get("dateDisplayFormat.time")},datetime:function(){return fish.config.get("dateDisplayFormat.datetime")}};"function"==typeof i[b]&&(b=i[b]()),b=k(b),2==c.length?h.H=h.h%12==0?12:h.h%12:h.H=h.h,h.HH=(h.H<10?"0":"")+h.H,h.P=h.p.toUpperCase(),h.hh=(h.h<10?"0":"")+h.h,h.ii=(h.i<10?"0":"")+h.i,h.ss=(h.s<10?"0":"")+h.s,h.dd=(h.d<10?"0":"")+h.d,h.mm=(h.m<10?"0":"")+h.m,a=[];for(var j=$.extend([],b.separators),l=0,m=b.parts.length;l<m;l++)j.length&&a.push(j.shift()),a.push(h[b.parts[l]]);return j.length&&a.push(j.shift()),a.join("")}function k(a){var b=/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g,c=a.replace(b,"\0").split("\0"),d=a.match(b);if(!c||!c.length||!d||0==d.length)throw new Error("Invalid date format.");return{separators:c,parts:d}}function l(a,b){if(a instanceof Date)return a;if(!a||!_.isString(a))return null;if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(a)){var e,f,g=/([-+]\d+)([dmwy])/,h=a.match(/([-+]\d+)([dmwy])/g);a=new Date;for(var i=0;i<h.length;i++)switch(e=g.exec(h[i]),f=parseInt(e[1]),e[2]){case"d":a.setDate(a.getDate()+f);break;case"m":a=d(a,f);break;case"w":a.setDate(a.getDate()+7*f);break;case"y":a=c(a,f)}return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),0)}var j,l,m,n,o=fish.getResource("datetimepicker.months"),p=fish.getResource("datetimepicker.monthsShort"),q=fish.getResource("datetimepicker.meridian"),r={},t=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],u={hh:function(a,b){return a.setHours(b)},h:function(a,b){return a.setHours(b)},HH:function(a,b){return a.setHours(12==b?0:b)},H:function(a,b){return a.setHours(12==b?0:b)},ii:function(a,b){return a.setMinutes(b)},i:function(a,b){return a.setMinutes(b)},ss:function(a,b){return a.setSeconds(b)},s:function(a,b){return a.setSeconds(b)},yyyy:function(a,b){return a.setFullYear(b)},yy:function(a,b){return a.setFullYear(2e3+b)},m:function(a,b){for(b-=1;b<0;)b+=12;for(b%=12,a.setMonth(b);a.getMonth()!=b;)a.setDate(a.getDate()-1);return a},d:function(a,b){return a.setDate(b)},p:function(a,b){return a.setHours(1==b?a.getHours()+12:a.getHours())}};if(u.M=u.MM=u.mm=u.m,u.dd=u.d,u.P=u.p,b=k(b),h=a.match(s),a=new Date(0,0,0,0,0,0,0),1===h.length){var v=h.shift();fish.reduce(b.parts,function(a,b){var c=b.length;return h.push(v.substr(a,c)),a+c},0)}for(i=0,n=b.parts.length;i<n;i++){if(j=parseInt(h[i],10),e=b.parts[i],isNaN(j))switch(e){case"MM":l=$(o).filter(function(){var a=this.slice(0,h[i].length);return a==h[i].slice(0,a.length)}),j=$.inArray(l[0],o)+1;break;case"M":l=$(p).filter(function(){var a=this.slice(0,h[i].length);return a==h[i].slice(0,a.length)}),j=$.inArray(l[0],p)+1;break;case"p":case"P":j=$.inArray(h[i].toLowerCase(),q)}r[e]=j}for(i=0,m;i<t.length;i++)(m=t[i])in r&&!isNaN(r[m])&&u[m](a,r[m]);return a}function m(a){return a%4==0&&a%100!=0||a%400==0}function n(a,b){return[31,m(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]}function o(a,b,c){return b=b||fish.config.get("dateParseFormat.date"),c=c||fish.config.get("dateDisplayFormat.date"),j(l(a,b),c)}var p=6e4,q=60*p,r=24*q,s=/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g;return fish.dateutil={addYears:c,addMonths:d,addDays:e,addHours:f,addMinutes:g,format:j,parse:l,displayDate:o,getDaysInMonth:n,getStartOfDay:a,getEndOfDay:b,diffYears:function(a,b){return a.getFullYear()-b.getFullYear()},diffMonths:function(a,b){var c=12*this.diffYears(a,b);return c+=a.getMonth()-b.getMonth()},diffDays:function(a,b){return(a.valueOf()-b.valueOf())/r}}}),function(){function a(a){var b=window.console||{},d=b[a]||b.log||fish.noop,e=!1,f=fish.config.get("trackURL");fish.config.get("isShowLog")||(b={},d=function(){});try{e=!!d.apply}catch(g){b.error(g)}return f?function(){c(f,{msg:arguments})}:e?function(){return d.apply(b,arguments)}:function(a,b){d(a,null==b?"":b)}}function b(){fish.logger={log:a("log"),warn:a("warn"),error:a("error"),info:a("info")}}var c=function(a,b){var c=new Image,d="fishLogger_"+Date.now();c.onload=function(){delete window[d]},window[d]=c,c.src=a+"?"+$.param(b)};b(),window.onerror=function(a,b,c,d,e){var f={date:fish.dateutil.format(new Date,"yyyy-mm-dd hh:ii:ss"),msg:a,url:b,line:c,col:d||"",ua:navigator.userAgent,errorStack:e?e.stack:""};fish.logger.error(f)},fish.config.addListener("trackURL",function(){b()}),fish.config.addListener("isShowLog",function(){b()})}(),function(){function a(a,b){return fish.times(b,function(){a+="0"}),a}function b(a,b){var c=a.split("."),d=c[0].length;if(d>3){var e=Math.floor(d/3);d%3==0&&e--;for(var f=d,g=f-3,h=[],i=0;i<=e;i++)h[i]=c[0].slice(g,f),g=Math.max(g-3,0),f=Math.max(f-3,1);h.reverse(),c[0]=h.join(b)}return c.join(".")}fish.numberutil={format:function(c,d){var e=String(c);if(!e.match(/\d/))return"";d=fish.extend({decimalPlaces:0,decimalSeparator:".",thousandsSeparator:"",prefix:"",suffix:""},d);var f,g=d.decimalPlaces,h=d.decimalSeparator,i=d.thousandsSeparator,j=!1;if("-"===e.charAt(0)&&(j=!0),e=e.replace(/[^\d\.]/g,""),e=e.replace(/0*(\d+)/,"$1"),f=e.split("."),f.length>1){e=f[0]+(g>0?h:"");var k=f[1],l=g-k.length;l<0?(k=k.substr(0,g),e+=k):(e+=f[1],e=a(e,l))}else g>0&&(e+=h,e=a(e,g));return i&&(e=b(e,i)),d.prefix+(j?"-"+e:e)+d.suffix}}}(),fish.store={length:function(){return localStorage.length},set:function(a,b){localStorage.setItem(a,JSON.stringify(b))},get:function(a){return JSON.parse(localStorage.getItem(a))},remove:function(a){localStorage.removeItem(a)},clear:function(){localStorage.clear()}},function(a){"function"==typeof define&&define.amd?define("jquery.mousewheel",["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function($){function a(a){
var f=a||window.event,g=h.call(arguments,1),i=0,k=0,l=0,m=0,n=0,o=0;if(a=$.event.fix(f),a.type="mousewheel","detail"in f&&(l=-1*f.detail),"wheelDelta"in f&&(l=f.wheelDelta),"wheelDeltaY"in f&&(l=f.wheelDeltaY),"wheelDeltaX"in f&&(k=-1*f.wheelDeltaX),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(k=-1*l,l=0),i=0===l?k:l,"deltaY"in f&&(l=-1*f.deltaY,i=l),"deltaX"in f&&(k=f.deltaX,0===l&&(i=-1*k)),0!==l||0!==k){if(1===f.deltaMode){var p=$.data(this,"mousewheel-line-height");i*=p,l*=p,k*=p}else if(2===f.deltaMode){var q=$.data(this,"mousewheel-page-height");i*=q,l*=q,k*=q}if(m=Math.max(Math.abs(l),Math.abs(k)),(!e||m<e)&&(e=m,c(f,m)&&(e/=40)),c(f,m)&&(i/=40,k/=40,l/=40),i=Math[i>=1?"floor":"ceil"](i/e),k=Math[k>=1?"floor":"ceil"](k/e),l=Math[l>=1?"floor":"ceil"](l/e),j.settings.normalizeOffset&&this.getBoundingClientRect){var r=this.getBoundingClientRect();n=a.clientX-r.left,o=a.clientY-r.top}return a.deltaX=k,a.deltaY=l,a.deltaFactor=e,a.offsetX=n,a.offsetY=o,a.deltaMode=0,g.unshift(a,i,k,l),d&&clearTimeout(d),d=setTimeout(b,200),($.event.dispatch||$.event.handle).apply(this,g)}}function b(){e=null}function c(a,b){return j.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var d,e,f=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],g="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if($.event.fixHooks)for(var i=f.length;i;)$.event.fixHooks[f[--i]]=$.event.mouseHooks;var j=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var b=g.length;b;)this.addEventListener(g[--b],a,!1);else this.onmousewheel=a;$.data(this,"mousewheel-line-height",j.getLineHeight(this)),$.data(this,"mousewheel-page-height",j.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var b=g.length;b;)this.removeEventListener(g[--b],a,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(a){var b=$(a),c=b["offsetParent"in $.fn?"offsetParent":"parent"]();return c.length||(c=$("body")),parseInt(c.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(a){return $(a).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};$.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a){var b="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(_,$,c){b.Backbone=a(b,c,_,$)});else if("undefined"!=typeof exports){var $,_=require("underscore");try{$=require("jquery")}catch(c){}a(b,exports,_,$)}else b.Backbone=a(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)}(function(a,Backbone,_,$){var b=a.Backbone,c=[].slice;Backbone.VERSION="1.2.1",Backbone.$=$,Backbone.noConflict=function(){return a.Backbone=b,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var d=function(a,b,d){switch(a){case 1:return function(){return _[b](this[d])};case 2:return function(a){return _[b](this[d],a)};case 3:return function(a,c){return _[b](this[d],a,c)};case 4:return function(a,c,e){return _[b](this[d],a,c,e)};default:return function(){var a=c.call(arguments);return a.unshift(this[d]),_[b].apply(_,a)}}},e=function(a,b,c){_.each(b,function(b,e){_[e]&&(a.prototype[e]=d(b,e,c))})},f=Backbone.Events={},g=/\s+/,h=function(a,b,c,d,e){var f,h=0;if(c&&"object"==typeof c){void 0!==d&&"context"in e&&void 0===e.context&&(e.context=d);for(f=_.keys(c);h<f.length;h++)b=a(b,f[h],c[f[h]],e)}else if(c&&g.test(c))for(f=c.split(g);h<f.length;h++)b=a(b,f[h],d,e);else b=a(b,c,d,e);return b};f.on=function(a,b,c){return i(this,a,b,c)};var i=function(a,b,c,d,e){if(a._events=h(j,a._events||{},b,c,{context:d,ctx:a,listening:e}),e){(a._listeners||(a._listeners={}))[e.id]=e}return a};f.listenTo=function(a,b,c){if(!a)return this;var d=a._listenId||(a._listenId=_.uniqueId("l")),e=this._listeningTo||(this._listeningTo={}),f=e[d];if(!f){var g=this._listenId||(this._listenId=_.uniqueId("l"));f=e[d]={obj:a,objId:d,id:g,listeningTo:e,count:0}}return i(a,b,c,this,f),this};var j=function(a,b,c,d){if(c){var e=a[b]||(a[b]=[]),f=d.context,g=d.ctx,h=d.listening;h&&h.count++,e.push({callback:c,context:f,ctx:f||g,listening:h})}return a};f.off=function(a,b,c){return this._events?(this._events=h(k,this._events,a,b,{context:c,listeners:this._listeners}),this):this},f.stopListening=function(a,b,c){var d=this._listeningTo;if(!d)return this;for(var e=a?[a._listenId]:_.keys(d),f=0;f<e.length;f++){var g=d[e[f]];if(!g)break;g.obj.off(b,c,this)}return _.isEmpty(d)&&(this._listeningTo=void 0),this};var k=function(a,b,c,d){if(a){var e,f=0,g=d.context,h=d.listeners;if(b||c||g){for(var i=b?[b]:_.keys(a);f<i.length;f++){b=i[f];var j=a[b];if(!j)break;for(var k=[],l=0;l<j.length;l++){var m=j[l];c&&c!==m.callback&&c!==m.callback._callback||g&&g!==m.context?k.push(m):(e=m.listening)&&0==--e.count&&(delete h[e.id],delete e.listeningTo[e.objId])}k.length?a[b]=k:delete a[b]}return _.size(a)?a:void 0}for(var n=_.keys(h);f<n.length;f++)e=h[n[f]],delete h[e.id],delete e.listeningTo[e.objId]}};f.once=function(a,b,c){var d=h(l,{},a,b,_.bind(this.off,this));return this.on(d,void 0,c)},f.listenToOnce=function(a,b,c){var d=h(l,{},b,c,_.bind(this.stopListening,this,a));return this.listenTo(a,d)};var l=function(a,b,c,d){if(c){var e=a[b]=_.once(function(){d(b,e),c.apply(this,arguments)});e._callback=c}return a};f.trigger=function(a){if(!this._events)return this;for(var b=Math.max(0,arguments.length-1),c=Array(b),d=0;d<b;d++)c[d]=arguments[d+1];return h(m,this._events,a,void 0,c),this};var m=function(a,b,c,d){if(a){var e=a[b],f=a.all;e&&f&&(f=f.slice()),e&&n(e,d),f&&n(f,[b].concat(d))}return a},n=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}};f.bind=f.on,f.unbind=f.off,_.extend(Backbone,f);var o=Backbone.Model=function(a,b){var c=a||{};b||(b={}),this.cid=_.uniqueId(this.cidPrefix),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(c=this.parse(c,b)||{}),c=_.defaults({},c,_.result(this,"defaults")),this.set(c,b),this.changed={},this.initialize.apply(this,arguments)};_.extend(o.prototype,f,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return _.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!_.iteratee(a,this)(this.attributes)},set:function(a,b,c){if(null==a)return this;var d;if("object"==typeof a?(d=a,c=b):(d={})[a]=b,c||(c={}),!this._validate(d,c))return!1;var e=c.unset,f=c.silent,g=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=_.clone(this.attributes),this.changed={});var i=this.attributes,j=this.changed,k=this._previousAttributes;this.idAttribute in d&&(this.id=d[this.idAttribute]);for(var l in d)b=d[l],_.isEqual(i[l],b)||g.push(l),_.isEqual(k[l],b)?delete j[l]:j[l]=b,e?delete i[l]:i[l]=b;if(!f){g.length&&(this._pending=c);for(var m=0;m<g.length;m++)this.trigger("change:"+g[m],this,i[g[m]],c)}if(h)return this;if(!f)for(;this._pending;)c=this._pending,this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,_.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,_.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!_.isEmpty(this.changed):_.has(this.changed,a)},changedAttributes:function(a){if(!a)return!!this.hasChanged()&&_.clone(this.changed);var b=this._changing?this._previousAttributes:this.attributes,c={};for(var d in a){var e=a[d];_.isEqual(b[d],e)||(c[d]=e)}return!!_.size(c)&&c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(a){a=_.extend({parse:!0},a);var b=this,c=a.success;return a.success=function(d){var e=a.parse?b.parse(d,a):d;if(!b.set(e,a))return!1;c&&c.call(a.context,b,d,a),b.trigger("sync",b,d,a)},I(this,a),this.sync("read",this,a)},save:function(a,b,c){var d;null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,c=_.extend({validate:!0,parse:!0},c);var e=c.wait;if(d&&!e){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;var f=this,g=c.success,h=this.attributes;c.success=function(a){f.attributes=h;var b=c.parse?f.parse(a,c):a;if(e&&(b=_.extend({},d,b)),b&&!f.set(b,c))return!1;g&&g.call(c.context,f,a,c),f.trigger("sync",f,a,c)},I(this,c),d&&e&&(this.attributes=_.extend({},h,d));var i=this.isNew()?"create":c.patch?"patch":"update";"patch"!==i||c.attrs||(c.attrs=d);var j=this.sync(i,this,c);return this.attributes=h,j},destroy:function(a){a=a?_.clone(a):{};var b=this,c=a.success,d=a.wait,e=function(){b.stopListening(),b.trigger("destroy",b,b.collection,a)};a.success=function(f){d&&e(),c&&c.call(a.context,b,f,a),b.isNew()||b.trigger("sync",b,f,a)};var f=!1;return this.isNew()?_.defer(a.success):(I(this,a),f=this.sync("delete",this,a)),d||e(),f},url:function(){var a=_.result(this,"urlRoot")||_.result(this.collection,"url")||H();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},_.defaults({validate:!0},a))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=_.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return!c||(this.trigger("invalid",this,c,_.extend(b,{validationError:c})),!1)}}),e(o,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var p=Backbone.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,_.extend({silent:!0},b))},q={add:!0,remove:!0,merge:!0},r={add:!0,remove:!1};_.extend(p.prototype,f,{model:o,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(a,b){return this.set(a,_.extend({merge:!1},b,r))},remove:function(a,b){b=_.extend({},b);var c=!_.isArray(a);a=c?[a]:_.clone(a);var d=this._removeModels(a,b);return!b.silent&&d&&this.trigger("update",this,b),c?d[0]:d},set:function(a,b){b=_.defaults({},b,q),b.parse&&!this._isModel(a)&&(a=this.parse(a,b));var c=!_.isArray(a);a=c?a?[a]:[]:a.slice();var d,e,f,g,h,i=b.at;null!=i&&(i=+i),i<0&&(i+=this.length+1);for(var j=this.comparator&&null==i&&!1!==b.sort,k=_.isString(this.comparator)?this.comparator:null,l=[],m=[],n={},o=b.add,p=b.merge,r=b.remove,s=!(j||!o||!r)&&[],t=!1,u=0;u<a.length;u++){if(f=a[u],g=this.get(f))r&&(n[g.cid]=!0),p&&f!==g&&(f=this._isModel(f)?f.attributes:f,b.parse&&(f=g.parse(f,b)),g.set(f,b),j&&!h&&g.hasChanged(k)&&(h=!0)),a[u]=g;else if(o){if(!(e=a[u]=this._prepareModel(f,b)))continue;l.push(e),this._addReference(e,b)}e=g||e,e&&(d=this.modelId(e.attributes),!s||!e.isNew()&&n[d]||(s.push(e),t=t||!this.models[u]||e.cid!==this.models[u].cid),n[d]=!0)}if(r){for(var u=0;u<this.length;u++)n[(e=this.models[u]).cid]||m.push(e);m.length&&this._removeModels(m,b)}if(l.length||t)if(j&&(h=!0),this.length+=l.length,null!=i)for(var u=0;u<l.length;u++)this.models.splice(i+u,0,l[u]);else{s&&(this.models.length=0);for(var v=s||l,u=0;u<v.length;u++)this.models.push(v[u])}if(h&&this.sort({silent:!0}),!b.silent){for(var w=null!=i?_.clone(b):b,u=0;u<l.length;u++)null!=i&&(w.index=i+u),(e=l[u]).trigger("add",e,this,w);(h||t)&&this.trigger("sort",this,b),(l.length||m.length)&&this.trigger("update",this,b)}return c?a[0]:a},reset:function(a,b){b=b?_.clone(b):{};for(var c=0;c<this.models.length;c++)this._removeReference(this.models[c],b);return b.previousModels=this.models,this._reset(),a=this.add(a,_.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,_.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,_.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return c.apply(this.models,arguments)},get:function(a){if(null!=a){var b=this.modelId(this._isModel(a)?a.attributes:a);return this._byId[a]||this._byId[b]||this._byId[a.cid]}},at:function(a){return a<0&&(a+=this.length),this.models[a]},where:function(a,b){var c=_.matches(a);return this[b?"find":"filter"](function(a){return c(a.attributes)})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),_.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(_.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return _.invoke(this.models,"get",a)},fetch:function(a){a=_.extend({parse:!0},a);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b.call(a.context,c,d,a),c.trigger("sync",c,d,a)},I(this,a),this.sync("read",this,a)},create:function(a,b){b=b?_.clone(b):{};var c=b.wait;if(!(a=this._prepareModel(a,b)))return!1;c||this.add(a,b);var d=this,e=b.success;return b.success=function(a,b,f){c&&d.add(a,f),e&&e.call(f.context,a,b,f)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?_.clone(b):{},b.collection=this;var c=new this.model(a,b);return c.validationError?(this.trigger("invalid",this,c.validationError,b),!1):c},_removeModels:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.get(a[d]);if(e){var f=this.indexOf(e);this.models.splice(f,1),this.length--,b.silent||(b.index=f,e.trigger("remove",e,this,b)),c.push(e),this._removeReference(e,b)}}return!!c.length&&c},_isModel:function(a){return a instanceof o},_addReference:function(a,b){this._byId[a.cid]=a;var c=this.modelId(a.attributes);null!=c&&(this._byId[c]=a),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];var c=this.modelId(a.attributes);null!=c&&delete this._byId[c],this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this){if("destroy"===a&&this.remove(b,d),"change"===a){var e=this.modelId(b.previousAttributes()),f=this.modelId(b.attributes);e!==f&&(null!=e&&delete this._byId[e],null!=f&&(this._byId[f]=b))}this.trigger.apply(this,arguments)}}}),e(p,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3},"models");var s=["groupBy","countBy","sortBy","indexBy"];_.each(s,function(a){_[a]&&(p.prototype[a]=function(b,c){var d=_.isFunction(b)?b:function(a){return a.get(b)};return _[a](this.models,d,c)})});var t=Backbone.View=function(a){this.cid=_.uniqueId("view"),_.extend(this,_.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments)},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];_.extend(t.prototype,f,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(a){return this.undelegateEvents(),this._setElement(a),this.delegateEvents(),this},_setElement:function(a){this.$el=a instanceof Backbone.$?a:Backbone.$(a),this.el=this.$el[0]},delegateEvents:function(a){if(a||(a=_.result(this,"events")),!a)return this;this.undelegateEvents();for(var b in a){var c=a[b];if(_.isFunction(c)||(c=this[c]),c){var d=b.match(u);this.delegate(d[1],d[2],_.bind(c,this))}}return this},delegate:function(a,b,c){return this.$el.on(a+".delegateEvents"+this.cid,b,c),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(a,b,c){return this.$el.off(a+".delegateEvents"+this.cid,b,c),this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"));else{var a=_.extend({},_.result(this,"attributes"));this.id&&(a.id=_.result(this,"id")),this.className&&(a["class"]=_.result(this,"className")),this.setElement(this._createElement(_.result(this,"tagName"))),this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}}),Backbone.sync=function(a,b,c){var d=w[a];_.defaults(c||(c={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var e={type:d,dataType:"json"};if(c.url||(e.url=_.result(b,"url")||H()),null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(e.contentType="application/json",e.data=JSON.stringify(c.attrs||b.toJSON(c))),c.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{}),c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===d)){e.type="POST",c.emulateJSON&&(e.data._method=d);var f=c.beforeSend;c.beforeSend=function(a){if(a.setRequestHeader("X-HTTP-Method-Override",d),f)return f.apply(this,arguments)}}"GET"===e.type||c.emulateJSON||(e.processData=!1);var g=c.error;c.error=function(a,b,d){c.textStatus=b,c.errorThrown=d,g&&g.call(c.context,a,b,d)};var h=c.xhr=Backbone.ajax(_.extend(e,c));return b.trigger("request",b,h,c),h};var w={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var x=Backbone.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},y=/\((.*?)\)/g,z=/(\(\?)?:\w+/g,A=/\*\w+/g,B=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(x.prototype,f,{initialize:function(){},route:function(a,b,c){_.isRegExp(a)||(a=this._routeToRegExp(a)),_.isFunction(b)&&(c=b,b=""),c||(c=this[b]);var d=this;return Backbone.history.route(a,function(e){var f=d._extractParameters(a,e);!1!==d.execute(c,f,b)&&(d.trigger.apply(d,["route:"+b].concat(f)),d.trigger("route",b,f),Backbone.history.trigger("route",d,b,f))}),this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,b){return Backbone.history.navigate(a,b),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var a,b=_.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(B,"\\$&").replace(y,"(?:$1)?").replace(z,function(a,b){return b?a:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return _.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var C=Backbone.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,E=/^\/+|\/+$/g,F=/#.*$/;C.started=!1,_.extend(C.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){return null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),a.replace(D,"")},start:function(a){if(C.started)throw new Error("Backbone.history has already been started");if(C.started=!0,this.options=_.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(E,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var b=this.root.slice(0,-1)||"/";return this.location.replace(b+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var c=document.body,d=c.insertBefore(this.iframe,c.firstChild).contentWindow;d.document.open(),d.document.close(),d.location.hash="#"+this.fragment}var e=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};if(this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?e("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),C.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();if(b===this.fragment&&this.iframe&&(b=this.getHash(this.iframe.contentWindow)),b===this.fragment)return!1;this.iframe&&this.navigate(b),this.loadUrl()},loadUrl:function(a){return!!this.matchRoot()&&(a=this.fragment=this.getFragment(a),_.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0}))},navigate:function(a,b){if(!C.started)return!1;b&&!0!==b||(b={trigger:!!b}),a=this.getFragment(a||"");var c=this.root;""!==a&&"?"!==a.charAt(0)||(c=c.slice(0,-1)||"/");var d=c+a;if(a=this.decodeFragment(a.replace(F,"")),this.fragment!==a){if(this.fragment=a,this._usePushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,d);else{if(!this._wantsHashChange)return this.location.assign(d);if(this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)){var e=this.iframe.contentWindow;b.replace||(e.document.open(),e.document.close()),this._updateHash(e.location,a,b.replace)}}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),Backbone.history=new C;var G=function(a,b){var c,d=this;c=a&&_.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},_.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&_.extend(c.prototype,a),c.__super__=d.prototype,c};o.extend=p.extend=x.extend=t.extend=C.extend=G;var H=function(){throw new Error('A "url" property or function must be specified')},I=function(a,b){var c=b.error;b.error=function(d){c&&c.call(b.context,a,d,b),a.trigger("error",a,d,b)}};return Backbone}),function(a,_,Backbone){_.extend(a,_.omit(Backbone,"ajax","View","bind","VERSION"))}(fish,_,Backbone),function(){"use strict";var a=Array.prototype.concat,b=Array.prototype.splice;fish.View=Backbone.View.extend({deferred:function(){return $.Deferred()},when:function(a){return $.when.apply(null,a)},constructor:function(a){a=a||{},(a.manage||this.manage)&&fish.View.setupView(this,a),Backbone.View.apply(this,arguments)},render:function(){function a(){function a(){i.push(fish.isFunction(c.afterRender)&&c.afterRender.call(c,c)),fish.each(d.views,function(a,b){fish.isArray(a)?_.forEach(a,function(a){i.push(a.__manager__.initDeferred)}):a&&i.push(a.__manager__.initDeferred)}),$.when.apply(null,i).then(function(){h.resolve(),i.length=0}),c.trigger("afterRender",c)}return fish.each(d.views,function(a,b){fish.isArray(a)&&c._htmlBatch(c,a,b)}),e&&!d.insertedViaFragment&&($.contains(e.el,c.el)||e._partial(e.$el,c.$el,f,d)),c.hasRendered=!0,d.renderInProgress=!1,delete d.triggeredByTimer,f&&f.renderInProgress?e.once("afterRender",a):a(),g.resolveWith(c,[c])}function b(){if(c.__render(),!fish.keys(d.views).length)return a();var b=fish.map(d.views,function(a,b){var d=fish.isArray(a);return d&&a.length?c.when(fish.map(a,function(a){return a.__manager__.insertedViaFragment=!0,a.render().__manager__.renderDeferred})):d?a:a.render().__manager__.renderDeferred});c.when(b).done(a)}var c=this,d=c.__manager__,e=d.parent,f=e&&e.__manager__,g=c.deferred(),h=c.deferred(),i=[];return d.renderInProgress=!0,c._registerRenderView(b),d.renderDeferred=g,d.initDeferred=h,c},__render:function(){this.hasRendered&&this._removeViews(),fish.isFunction(this.beforeRender)&&this.beforeRender.call(this,this),this.trigger("beforeRender",this),fish.isFunction(this._render)?this._render():fish.isEmpty(this.template)||this._viewRender(this.serialize,this.template),this.trigger("render",this)},_viewRender:function(a,b){var c;fish.isFunction(a)&&(a=a.call(this)),b&&(c=b.call(this,a)),this.__manager__.noel?this.setElement(c):this.$el.empty().append(c)},serialize:function(){return this.model?fish.clone(this.model.attributes):{}},_partial:function(a,b,c,d){d.selector&&(a=a.find(d.selector)),c.insert?a.append(b):a.empty().append(b)},_htmlBatch:function(a,b,c){var d=a.__manager__,e={selector:c},f=fish.reduce(b,function(a,b){return b.el&&a.push(b.el),a},[]);return this._partial(a.$el,$(f),d,e)},renderViews:function(a){var b=this,c=b.__manager__,d=b.deferred();a=a&&fish.isArray(a)?fish.chain(a):this.getViews(a);var e=a.map(function(a){return a.render().__manager__.renderDeferred}).value();return c.renderDeferred=d.promise(),b.when(e).then(function(){d.resolveWith(b,[b])}),this},requireView:function(a){if("string"===$.type(a)&&(a={url:a}),a.url&&window.require){var b,c=this,d=$.Deferred(),e=function(){b.once("afterRender",function(){fish.isFunction(a.callback)&&a.callback.call(c,b),d.resolve(b)}),a.selector?c.setView(a.selector,b,a.insert):c.setView(b,a.insert),c.renderViews([b])};if(fish.isString(a.url))window.require([a.url],function(c){b=new c(a.viewOption),e()});else{var f=a.url;b=new f(a.viewOption),e()}return d.promise()}},insertView:function(a,b){return b?this.setView(a,b,!0):this.setView(a,!0)},insertViews:function(a){return fish.isArray(a)?this.setViews({"":a}):(fish.each(a,function(b,c){a[c]=fish.isArray(b)?b:[b]}),this.setViews(a))},getView:function(a){return null==a&&(a=arguments[1]),this.getViews(a).first().value()},getViews:function(a){var b;return"string"==typeof a?(b=this.__manager__.views[a]||[],fish.chain([].concat(b))):(b=fish.chain(this.__manager__.views).map(function(a){return fish.isArray(a)?a:[a]},this).flatten(),"object"==typeof a?b.where(a):"function"==typeof a?b.filter(a):b)},removeView:function(a){return this.getViews(a).each(function(a){a.remove()}).value()},setView:function(b,c,d){var e,f;if("string"!=typeof b&&(d=c,c=b,b=""),!(e=c.__manager__))throw new Error("The argument associated with selector '"+b+"' is defined and a View.  Set `manage` property to true for Backbone.View instances.");return c.parentView=e.parent=this,f=e.selector=b,d?(this.__manager__.views[f]=a.call([],this.__manager__.views[b]||[],c),this.__manager__.insert=!0,c):(this.getView(b)!==c&&this.removeView(b),this.__manager__.views[f]=c)},setViews:function(a){return fish.each(a,function(a,b){if(fish.isArray(a))return fish.each(a,function(a){this.insertView(b,a)},this);this.setView(b,a)},this),this},navigateView:function(a,b,c){var d=this,e=this.getViews(a);return e.map(function(a){var e=a.$el.parent();if(c){var f=parseInt(e.css("padding-left")),g=parseInt(e.css("padding-top")),h=parseInt(e.css("padding-right"));e.css({overflow:"hidden",position:"relative"}),a.$el.css({position:"absolute",left:f,top:g,right:h})}else a.$el.hide();if(a===b)if(c)switch(e.height(a.$el.outerHeight(!0)),c){case"leftToRight":d._cycleAnimate(a.$el,"left","right");break;case"rightToLeft":d._cycleAnimate(a.$el,"right","left");break;case"upToDown":d._cycleAnimate(a.$el,"up","down");break;case"downToUp":d._cycleAnimate(a.$el,"down","up")}else a.$el.show()}),-1===e.indexOf(b).value()&&(this.insertView(a,b),this.renderViews([b])),this},_cycleAnimate:function(a,b,c){a.prev().length?(a.prev().toggle("slide",{direction:c},"slow"),a.toggle("slide",{direction:b},"slow")):(a.parent().children("div:last-child").toggle("slide",{direction:c},"slow"),a.toggle("slide",{direction:b},"slow"))},remove:function(){return this.__manager__&&fish.View._removeView(this,!0),Backbone.View.prototype.remove.apply(this,arguments)},_registerRenderView:function(a){function b(){d.timerID=null,d.triggeredByTimer=!0,a()}var c=this,d=c.__manager__,e=d.parent&&d.parent.__manager__;return this.syncRender?void a():(this._cancelQueuedRenderView(),e&&e.triggeredByTimer?b():void(d.timerID=setTimeout(b,0)))},_cancelQueuedRenderView:function(){var a=this,b=a.__manager__;null!=b.timerID&&clearTimeout(b.timerID)}},{_removeViews:function(a,b){"boolean"==typeof a&&(b=a,a=this),a=a||this,a.getViews().each(function(a){(a.hasRendered||b)&&fish.View._removeView(a,b)}).value()},_removeView:function(a,c){var d,e=a.__manager__,f=e.parent&&e.parent.__manager__;if(f&&!0===f.insert||c){if(fish.View.cleanViews(a),a._removeViews(!0),a.$el.remove(),a._cancelQueuedRenderView(),!e.parent)return;if(d=f.views[e.selector],fish.isArray(d))return fish.each(fish.clone(d),function(a,c){a&&a.__manager__===e&&b.call(d,c,1)}),void(fish.isEmpty(d)&&(delete f.views[e.selector],e.parent.trigger("empty",e.selector)));delete f.views[e.selector],e.parent.trigger("empty",e.selector)}},cleanViews:function(b){fish.each(a.call([],b),function(a){a.trigger("cleanup",a),a.off(),a.model instanceof Backbone.Model&&a.model.off(null,null,a),a.collection instanceof Backbone.Collection&&a.collection.off(null,null,a),a.stopListening(),fish.isFunction(a.cleanup)&&a.cleanup()})},setupView:function(b,c){fish.each(a.call([],b),function(a){if(!a.__manager__){var b,d=fish.View.prototype;fish.defaults(a,{__manager__:{views:{}},_removeViews:fish.View._removeViews,_removeView:fish.View._removeView},fish.View.prototype),("el"in c?!1===c.el:!1===a.el)&&(a.__manager__.noel=!0),a.options=c,a.remove!==d.remove&&(a.cleanup=a.remove,a.remove=d.remove),a.render!==d.render&&(a._render=a.render,a.render=d.render),b=c.views||{},fish.keys(b).length&&a.setViews(b)}})},configure:function(a){fish.View.prototype.manage=!0===a.manage,
fish.View.prototype.syncRender=!0===a.syncRender}}),fish.popupView=function(a){function b(b){b.on("render",function(){var c,d=b.$el,e=$.extend({},a);delete e.url,delete e.content,c=d.hasClass("ui-dialog")?d:d.addClass("ui-dialog");var f=$.extend({},{content:c},e),g=fish.popup(f);b.popup=g;var h=g.result;a.close&&fish.isFunction(a.close)&&h.then(a.close),a.dismiss&&fish.isFunction(a.dismiss)&&h.then(null,a.dismiss),h.always(function(){b.remove()})}),b.on("afterRender",function(c){c.$el.position(c.$el.data("position")),fish.isFunction(a.callback)&&a.callback.call(window,c.popup,b)})}var c=$.Deferred();if((fish.isString(a)||a instanceof fish.View)&&(a={url:a}),fish.isString(a.url))require([a.url],function(d){var e=new d($.extend({},a.viewOption));b(e),e.render(),c.resolve(e)});else{var d;if(a.url instanceof fish.View)d=a.url;else{d=new(0,a.url)($.extend({},a.viewOption))}b(d),d.render(),c.resolve(d)}return c.promise()},fish.View=fish.View.extend({_render:null,_afterRender:$.noop,findChildView:function(a){return this.getView(a)},insertChildView:function(a,b){this.setView(a,b),this.renderViews(a)},addView:function(a,b){this.insertChildView(a,b)},removeChildView:function(a){this.removeView(a)},replaceChildView:function(a,b){this.setView(a,b),this.renderViews(a)}})}(),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m["default"],a.Parser=j.parser,a.parse=j.parse,a}var e=c(8)["default"];b.__esModule=!0;var f=c(1),g=e(f),h=c(2),i=e(h),j=c(3),k=c(4),l=c(5),m=e(l),n=c(6),o=e(n),p=c(7),q=e(p),r=g["default"].create,s=d();s.create=d,q["default"](s),s.Visitor=o["default"],s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b,c){"use strict";function d(){var a=new g.HandlebarsEnvironment;return m.extend(a,g),a.SafeString=i["default"],a.Exception=k["default"],a.Utils=m,a.escapeExpression=m.escapeExpression,a.VM=o,a.template=function(b){return o.template(b,a)},a}var e=c(8)["default"];b.__esModule=!0;var f=c(9),g=e(f),h=c(10),i=e(h),j=c(11),k=e(j),l=c(12),m=e(l),n=c(13),o=e(n),p=c(7),q=e(p),r=d();r.create=d,q["default"](r),r["default"]=r,b["default"]=r,a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d={Program:function(a,b,c,d){this.loc=d,this.type="Program",this.body=a,this.blockParams=b,this.strip=c},MustacheStatement:function(a,b,c,d,e,f){this.loc=f,this.type="MustacheStatement",this.path=a,this.params=b||[],this.hash=c,this.escaped=d,this.strip=e},BlockStatement:function(a,b,c,d,e,f,g,h,i){this.loc=i,this.type="BlockStatement",this.path=a,this.params=b||[],this.hash=c,this.program=d,this.inverse=e,this.openStrip=f,this.inverseStrip=g,this.closeStrip=h},PartialStatement:function(a,b,c,d,e){this.loc=e,this.type="PartialStatement",this.name=a,this.params=b||[],this.hash=c,this.indent="",this.strip=d},ContentStatement:function(a,b){this.loc=b,this.type="ContentStatement",this.original=this.value=a},CommentStatement:function(a,b,c){this.loc=c,this.type="CommentStatement",this.value=a,this.strip=b},SubExpression:function(a,b,c,d){this.loc=d,this.type="SubExpression",this.path=a,this.params=b||[],this.hash=c},PathExpression:function(a,b,c,d,e){this.loc=e,this.type="PathExpression",this.data=a,this.original=d,this.parts=c,this.depth=b},StringLiteral:function(a,b){this.loc=b,this.type="StringLiteral",this.original=this.value=a},NumberLiteral:function(a,b){this.loc=b,this.type="NumberLiteral",this.original=this.value=Number(a)},BooleanLiteral:function(a,b){this.loc=b,this.type="BooleanLiteral",this.original=this.value="true"===a},UndefinedLiteral:function(a){this.loc=a,this.type="UndefinedLiteral",this.original=this.value=undefined},NullLiteral:function(a){this.loc=a,this.type="NullLiteral",this.original=this.value=null},Hash:function(a,b){this.loc=b,this.type="Hash",this.pairs=a},HashPair:function(a,b,c){this.loc=c,this.type="HashPair",this.key=a,this.value=b},helpers:{helperExpression:function(a){return!("SubExpression"!==a.type&&!a.params.length&&!a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!d.helpers.scopedId(a)&&!a.depth}}};b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){return"Program"===a.type?a:(g["default"].yy=o,o.locInfo=function(a){return new o.SourceLocation(b&&b.srcName,a)},(new k["default"]).accept(g["default"].parse(a)))}var e=c(8)["default"];b.__esModule=!0,b.parse=d;var f=c(14),g=e(f),h=c(2),i=e(h),j=c(15),k=e(j),l=c(16),m=e(l),n=c(12);b.parser=g["default"];var o={};n.extend(o,m,i["default"])},function(a,b,c){"use strict";function d(){}function e(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function f(a,b,c){function d(){var b=c.parse(a,f),d=(new c.Compiler).compile(b,f),e=(new c.JavaScriptCompiler).compile(d,f,undefined,!0);return c.template(e)}function e(a,b){return g||(g=d()),g.call(this,a,b)}var f=arguments[1]===undefined?{}:arguments[1];if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);"data"in f||(f.data=!0),f.compat&&(f.useDepths=!0);var g=undefined;return e._setup=function(a){return g||(g=d()),g._setup(a)},e._child=function(a,b,c,e){return g||(g=d()),g._child(a,b,c,e)},e}function g(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path=new n["default"].PathExpression(!1,0,[b.original+""],b.original+"",b.loc)}}var i=c(8)["default"];b.__esModule=!0,b.Compiler=d,b.precompile=e,b.compile=f;var j=c(11),k=i(j),l=c(12),m=c(2),n=i(m),o=[].slice;d.prototype={compiler:d,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!g(d.args,e.args))return!1}b=this.children.length;for(var c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(b.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;d<c;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(a){this.usePartial=!0;var b=a.params;if(b.length>1)throw new k["default"]("Unsupported number of partial arguments: "+b.length,a);b.length||b.push({type:"PathExpression",parts:[],depth:0});var c=a.name.original,d="SubExpression"===a.name.type;d&&this.accept(a.name),this.setupFullMustacheParams(a,undefined,undefined,!0);var e=a.indent||"";this.options.preventIndent&&e&&(this.opcode("appendContent",e),e=""),this.opcode("invokePartial",d,c,e),this.opcode("append")},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){this.accept(a.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,n["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=n["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts)):this.opcode("lookupOnContext",a.parts,a.falsy,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");c<d;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=undefined;if(!a.parts||n["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;b<c;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){"use strict";function d(a){this.value=a}function e(){}function f(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;f<g;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("this.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}var g=c(8)["default"];b.__esModule=!0;var h=c(9),i=c(11),j=g(i),k=c(12),l=c(17),m=g(l);e.prototype={nameLookup:function(a,b){return e.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"['",b,"']"]},depthedLookup:function(a){return[this.aliasable("this.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION;return[a,h.REVISION_CHANGES[a]]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=undefined,g=undefined,h=undefined,i=undefined;for(h=0,i=e.length;h<i;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j["default"]("Compile completed with content left on stack");var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k},m=this.context.programs;for(h=0,i=m.length;h<i;h++)m[h]&&(l[h]=m[h]);return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m["default"](this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=undefined,e=undefined,f=undefined,g=undefined;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=undefined),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,undefined,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",undefined,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c){var d=0;c||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[d++])),this.resolvePath("context",a,d,b)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b){a?this.pushStackLiteral("this.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0)},resolvePath:function(a,b,c,d){var e=this;if(this.options.strict||this.options.assumeObjects)return void this.push(f(this.options.strict,this,b,a));for(var g=b.length;c<g;c++)this.replaceStack(function(f){var g=e.nameLookup(f,b[c],a);return d?[" && ",g]:[" != null ? ",g," : ",f]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d,!1);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("this.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=undefined,d=undefined,e=undefined;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:e,compileChildren:function(a,b){for(var c=a.children,d=undefined,e=undefined,f=0,g=c.length;f<g;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);null==h?(this.context.programs.push(""),h=this.context.programs.length,d.index=h,d.name="program"+h,this.context.programs[h]=e.compile(d,b,this.context,!this.precompile),this.context.environments[h]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams):(d.index=h,d.name="program"+h,this.useDepths=this.useDepths||d.useDepths,this.useBlockParams=this.useBlockParams||d.useBlockParams)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"this.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof d||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=undefined),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=undefined,e=undefined,f=undefined;if(!this.isInline())throw new j["default"]("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof d)c=[g.value],b=["(",c],f=!0;else{e=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),e&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var e=a[b];if(e instanceof d)this.compileStack.push(e);else{var f=this.incrStack();this.pushSource([f," = ",e,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof d)return c.value;if(!b){if(!this.stackSlot)throw new j["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof d?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[];return{params:d,paramsInit:this.setupHelperArgs(b,a,d,c),name:this.nameLookup("helpers",b,"helper"),callParams:[this.contextName(0)].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=undefined;d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var i=this.popStack(),j=this.popStack();(j||i)&&(d.fn=j||"this.noop",d.inverse=i||"this.noop");for(var k=b;k--;)h=this.popStack(),c[k]=h,this.trackIds&&(g[k]=this.popStack()),this.stringParams&&(f[k]=this.popStack(),e[k]=this.popStack());return this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c,!0);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):(c.push(e),"")}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=e.RESERVED_WORDS={},c=0,d=a.length;c<d;c++)b[a[c]]=!0}(),e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b["default"]=e,a.exports=b["default"]},function(a,b,c){"use strict";function d(){this.parents=[]}var e=c(8)["default"];b.__esModule=!0;var f=c(11),g=e(f),h=c(2),i=e(h);d.prototype={constructor:d,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&(!c.type||!i["default"][c.type]))throw new g["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new g["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:!1!==b?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:function(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")},BlockStatement:function(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash"),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")},PartialStatement:function(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b["default"]=d,a.exports=b["default"]},function(a,b,c){(function(c){"use strict";b.__esModule=!0,b["default"]=function(Handlebars){var a=void 0!==c?c:window,b=a.Handlebars;Handlebars.noConflict=function(){a.Handlebars===Handlebars&&(a.Handlebars=b)}},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b,c){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b){this.helpers=a||{},this.partials=b||{},e(this)}function e(a){a.registerHelper("helperMissing",function(){if(1===arguments.length)return undefined;throw new k["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse,e=c.fn;if(!0===b)return e(this);if(!1===b||null==b)return d(this);if(m(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):d(this);if(c.data&&c.ids){var g=f(c.data);g.contextPath=i.appendContextPath(c.data.contextPath,c.name),c={data:g}}return e(b,c)}),a.registerHelper("each",function(a,b){function c(b,c,e){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!e,l&&(j.contextPath=l+b)),h+=d(a[b],{data:j,blockParams:i.blockParams([a[b],b],[l+b,null])})}if(!b)throw new k["default"]("Must pass iterator to #each");var d=b.fn,e=b.inverse,g=0,h="",j=undefined,l=undefined;if(b.data&&b.ids&&(l=i.appendContextPath(b.data.contextPath,b.ids[0])+"."),n(a)&&(a=a.call(this)),b.data&&(j=f(b.data)),a&&"object"==typeof a)if(m(a))for(var o=a.length;g<o;g++)c(g,g,g===a.length-1);else{var p=undefined;for(var q in a)a.hasOwnProperty(q)&&(p&&c(p,g-1),p=q,g++);p&&c(p,g-1,!0)}return 0===g&&(h=e(this)),h}),a.registerHelper("if",function(a,b){return n(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||i.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){n(a)&&(a=a.call(this));var c=b.fn;if(i.isEmpty(a))return b.inverse(this);if(b.data&&b.ids){var d=f(b.data);d.contextPath=i.appendContextPath(b.data.contextPath,b.ids[0]),b={data:d}}return c(a,b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a.registerHelper("lookup",function(a,b){return a&&a[b]})}function f(a){var b=i.extend({},a);return b._parent=a,b}var g=c(8)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d,b.createFrame=f;var h=c(12),i=g(h),j=c(11),k=g(j);b.COMPILER_REVISION=6;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};b.REVISION_CHANGES=l;var m=i.isArray,n=i.isFunction,o=i.toString;d.prototype={constructor:d,logger:p,log:q,registerHelper:function(a,b){if("[object Object]"===o.call(a)){if(b)throw new k["default"]("Arg not supported with multiple helpers");i.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if("[object Object]"===o.call(a))i.extend(this.partials,a);else{if(void 0===b)throw new k["default"]("Attempting to register a partial as undefined");this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(a,b){if("undefined"!=typeof console&&p.level<=a){var c=p.methodMap[a];(console[c]||console.log).call(console,b)}}};b.logger=p;var q=p.log;b.log=q},function(a,b,c){"use strict";function d(a){this.string=a}b.__esModule=!0,d.prototype.toString=d.prototype.toHTML=function(){return""+this.string},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){var c=b&&b.loc,f=undefined,g=undefined;c&&(f=c.start.line,g=c.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<e.length;i++)this[e[i]]=h[e[i]];Error.captureStackTrace&&Error.captureStackTrace(this,d),c&&(this.lineNumber=f,this.column=g)}b.__esModule=!0;var e=["description","fileName","lineNumber","message","name","number","stack"];d.prototype=new Error,b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){return k[a]}function e(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function f(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}function g(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,d):a}function h(a){return!a&&0!==a||!(!p(a)||0!==a.length)}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=e,b.indexOf=f,b.escapeExpression=g,b.isEmpty=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",
'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},l=/[&<>"'`=]/g,m=/[&<>"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)});var o;b.isFunction=o;var p=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===n.call(a)};b.isArray=p},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=p.COMPILER_REVISION;if(b!==c){if(b<c){var d=p.REVISION_CHANGES[c],e=p.REVISION_CHANGES[b];throw new o["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new o["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=m.extend({},d,e.hash)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;h<i&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new o["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){var c=arguments[1]===undefined?{}:arguments[1],f=c.data;d._setup(c),!c.partial&&a.useData&&(f=j(b,f));var g=undefined,h=a.useBlockParams?[]:undefined;return a.useDepths&&(g=c.depths?[b].concat(c.depths):[b]),a.main.call(e,b,e.helpers,e.partials,f,h,g)}if(!b)throw new o["default"]("No environment passed to template");if(!a||!a.main)throw new o["default"]("Unknown template object: "+typeof a);b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new o["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:m.escapeExpression,invokePartial:c,fn:function(b){return a[b]},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=m.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new o["default"]("must pass block params");if(a.useDepths&&!g)throw new o["default"]("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments[1]===undefined?{}:arguments[1];return c.call(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),g&&[b].concat(g))}return h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a=c.partials[c.name],a}function h(a,b,c){if(c.partial=!0,a===undefined)throw new o["default"]("The partial "+c.name+" could not be found");if(a instanceof Function)return a(b,c)}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?p.createFrame(b):{},b.root=a),b}var k=c(8)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var l=c(12),m=k(l),n=c(11),o=k(n),p=c(9)},function(a,b,c){"use strict";b.__esModule=!0;var d=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=new d.Program(f[h],null,{},d.locInfo(this._$));break;case 3:case 4:case 5:case 6:case 7:this.$=f[h];break;case 8:this.$=new d.CommentStatement(d.stripComment(f[h]),d.stripFlags(f[h],f[h]),d.locInfo(this._$));break;case 9:this.$=new d.ContentStatement(f[h],d.locInfo(this._$));break;case 10:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 11:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 12:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 14:case 15:case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 18:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=new d.Program([i],null,{},d.locInfo(this._$));j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 19:this.$=f[h];break;case 20:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 21:case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=new d.PartialStatement(f[h-3],f[h-2],f[h-1],d.stripFlags(f[h-4],f[h]),d.locInfo(this._$));break;case 24:case 25:this.$=f[h];break;case 26:this.$=new d.SubExpression(f[h-3],f[h-2],f[h-1],d.locInfo(this._$));break;case 27:this.$=new d.Hash(f[h],d.locInfo(this._$));break;case 28:this.$=new d.HashPair(d.id(f[h-2]),f[h],d.locInfo(this._$));break;case 29:this.$=d.id(f[h-1]);break;case 30:case 31:this.$=f[h];break;case 32:this.$=new d.StringLiteral(f[h],d.locInfo(this._$));break;case 33:this.$=new d.NumberLiteral(f[h],d.locInfo(this._$));break;case 34:this.$=new d.BooleanLiteral(f[h],d.locInfo(this._$));break;case 35:this.$=new d.UndefinedLiteral(d.locInfo(this._$));break;case 36:this.$=new d.NullLiteral(d.locInfo(this._$));break;case 37:case 38:this.$=f[h];break;case 39:this.$=d.preparePath(!0,f[h],this._$);break;case 40:this.$=d.preparePath(!1,f[h],this._$);break;case 41:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 42:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 43:this.$=[];break;case 44:f[h-1].push(f[h]);break;case 45:this.$=[];break;case 46:f[h-1].push(f[h]);break;case 53:this.$=[];break;case 54:f[h-1].push(f[h]);break;case 59:this.$=[];break;case 60:f[h-1].push(f[h]);break;case 65:this.$=[];break;case 66:f[h-1].push(f[h]);break;case 73:this.$=[];break;case 74:f[h-1].push(f[h]);break;case 77:this.$=[];break;case 78:f[h-1].push(f[h]);break;case 81:this.$=[];break;case 82:f[h-1].push(f[h]);break;case 85:this.$=[];break;case 86:f[h-1].push(f[h]);break;case 89:this.$=[f[h]];break;case 90:f[h-1].push(f[h]);break;case 91:this.$=[f[h]];break;case 92:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function(a,b){throw new Error(a)},parse:function(a){var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var k=this.lexer.yylloc;e.push(k);var l=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var m,n,o,p,q,r,s,t,u,v={};;){if(o=c[c.length-1],this.defaultActions[o]?p=this.defaultActions[o]:(null!==m&&void 0!==m||(m=function(){var a;return a=b.lexer.lex()||1,"number"!=typeof a&&(a=b.symbols_[a]||a),a}()),p=f[o]&&f[o][m]),void 0===p||!p.length||!p[0]){var w="";if(!j){u=[];for(r in f[o])this.terminals_[r]&&r>2&&u.push("'"+this.terminals_[r]+"'");w=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+u.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:k,expected:u})}}if(p[0]instanceof Array&&p.length>1)throw new Error("Parse Error: multiple actions possible at state: "+o+", token: "+m);switch(p[0]){case 1:c.push(m),d.push(this.lexer.yytext),e.push(this.lexer.yylloc),c.push(p[1]),m=null,n?(m=n,n=null):(i=this.lexer.yyleng,g=this.lexer.yytext,h=this.lexer.yylineno,k=this.lexer.yylloc,j>0&&j--);break;case 2:if(s=this.productions_[p[1]][1],v.$=d[d.length-s],v._$={first_line:e[e.length-(s||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(s||1)].first_column,last_column:e[e.length-1].last_column},l&&(v._$.range=[e[e.length-(s||1)].range[0],e[e.length-1].range[1]]),void 0!==(q=this.performAction.call(v,g,i,h,this.yy,p[1],d,e)))return q;s&&(c=c.slice(0,-1*s*2),d=d.slice(0,-1*s),e=e.slice(0,-1*s)),c.push(this.productions_[p[1]][0]),d.push(v.$),e.push(v._$),t=f[c[c.length-2]][c[c.length-1]],c.push(t);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(!(c=this._input.match(this.rules[f[g]]))||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return void 0!==a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return b.yytext=b.yytext.substr(5,b.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(b.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:case 24:return 66;case 25:return 81;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return b.yytext=e(1,2).replace(/\\"/g,'"'),74;case 30:return b.yytext=e(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:case 33:return 76;case 34:return 77;case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:case 40:return 66;case 41:return"INVALID";case 42:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,42],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(){}function e(a,b,c){b===undefined&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){b===undefined&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}var i=c(8)["default"];b.__esModule=!0;var j=c(6),k=i(j);d.prototype=new k["default"],d.prototype.Program=function(a){var b=!this.isRootSeen;this.isRootSeen=!0;for(var c=a.body,d=0,i=c.length;d<i;d++){var j=c[d],k=this.accept(j);if(k){var l=e(c,d,b),m=f(c,d,b),n=k.openStandalone&&l,o=k.closeStandalone&&m,p=k.inlineStandalone&&l&&m;k.close&&g(c,d,!0),k.open&&h(c,d,!0),p&&(g(c,d),h(c,d)&&"PartialStatement"===j.type&&(j.indent=/([ \t]+$)/.exec(c[d-1].original)[1])),n&&(g((j.program||j.inverse).body),h(c,d)),o&&(g(c,d),h((j.inverse||j.program).body))}}return a},d.prototype.BlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function e(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a}function f(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function g(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function h(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g="",h=0,i=b.length;h<i;h++){var j=b[h].part,k=b[h].original!==j;if(d+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)e.push(j);else{if(e.length>0)throw new n["default"]("Invalid path: "+d,{loc:c});".."===j&&(f++,g+="../")}}return new this.PathExpression(a,f,e,d,c)}function i(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g;return new this.MustacheStatement(a,b,c,h,e,this.locInfo(f))}function j(a,b,c,d){if(a.path.original!==c){var e={loc:a.path.loc};throw new n["default"](a.path.original+" doesn't match "+c,e)}d=this.locInfo(d);var f=new this.Program([b],null,{},d);return new this.BlockStatement(a.path,a.params,a.hash,f,undefined,{},{},{},d)}function k(a,b,c,d,e,f){if(d&&d.path&&a.path.original!==d.path.original){var g={loc:a.path.loc};throw new n["default"](a.path.original+" doesn't match "+d.path.original,g)}b.blockParams=a.blockParams;var h=undefined,i=undefined;return c&&(c.chain&&(c.program.body[0].closeStrip=d.strip),i=c.strip,h=c.program),e&&(e=h,h=b,b=e),new this.BlockStatement(a.path,a.params,a.hash,b,h,a.strip,i,d&&d.strip,this.locInfo(f))}var l=c(8)["default"];b.__esModule=!0,b.SourceLocation=d,b.id=e,b.stripFlags=f,b.stripComment=g,b.preparePath=h,b.prepareMustache=i,b.prepareRawBlock=j,b.prepareBlock=k;var m=c(11),n=l(m)},function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;e<g;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}b.__esModule=!0;var f=c(12),g=undefined;try{}catch(h){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={prepend:function(a,b){
this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=arguments[0]===undefined?this.currentLocation||{start:{}}:arguments[0];return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments[1]===undefined?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a,b){for(var c=this.empty(b),e=0,f=a.length;e<f;e++)e&&c.add(","),c.add(d(a[e],this,b));return c},generateArray:function(a,b){var c=this.generateList(a,b);return c.prepend("["),c.add("]"),c}},b["default"]=e,a.exports=b["default"]}])}),function(a,Handlebars){a.compile=Handlebars.compile,a.registerHelper=Handlebars.registerHelper,Handlebars.registerHelper("ifCond",function(a,b,c,d){switch(b){case"==":return a==c?d.fn(this):d.inverse(this);case"!=":return a!=c?d.fn(this):d.inverse(this);case"===":return a===c?d.fn(this):d.inverse(this);case"!==":return a!==c?d.fn(this):d.inverse(this);case"&&":return a&&c?d.fn(this):d.inverse(this);case"||":return a||c?d.fn(this):d.inverse(this);case"<":return a<c?d.fn(this):d.inverse(this);case"<=":return a<=c?d.fn(this):d.inverse(this);case">":return a>c?d.fn(this):d.inverse(this);case">=":return a>=c?d.fn(this):d.inverse(this);case"contains":return-1!=(a+"").indexOf(c+"")?d.fn(this):d.inverse(this);case"notcontains":return-1==(a+"").indexOf(c+"")?d.fn(this):d.inverse(this);default:return d.inverse(this)}}),Handlebars.registerHelper("math",function(a,b,c){return a=parseFloat(a),c=parseFloat(c),{"+":a+c,"-":a-c,"*":a*c,"/":a/c,"%":a%c}[b]}),Handlebars.registerHelper("select",function(a,b){for(var c="",d=0;d<b.length;d++)c=c+"<option value='"+b[d]+"' "+(a==b[d]?"selected='selected' ":"")+">"+b[d]+"</option>";return c}),Handlebars.registerHelper("addOne",function(a){return parseInt(a)+1}),Handlebars.registerHelper("isEven",function(a,b){return a%2==0?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("isArray",function(b,c){return a.isArray(b)?c.fn(this):c.inverse(this)});var b;Handlebars.registerHelper("recursive",function(a,c){var d="";return c.fn!==undefined&&(b=c.fn),$.each(a,function(a,c){d+=b(c)}),d}),Handlebars.registerHelper("raw",function(a){return a.fn(this)}),Handlebars.registerHelper("formatDate",function(b,c){if(!b)return"";if(c="string"==typeof c?c:"yyyy-mm-dd hh:ii:ss",$.isNumeric(b)){b.toString().length<=10&&(b*=1e3),b=new Date(+b)}else a.isDate(b)||(b=new Date(b));return a.dateutil.format(b,c)}),Handlebars.registerHelper("formatNumber",function(b,c){return b?a.numberutil.format(b,c):""})}(fish,Handlebars),$.ui=$.ui||{},$.extend($.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),$.fn.extend({scrollParent:function(a){var b=this.css("position"),c="absolute"===b,d=a?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var a=$(this);return(!c||"static"!==a.css("position"))&&d.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==b&&e.length?e:$(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(a){return function(b){return!!$.data(b,a)}}):function(a,b,c){return!!$.data(a,c[3])},focusable:function(a){return focusable(a,!isNaN($.attr(a,"tabindex")))},tabbable:function(a){var b=$.attr(a,"tabindex"),c=isNaN(b);return(c||b>=0)&&focusable(a,!c)}}),$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),$.fn.extend({focus:function(a){return function(b,c){return"number"==typeof b?this.each(function(){var a=this;setTimeout(function(){$(a).focus(),c&&c.call(a)},b)}):a.apply(this,arguments)}}($.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(a){if(a!==undefined)return this.css("zIndex",a);if(this.length)for(var b,c,d=$(this[0]);d.length&&d[0]!==document;){if(("absolute"===(b=d.css("position"))||"relative"===b||"fixed"===b)&&(c=parseInt(d.css("zIndex"),10),!isNaN(c)&&0!==c))return c;d=d.parent()}return 0}}),$.ui.plugin={add:function(a,b,c){var d,e=$.ui[a].prototype;for(d in c)e.plugins[d]=e.plugins[d]||[],e.plugins[d].push([b,c[d]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}},$.support.offsetFractions=!0;var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=function(a){return function(b){var c,d,e;for(e=0;null!=(d=b[e]);e++)try{c=$._data(d,"events"),c&&c.remove&&$(d).triggerHandler("remove")}catch(f){}a(b)}}($.cleanData),$.widget=function(a,b,c){var d,e,f,g,h={},i=a.split(".")[0];return a=a.split(".")[1],d=i+"-"+a,c||(c=b,b=$.Widget),$.expr[":"][d.toLowerCase()]=function(a){return!!$.data(a,d)},$[i]=$[i]||{},e=$[i][a],f=$[i][a]=function(a,b){if(!this._createWidget)return new f(a,b);arguments.length&&this._createWidget(a,b)},$.extend(f,e,{version:c.version,_proto:$.extend({},c),_childConstructors:[]}),g=new b,g.options=$.widget.extend({},g.options),$.each(c,function(a,c){if(!$.isFunction(c))return void(h[a]=c);h[a]=function(){var d=function(){return b.prototype[a].apply(this,arguments)},e=function(c){return b.prototype[a].apply(this,c)};return function(){var a,b=this._super,f=this._superApply;return this._super=d,this._superApply=e,a=c.apply(this,arguments),this._super=b,this._superApply=f,a}}()}),f.prototype=$.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||a:a},h,{constructor:f,namespace:i,widgetName:a,widgetFullName:d}),e?($.each(e._childConstructors,function(a,b){var c=b.prototype;$.widget(c.namespace+"."+c.widgetName,f,b._proto)}),delete e._childConstructors):b._childConstructors.push(f),$.widget.bridge(a,f),f},$.widget.extend=function(a){for(var b,c,d=widget_slice.call(arguments,1),e=0,f=d.length;e<f;e++)for(b in d[e])c=d[e][b],d[e].hasOwnProperty(b)&&c!==undefined&&($.isPlainObject(c)?a[b]=$.isPlainObject(a[b])?$.widget.extend({},a[b],c):$.widget.extend({},c):$.isArray(c)?a[b]=$.widget.extend([],c):a[b]=c);return a},$.widget.bridge=function(a,b){var c=b.prototype.widgetFullName||a;$.fn[a]=function(d){var e="string"==typeof d,f=widget_slice.call(arguments,1),g=this;return e?this.each(function(){var e,h=$.data(this,c);return"instance"===d?(g=h,!1):(h||$.data(this,c,h=new b(null,this)),$.isFunction(h[d])&&"_"!==d.charAt(0)?(e=h[d].apply(h,f),e!==h&&e!==undefined?(g=e&&e.jquery?g.pushStack(e.get()):e,!1):void 0):$.error("no such method '"+d+"' for "+a+" widget instance"))}):(f.length&&(d=$.widget.extend.apply(null,[d].concat(f))),this.each(function(){var a=$.data(this,c);a?(a.option(d||{}),a._init&&a._init()):$.data(this,c,new b(d,this))})),g}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,b){b=$(b||this.defaultElement||this)[0],this.element=$(b),this.uuid=widget_uuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),this.element.attr("data-ui-role")||this.element.attr("data-ui-role",this.widgetName.toLowerCase()),b!==this&&($.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=$(b.style?b.ownerDocument:b.document||b),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this.element.data(),this._getCreateOptions(),a),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init(),this._validateHandler()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,_validateHandler:$.noop,_getValidFlag:function(){var a=this.element[0],b=a.form||$(a).closest(".ui-validator");return $(b).length>0},resize:function(a){var b=this.getSize(),c=this._size;(a||(b.width>0||b.height>0)&&(!c||b.width!==c.width||b.height!==c.height))&&(this._size=b,this._resize(b,a),this._trigger("resize",b))},getSize:function(){var a=this.element[0];return{width:a.offsetWidth,height:a.offsetHeight}},_resize:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(a,b){var c,d,e,f=a;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof a)if(f={},c=a.split("."),a=c.shift(),c.length){for(d=f[a]=$.widget.extend({},this.options[a]),e=0;e<c.length-1;e++)d[c[e]]=d[c[e]]||{},d=d[c[e]];if(a=c.pop(),1===arguments.length)return d[a]===undefined?null:d[a];d[a]=b}else{if(1===arguments.length)return this.options[a]===undefined?null:this.options[a];f[a]=b}return this._setOptions(f),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},hideWidget:function(){this.element.hide()},showWidget:function(){this.element.show()},_pagePoint:function(a,b){if(fish.pagePoint&&fish.pagePoint._opts&&this.element.attr(fish.pagePoint._opts.regKey)){var c={};b&&(c=b(a)),$.extend(a,c),fish.pagePoint.clctEleAttrs(this.element[0],a)}},_on:function(a,b,c){var d,e=this;"boolean"!=typeof a&&(c=b,b=a,a=!1),c?(b=d=$(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element,d=this.widget()),$.each(c,function(c,f){function g(){if(a||!0!==e.options.disabled&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof f?e[f]:f).apply(e,arguments)}"string"!=typeof f&&(g.guid=f.guid=f.guid||g.guid||$.guid++);var h=c.match(/^([\w:-]*)\s*(.*)$/),i=h[1]+e.eventNamespace,j=h[2];j?d.delegate(j,i,g):b.bind(i,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b),this.bindings=$(this.bindings.not(a).get()),this.focusable=$(this.focusable.not(a).get()),this.hoverable=$(this.hoverable.not(a).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(a){$(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){$(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(a){$(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){$(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,b,c,d){var e,f,g=this.options[a];if(void 0===c&&(c={}),b=$.Event(b),b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+":"+a).toLowerCase(),b.target=this.element[0],f=b.originalEvent)for(e in f)e in b||(b[e]=f[e]);return d?(this.element.trigger(b,c),$.promisify(_.isUndefined(b.result)?!$.isFunction(g)||g.apply(this.element[0],[b].concat(c)):b.result).then(function(a){return!(!1===a||b.isDefaultPrevented())})):(this.element.trigger(b,c),!($.isFunction(g)&&!1===g.apply(this.element[0],[b].concat(c))||b.isDefaultPrevented()))},_triggerAsync:function(a,b,c){return this._trigger(a,b,c,!0)}},$.each({show:"fadeIn",hide:"fadeOut"},function(a,b){$.Widget.prototype["_"+a]=function(c,d,e){"string"==typeof d&&(d={effect:d});var f,g=d?!0===d||"number"==typeof d?b:d.effect||b:a;d=d||{},"number"==typeof d&&(d={duration:d}),f=!$.isEmptyObject(d),d.complete=e,d.delay&&c.delay(d.delay),f&&$.effects&&$.effects.effect[g]?c[a](d):g!==a&&c[g]?c[g](d.duration,d.easing,e):c.queue(function(b){$(this)[a](),e&&e.call(c[0]),b()})}});var widget=$.widget,dataSpace="ui-effects-",dataSpaceStyle="ui-effects-style",dataSpaceAnimated="ui-effects-animated",jQuery=$;$.effects={effect:{}},function(jQuery,a){function b(a,b,c){var d=j[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function c(a){var b=h(),c=b._rgba=[];return a=a.toLowerCase(),m(g,function(d,e){var f,g=e.re.exec(a),h=g&&e.parse(g),j=e.space||"rgba";if(h)return f=b[j](h),b[i[j].cache]=f[i[j].cache],c=b._rgba=f._rgba,!1}),c.length?("0,0,0,0"===c.join()&&jQuery.extend(c,e.transparent),b):e[a]}function d(a,b,c){return c=(c+1)%1,6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}var e,f=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],h=jQuery.Color=function(a,b,c,d){return new jQuery.Color.fn.parse(a,b,c,d)},i={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},j={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},k=h.support={},l=jQuery("<p>")[0],m=jQuery.each;l.style.cssText="background-color:rgba(1,1,1,.5)",k.rgba=l.style.backgroundColor.indexOf("rgba")>-1,m(i,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),h.fn=jQuery.extend(h.prototype,{parse:function(a,d,f,g){if(void 0===a)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=jQuery(a).css(d),d=void 0);var j=this,k=jQuery.type(a),l=this._rgba=[];return void 0!==d&&(a=[a,d,f,g],k="array"),"string"===k?this.parse(c(a)||e._default):"array"===k?(m(i.rgba.props,function(c,d){l[d.idx]=b(a[d.idx],d)}),this):"object"===k?(a instanceof h?m(i,function(b,c){a[c.cache]&&(j[c.cache]=a[c.cache].slice())}):m(i,function(c,d){var e=d.cache;m(d.props,function(c,f){if(!j[e]&&d.to){if("alpha"===c||null==a[c])return;j[e]=d.to(j._rgba)}j[e][f.idx]=b(a[c],f,!0)}),j[e]&&jQuery.inArray(null,j[e].slice(0,3))<0&&(j[e][3]=1,d.from&&(j._rgba=d.from(j[e])))}),this):void 0},is:function(a){var b=h(a),c=!0,d=this;return m(i,function(_,a){var e,f=b[a.cache];return f&&(e=d[a.cache]||a.to&&a.to(d._rgba)||[],m(a.props,function(_,a){if(null!=f[a.idx])return c=f[a.idx]===e[a.idx]})),c}),c},_space:function(){var a=[],b=this;return m(i,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,c){var d=h(a),e=d._space(),f=i[e],g=0===this.alpha()?h("transparent"):this,k=g[f.cache]||f.to(g._rgba),l=k.slice();return d=d[f.cache],m(f.props,function(a,e){var f=e.idx,g=k[f],h=d[f],i=j[e.type]||{};null!==h&&(null===g?l[f]=h:(i.mod&&(h-g>i.mod/2?g+=i.mod:g-h>i.mod/2&&(g-=i.mod)),l[f]=b((h-g)*c+g,e)))}),this[e](l)},blend:function(a){if(1===this._rgba[3])return this;var b=this._rgba.slice(),c=b.pop(),d=h(a)._rgba;return h(jQuery.map(b,function(a,b){return(1-c)*d[b]+c*a}))},toRgbaString:function(){var a="rgba(",b=jQuery.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===b[3]&&(b.pop(),a="rgb("),a+b.join()+")"},toHslaString:function(){var a="hsla(",b=jQuery.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&b<3&&(a=Math.round(100*a)+"%"),a});return 1===b[3]&&(b.pop(),a="hsl("),a+b.join()+")"},toHexString:function(a){var b=this._rgba.slice(),c=b.pop();return a&&b.push(~~(255*c)),"#"+jQuery.map(b,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,i.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:l<=.5?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},i.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],e=a[2],f=a[3],g=e<=.5?e*(1+c):e+c-e*c,h=2*e-g;return[Math.round(255*d(h,g,b+1/3)),Math.round(255*d(h,g,b)),Math.round(255*d(h,g,b-1/3)),f]},m(i,function(a,c){var d=c.props,e=c.cache,g=c.to,i=c.from;h.fn[a]=function(a){if(g&&!this[e]&&(this[e]=g(this._rgba)),void 0===a)return this[e].slice();var c,f=jQuery.type(a),j="array"===f||"object"===f?a:arguments,k=this[e].slice();return m(d,function(a,c){var d=j["object"===f?a:c.idx];null==d&&(d=k[c.idx]),k[c.idx]=b(d,c)}),i?(c=h(i(k)),c[e]=k,c):h(k)},m(d,function(b,c){h.fn[b]||(h.fn[b]=function(d){var e,g=jQuery.type(d),h="alpha"===b?this._hsla?"hsla":"rgba":a,i=this[h](),j=i[c.idx];return"undefined"===g?j:("function"===g&&(d=d.call(this,j),g=jQuery.type(d)),null==d&&c.empty?this:("string"===g&&(e=f.exec(d))&&(d=j+parseFloat(e[2])*("+"===e[1]?1:-1)),i[c.idx]=d,this[h](i)))})})}),h.hook=function(a){var b=a.split(" ");m(b,function(a,b){jQuery.cssHooks[b]={set:function(a,d){var e,f,g="";if("transparent"!==d&&("string"!==jQuery.type(d)||(e=c(d)))){if(d=h(e||d),!k.rgba&&1!==d._rgba[3]){for(f="backgroundColor"===b?a.parentNode:a;(""===g||"transparent"===g)&&f&&f.style;)try{g=jQuery.css(f,"backgroundColor"),f=f.parentNode}catch(i){}d=d.blend(g&&"transparent"!==g?g:"_default")}d=d.toRgbaString()}try{a.style[b]=d}catch(i){}}},jQuery.fx.step[b]=function(a){a.colorInit||(a.start=h(a.elem,b),a.end=h(a.end),a.colorInit=!0),jQuery.cssHooks[b].set(a.elem,a.start.transition(a.end,a.pos))}})},h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),jQuery.cssHooks.borderColor={expand:function(a){var b={};return m(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},e=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function a(a){var b,c,d=a.ownerDocument.defaultView?a.ownerDocument.defaultView.getComputedStyle(a,null):a.currentStyle,e={};if(d&&d.length&&d[0]&&d[d[0]])for(c=d.length;c--;)b=d[c],"string"==typeof d[b]&&(e[$.camelCase(b)]=d[b]);else for(b in d)"string"==typeof d[b]&&(e[b]=d[b]);return e}function b(a,b){var c,e,f={};for(c in b)e=b[c],a[c]!==e&&(d[c]||!$.fx.step[c]&&isNaN(parseFloat(e))||(f[c]=e));return f}var c=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,a){$.fx.step[a]=function(b){("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)&&(jQuery.style(b.elem,a,b.end),b.setAttr=!0)}}),$.fn.addBack||($.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),$.effects.animateClass=function(d,e,f,g){var h=$.speed(e,f,g);return this.queue(function(){var e,f=$(this),g=f.attr("class")||"",i=h.children?f.find("*").addBack():f;i=i.map(function(){return{el:$(this),start:a(this)}}),e=function(){$.each(c,function(a,b){d[b]&&f[b+"Class"](d[b])})},e(),i=i.map(function(){return this.end=a(this.el[0]),this.diff=b(this.start,this.end),this}),f.attr("class",g),i=i.map(function(){var a=this,b=$.Deferred(),c=$.extend({},h,{queue:!1,complete:function(){b.resolve(a)}});return this.el.animate(this.diff,c),b.promise()}),$.when.apply($,i.get()).done(function(){e(),$.each(arguments,function(){var a=this.el;$.each(this.diff,function(b){a.css(b,"")})}),h.complete.call(f[0])})})},$.fn.extend({addClass:function(a){return function(b,c,d,e){return c?$.effects.animateClass.call(this,{add:b},c,d,e):a.apply(this,arguments)}}($.fn.addClass),removeClass:function(a){return function(b,c,d,e){return arguments.length>1?$.effects.animateClass.call(this,{remove:b},c,d,e):a.apply(this,arguments)}}($.fn.removeClass),toggleClass:function(a){return function(b,c,d,e,f){return"boolean"==typeof c||c===undefined?d?$.effects.animateClass.call(this,c?{add:b}:{remove:b},d,e,f):a.apply(this,arguments):$.effects.animateClass.call(this,{toggle:b},c,d,e)}}($.fn.toggleClass),switchClass:function(a,b,c,d,e){return $.effects.animateClass.call(this,{add:b,remove:a},c,d,e)}})}(),function(){function a(a,b,c,d){return $.isPlainObject(a)&&(b=a,a=a.effect),a={effect:a},null==b&&(b={}),$.isFunction(b)&&(d=b,c=null,b={}),("number"==typeof b||$.fx.speeds[b])&&(d=c,c=b,b={}),$.isFunction(c)&&(d=c,c=null),b&&$.extend(a,b),c=c||b.duration,a.duration=$.fx.off?0:"number"==typeof c?c:c in $.fx.speeds?$.fx.speeds[c]:$.fx.speeds._default,a.complete=d||b.complete,a}function b(a){return!(a&&"number"!=typeof a&&!$.fx.speeds[a])||("string"==typeof a&&!$.effects.effect[a]||(!!$.isFunction(a)||"object"==typeof a&&!a.effect))}function c(a,b){var c=b.outerWidth(),d=b.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,f=e.exec(a)||["",0,c,d,0];return{top:parseFloat(f[1])||0,right:"auto"===f[2]?c:parseFloat(f[2]),bottom:"auto"===f[3]?d:parseFloat(f[3]),left:parseFloat(f[4])||0}}$.expr&&$.expr.filters&&$.expr.filters.animated&&($.expr.filters.animated=function(a){return function(b){return!!$(b).data(dataSpaceAnimated)||a(b)}}($.expr.filters.animated)),!1!==$.uiBackCompat&&$.extend($.effects,{save:function(a,b){for(var c=0,d=b.length;c<d;c++)null!==b[c]&&a.data(dataSpace+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c,d=0,e=b.length;d<e;d++)null!==b[d]&&(c=a.data(dataSpace+b[d]),a.css(b[d],c))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var b={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},c=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),d={width:a.width(),height:a.height()},e=document.activeElement;try{e.id}catch(f){e=document.body}return a.wrap(c),(a[0]===e||$.contains(a[0],e))&&$(e).trigger("focus"),c=a.parent(),"static"===a.css("position")?(c.css({position:"relative"}),a.css({position:"relative"})):($.extend(b,{position:a.css("position"),zIndex:a.css("z-index")}),$.each(["top","left","bottom","right"],function(c,d){b[d]=a.css(d),isNaN(parseInt(b[d],10))&&(b[d]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),a.css(d),c.css(b).show()},removeWrapper:function(a){var b=document.activeElement;return a.parent().is(".ui-effects-wrapper")&&(a.parent().replaceWith(a),(a[0]===b||$.contains(a[0],b))&&$(b).trigger("focus")),a}}),$.extend($.effects,{version:"1.12.1",define:function(a,b,c){return c||(c=b,b="effect"),$.effects.effect[a]=c,$.effects.effect[a].mode=b,c},scaledDimensions:function(a,b,c){if(0===b)return{height:0,width:0,outerHeight:0,outerWidth:0};var d="horizontal"!==c?(b||100)/100:1,e="vertical"!==c?(b||100)/100:1;return{height:a.height()*e,width:a.width()*d,outerHeight:a.outerHeight()*e,outerWidth:a.outerWidth()*d}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,c){var d=a.queue();b>1&&d.splice.apply(d,[1,0].concat(d.splice(b,c))),a.dequeue()},saveStyle:function(a){a.data(dataSpaceStyle,a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data(dataSpaceStyle)||"",a.removeData(dataSpaceStyle)},mode:function(a,b){var c=a.is(":hidden");return"toggle"===b&&(b=c?"show":"hide"),(c?"hide"===b:"show"===b)&&(b="none"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createPlaceholder:function(a){var b,c=a.css("position"),d=a.position();return a.css({marginTop:a.css("marginTop"),marginBottom:a.css("marginBottom"),marginLeft:a.css("marginLeft"),marginRight:a.css("marginRight")}).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()),/^(static|relative)/.test(c)&&(c="absolute",b=$("<"+a[0].nodeName+">").insertAfter(a).css({display:/^(inline|ruby)/.test(a.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:a.css("marginTop"),marginBottom:a.css("marginBottom"),marginLeft:a.css("marginLeft"),marginRight:a.css("marginRight"),"float":a.css("float")}).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()).addClass("ui-effects-placeholder"),a.data(dataSpace+"placeholder",b)),a.css({position:c,left:d.left,top:d.top}),b},removePlaceholder:function(a){var b=dataSpace+"placeholder",c=a.data(b);c&&(c.remove(),a.removeData(b))},cleanUp:function(a){$.effects.restoreStyle(a),$.effects.removePlaceholder(a)},setTransition:function(a,b,c,d){return d=d||{},$.each(b,function(b,e){var f=a.cssUnit(e);f[0]>0&&(d[e]=f[0]*c+f[1])}),d}}),$.fn.extend({effect:function(){function b(a){function b(){g.removeData(dataSpaceAnimated),$.effects.cleanUp(g),"hide"===c.mode&&g.hide(),f()}function f(){$.isFunction(h)&&h.call(g[0]),$.isFunction(a)&&a()}var g=$(this);c.mode=j.shift(),!1===$.uiBackCompat||e?"none"===c.mode?(g[i](),f()):d.call(g[0],c,b):(g.is(":hidden")?"hide"===i:"show"===i)?(g[i](),f()):d.call(g[0],c,f)}var c=a.apply(this,arguments),d=$.effects.effect[c.effect],e=d.mode,f=c.queue,g=f||"fx",h=c.complete,i=c.mode,j=[],k=function(a){var b=$(this),c=$.effects.mode(b,i)||e;b.data(dataSpaceAnimated,!0),j.push(c),e&&("show"===c||c===e&&"hide"===c)&&b.show(),e&&"none"===c||$.effects.saveStyle(b),$.isFunction(a)&&a()};return $.fx.off||!d?i?this[i](c.duration,h):this.each(function(){h&&h.call(this)}):!1===f?this.each(k).each(b):this.queue(g,k).queue(g,b)},show:function(c){return function(d){if(b(d))return c.apply(this,arguments);var e=a.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}($.fn.show),hide:function(c){return function(d){if(b(d))return c.apply(this,arguments);var e=a.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}($.fn.hide),toggle:function(c){return function(d){if(b(d)||"boolean"==typeof d)return c.apply(this,arguments);var e=a.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}($.fn.toggle),cssUnit:function(a){var b=this.css(a),c=[];return $.each(["em","px","%","pt"],function(a,d){b.indexOf(d)>0&&(c=[parseFloat(b),d])}),c},cssClip:function(a){return a?this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"):c(this.css("clip"),this)},transfer:function(a,b){var c=$(this),d=$(a.to),e="fixed"===d.css("position"),f=$("body"),g=e?f.scrollTop():0,h=e?f.scrollLeft():0,i=d.offset(),j={top:i.top-g,left:i.left-h,height:d.innerHeight(),width:d.innerWidth()},k=c.offset(),l=$("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(a.className).css({top:k.top-g,left:k.left-h,height:c.innerHeight(),width:c.innerWidth(),position:e?"fixed":"absolute"}).animate(j,a.duration,a.easing,function(){l.remove(),$.isFunction(b)&&b()})}}),$.fx.step.clip=function(a){a.clipInit||(a.start=$(a.elem).cssClip(),"string"==typeof a.end&&(a.end=c(a.end,a.elem)),a.clipInit=!0),$(a.elem).cssClip({top:a.pos*(a.end.top-a.start.top)+a.start.top,right:a.pos*(a.end.right-a.start.right)+a.start.right,bottom:a.pos*(a.end.bottom-a.start.bottom)+a.start.bottom,left:a.pos*(a.end.left-a.start.left)+a.start.left})}}(),function(){var a={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,c){a[c]=function(a){return Math.pow(a,b+2)}}),$.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),$.each(a,function(a,b){$.easing["easeIn"+a]=b,$.easing["easeOut"+a]=function(a){return 1-b(1-a)},$.easing["easeInOut"+a]=function(a){return a<.5?b(2*a)/2:1-b(-2*a+2)/2}})}(),$.effects.define("slide","show",function(a,b){var c,d,e=$(this),f={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},g=a.mode,h=a.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h,k=a.distance||e["top"===i?"outerHeight":"outerWidth"](!0),l={};$.effects.createPlaceholder(e),c=e.cssClip(),d=e.position()[i],l[i]=(j?-1:1)*k+d,l.clip=e.cssClip(),l.clip[f[h][1]]=l.clip[f[h][0]],"show"===g&&(e.cssClip(l.clip),e.css(i,l[i]),l.clip=c,l[i]=d),e.animate(l,{queue:!1,duration:a.duration,easing:a.easing,complete:b})});var mouseHandled=!1;$(document).mouseup(function(){mouseHandled=!1});var mouse=$.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===$.data(b.target,a.widgetName+".preventClickEvent"))return $.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!mouseHandled){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var b=this,c=1===a.which,d=!("string"!=typeof this.options.cancel||!a.target.nodeName)&&$(a.target).closest(this.options.cancel).length;return!(c&&!d&&this._mouseCapture(a))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay)),
this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted)?(a.preventDefault(),!0):(!0===$.data(a.target,this.widgetName+".preventClickEvent")&&$.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return b._mouseMove(a)},this._mouseUpDelegate=function(a){return b._mouseUp(a)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),mouseHandled=!0,!0))}},_mouseMove:function(a){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!a.button)return this._mouseUp(a);if(!a.which)return this._mouseUp(a)}return(a.which||a.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a),this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&$.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),mouseHandled=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function a(a,b,c){return[parseFloat(a[0])*(m.test(a[0])?b/100:1),parseFloat(a[1])*(m.test(a[1])?c/100:1)]}function b(a,b){return parseInt($.css(a,b),10)||0}function c(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:$.isWindow(b)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}$.ui=$.ui||{};var d,e,f=Math.max,g=Math.abs,h=Math.round,i=/left|center|right/,j=/top|center|bottom/,k=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,m=/%$/,n=$.fn.position;$.position={scrollbarWidth:function(){if(d!==undefined)return d;var a,b,c=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),e=c.children()[0];return $("body").append(c),a=e.offsetWidth,c.css("overflow","scroll"),b=e.offsetWidth,a===b&&(b=c[0].clientWidth),c.remove(),d=a-b},getScrollInfo:function(a){var b=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),c=a.isWindow||a.isDocument?"":a.element.css("overflow-y"),d="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth;return{width:"scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight?$.position.scrollbarWidth():0,height:d?$.position.scrollbarWidth():0}},getWithinInfo:function(a){var b=$(a||window),c=$.isWindow(b[0]),d=!!b[0]&&9===b[0].nodeType;return{element:b,isWindow:c,isDocument:d,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c||d?b.width():b.outerWidth(),height:c||d?b.height():b.outerHeight()}}},$.fn.position=function(d){if(!d||!d.of)return n.apply(this,arguments);d=$.extend({},d);var m,o,p,q,r,s,t=$(d.of),u=$.position.getWithinInfo(d.within),v=$.position.getScrollInfo(u),w=(d.collision||"flip").split(" "),x={};return s=c(t),t[0].preventDefault&&(d.at="left top"),o=s.width,p=s.height,q=s.offset,r=$.extend({},q),$.each(["my","at"],function(){var a,b,c=(d[this]||"").split(" ");1===c.length&&(c=i.test(c[0])?c.concat(["center"]):j.test(c[0])?["center"].concat(c):["center","center"]),c[0]=i.test(c[0])?c[0]:"center",c[1]=j.test(c[1])?c[1]:"center",a=k.exec(c[0]),b=k.exec(c[1]),x[this]=[a?a[0]:0,b?b[0]:0],d[this]=[l.exec(c[0])[0],l.exec(c[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===d.at[0]?r.left+=o:"center"===d.at[0]&&(r.left+=o/2),"bottom"===d.at[1]?r.top+=p:"center"===d.at[1]&&(r.top+=p/2),m=a(x.at,o,p),r.left+=m[0],r.top+=m[1],this.each(function(){var c,i,j=$(this),k=j.outerWidth(),l=j.outerHeight(),n=b(this,"marginLeft"),s=b(this,"marginTop"),y=k+n+b(this,"marginRight")+v.width,z=l+s+b(this,"marginBottom")+v.height,A=$.extend({},r),B=a(x.my,j.outerWidth(),j.outerHeight());"right"===d.my[0]?A.left-=k:"center"===d.my[0]&&(A.left-=k/2),"bottom"===d.my[1]?A.top-=l:"center"===d.my[1]&&(A.top-=l/2),A.left+=B[0],A.top+=B[1],e||(A.left=h(A.left),A.top=h(A.top)),c={marginLeft:n,marginTop:s},$.each(["left","top"],function(a,b){$.ui.position[w[a]]&&$.ui.position[w[a]][b](A,{targetWidth:o,targetHeight:p,elemWidth:k,elemHeight:l,collisionPosition:c,collisionWidth:y,collisionHeight:z,offset:[m[0]+B[0],m[1]+B[1]],my:d.my,at:d.at,within:u,elem:j})}),d.using&&(i=function(a){var b=q.left-A.left,c=b+o-k,e=q.top-A.top,h=e+p-l,i={target:{element:t,left:q.left,top:q.top,width:o,height:p},element:{element:j,left:A.left,top:A.top,width:k,height:l},horizontal:c<0?"left":b>0?"right":"center",vertical:h<0?"top":e>0?"bottom":"middle"};o<k&&g(b+c)<o&&(i.horizontal="center"),p<l&&g(e+h)<p&&(i.vertical="middle"),f(g(b),g(c))>f(g(e),g(h))?i.important="horizontal":i.important="vertical",d.using.call(this,a,i)}),j.offset($.extend(A,{using:i}))})},$.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,g=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-g-e;b.collisionWidth>g?i>0&&j<=0?(c=a.left+i+b.collisionWidth-g-e,a.left+=i-c):a.left=j>0&&i<=0?e:i>j?e+g-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=f(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-g-e;b.collisionHeight>g?i>0&&j<=0?(c=a.top+i+b.collisionHeight-g-e,a.top+=i-c):a.top=j>0&&i<=0?e:i>j?e+g-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=f(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,h=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-h-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];k<0?((c=a.left+m+n+o+b.collisionWidth-h-f)<0||c<g(k))&&(a.left+=m+n+o):l>0&&((d=a.left-b.collisionPosition.marginLeft+m+n+o-i)>0||g(d)<l)&&(a.left+=m+n+o)},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,h=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-h-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];k<0?((d=a.top+n+o+p+b.collisionHeight-h-f)<0||d<g(k))&&(a.top+=n+o+p):l>0&&((c=a.top-b.collisionPosition.marginTop+n+o+p-i)>0||g(c)<l)&&(a.top+=n+o+p)}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}},function(){var a,b,c,d,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");a=document.createElement(g?"div":"body"),c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&$.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in c)a.style[f]=c[f];a.appendChild(h),b=g||document.documentElement,b.insertBefore(a,b.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",d=$(h).offset().left,e=d>10&&d<11,a.innerHTML="",b.removeChild(a)}()}();var position=$.ui.position;$.widget("ui.draggable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(a){var b=this.options;return this._blurActiveElement(a),!(this.helper||b.disabled||$(a.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(a),!!this.handle&&(this._blockFrames(!0===b.iframeFix?"iframe":b.iframeFix),!0))},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var a=$(this);return $("<div>").css("position","absolute").appendTo(a.parent()).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(a){var b=this.document[0];if(this.handleElement.is(a.target))try{b.activeElement&&"body"!==b.activeElement.nodeName.toLowerCase()&&$(b.activeElement).blur()}catch(c){}},_mouseStart:function(a){var b=this.options;return this.helper=this._createHelper(a),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===$(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(a),this.originalPosition=this.position=this._generatePosition(a,!1),this.originalPageX=a.pageX,this.originalPageY=a.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this._setContainment(),!1===this._trigger("start",a)?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!b.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,a),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(a,b){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(a,!0),this.positionAbs=this._convertPositionTo("absolute"),!b){var c=this._uiHash();if(!1===this._trigger("drag",a,c))return this._mouseUp({}),!1;this.position=c.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",$.ui.ddmanager&&$.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var b=this,c=!1;return $.ui.ddmanager&&!this.options.dropBehaviour&&(c=$.ui.ddmanager.drop(this,a)),this.dropped&&(c=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!c||"valid"===this.options.revert&&c||!0===this.options.revert||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)?$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==b._trigger("stop",a)&&b._clear()}):!1!==this._trigger("stop",a)&&this._clear(),!1},_mouseUp:function(a){return this._unblockFrames(),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,a),this.handleElement.is(a.target)&&this.element.focus(),$.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return!this.options.handle||!!$(a.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(a){var b=this.options,c=$.isFunction(b.helper),d=c?$(b.helper.apply(this.element[0],[a])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),c&&d[0]===this.element[0]&&this._setPositionRelative(),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),$.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var a=this.offsetParent.offset(),b=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==b&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,b,c,d=this.options,e=this.document[0];return this.relativeContainer=null,d.containment?"window"===d.containment?void(this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===d.containment?void(this.containment=[0,0,$(e).width()-this.helperProportions.width-this.margins.left,($(e).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):d.containment.constructor===Array?void(this.containment=d.containment):("parent"===d.containment&&(d.containment=this.helper[0].parentNode),b=$(d.containment),void((c=b[0])&&(a=/(scroll|auto)/.test(b.css("overflow")),this.containment=[(parseInt(b.css("borderLeftWidth"),10)||0)+(parseInt(b.css("paddingLeft"),10)||0),(parseInt(b.css("borderTopWidth"),10)||0)+(parseInt(b.css("paddingTop"),10)||0),(a?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b.css("borderRightWidth"),10)||0)-(parseInt(b.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b.css("borderBottomWidth"),10)||0)-(parseInt(b.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=b))):void(this.containment=null)},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*c}},_generatePosition:function(a,b){var c,d,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),i=a.pageX,j=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,a.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),a.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),a.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),a.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(i=this.originalPageX),"x"===g.axis&&(j=this.originalPageY)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(a,b,c){return c=c||this._uiHash(),$.ui.plugin.call(this,a,[b,c,this],!0),/^(drag|start|stop)/.test(a)&&(this.positionAbs=this._convertPositionTo("absolute"),c.offset=this.positionAbs),$.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(a,b,c){var d=$.extend({},b,{item:c.element});c.sortables=[],$(c.options.connectToSortable).each(function(){var b=$(this).sortable("instance");b&&!b.options.disabled&&(c.sortables.push(b),b.refreshPositions(),b._trigger("activate",a,d))})},stop:function(a,b,c){var d=$.extend({},b,{item:c.element});c.cancelHelperRemoval=!1,$.each(c.sortables,function(){var b=this;b.isOver?(b.isOver=0,c.cancelHelperRemoval=!0,b.cancelHelperRemoval=!1,b._storedCSS={position:b.placeholder.css("position"),top:b.placeholder.css("top"),left:b.placeholder.css("left")},b._mouseStop(a),b.options.helper=b.options._helper):(b.cancelHelperRemoval=!0,b._trigger("deactivate",a,d))})},drag:function(a,b,c){$.each(c.sortables,function(){var d=!1,e=this;e.positionAbs=c.positionAbs,e.helperProportions=c.helperProportions,e.offset.click=c.offset.click,e._intersectsWith(e.containerCache)&&(d=!0,$.each(c.sortables,function(){return this.positionAbs=c.positionAbs,this.helperProportions=c.helperProportions,this.offset.click=c.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&$.contains(e.element[0],this.element[0])&&(d=!1),d})),d?(e.isOver||(e.isOver=1,c._parent=b.helper.parent(),e.currentItem=b.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return b.helper[0]},a.target=e.currentItem[0],e._mouseCapture(a,!0),e._mouseStart(a,!0,!0),e.offset.click.top=c.offset.click.top,e.offset.click.left=c.offset.click.left,e.offset.parent.left-=c.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=c.offset.parent.top-e.offset.parent.top,c._trigger("toSortable",a),c.dropped=e.element,$.each(c.sortables,function(){this.refreshPositions()}),c.currentItem=c.element,e.fromOutside=c),e.currentItem&&(e._mouseDrag(a),b.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",a,e._uiHash(e)),e._mouseStop(a,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),b.helper.appendTo(c._parent),c._refreshOffsets(a),b.position=c._generatePosition(a,!0),c._trigger("fromSortable",a),c.dropped=!1,$.each(c.sortables,function(){this.refreshPositions()}))})}}),$.ui.plugin.add("draggable","cursor",{start:function(a,b,c){var d=$("body"),e=c.options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(a,b,c){var d=c.options;d._cursor&&$("body").css("cursor",d._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(a,b,c){var d=$(b.helper),e=c.options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(a,b,c){var d=c.options;d._opacity&&$(b.helper).css("opacity",d._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1)),c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(a,b,c){var d=c.options,e=!1,f=c.scrollParentNotHidden[0],g=c.document[0];f!==g&&"HTML"!==f.tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+f.offsetHeight-a.pageY<d.scrollSensitivity?f.scrollTop=e=f.scrollTop+d.scrollSpeed:a.pageY-c.overflowOffset.top<d.scrollSensitivity&&(f.scrollTop=e=f.scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+f.offsetWidth-a.pageX<d.scrollSensitivity?f.scrollLeft=e=f.scrollLeft+d.scrollSpeed:a.pageX-c.overflowOffset.left<d.scrollSensitivity&&(f.scrollLeft=e=f.scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(a.pageY-$(g).scrollTop()<d.scrollSensitivity?e=$(g).scrollTop($(g).scrollTop()-d.scrollSpeed):$(window).height()-(a.pageY-$(g).scrollTop())<d.scrollSensitivity&&(e=$(g).scrollTop($(g).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(a.pageX-$(g).scrollLeft()<d.scrollSensitivity?e=$(g).scrollLeft($(g).scrollLeft()-d.scrollSpeed):$(window).width()-(a.pageX-$(g).scrollLeft())<d.scrollSensitivity&&(e=$(g).scrollLeft($(g).scrollLeft()+d.scrollSpeed)))),!1!==e&&$.ui.ddmanager&&!d.dropBehaviour&&$.ui.ddmanager.prepareOffsets(c,a)}}),$.ui.plugin.add("draggable","snap",{start:function(a,b,c){var d=c.options;c.snapElements=[],$(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var a=$(this),b=a.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),top:b.top,left:b.left})})},drag:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=c.options,o=n.snapTolerance,p=b.offset.left,q=p+c.helperProportions.width,r=b.offset.top,s=r+c.helperProportions.height;for(l=c.snapElements.length-1;l>=0;l--)h=c.snapElements[l].left-c.margins.left,i=h+c.snapElements[l].width,j=c.snapElements[l].top-c.margins.top,k=j+c.snapElements[l].height,q<h-o||p>i+o||s<j-o||r>k+o||!$.contains(c.snapElements[l].item.ownerDocument,c.snapElements[l].item)?(c.snapElements[l].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,$.extend(c._uiHash(),{snapItem:c.snapElements[l].item})),c.snapElements[l].snapping=!1):("inner"!==n.snapMode&&(d=Math.abs(j-s)<=o,e=Math.abs(k-r)<=o,f=Math.abs(h-q)<=o,g=Math.abs(i-p)<=o,d&&(b.position.top=c._convertPositionTo("relative",{top:j-c.helperProportions.height,left:0}).top),e&&(b.position.top=c._convertPositionTo("relative",{top:k,left:0}).top),f&&(b.position.left=c._convertPositionTo("relative",{top:0,left:h-c.helperProportions.width}).left),g&&(b.position.left=c._convertPositionTo("relative",{top:0,left:i}).left)),m=d||e||f||g,"outer"!==n.snapMode&&(d=Math.abs(j-r)<=o,e=Math.abs(k-s)<=o,f=Math.abs(h-p)<=o,g=Math.abs(i-q)<=o,d&&(b.position.top=c._convertPositionTo("relative",{top:j,left:0}).top),e&&(b.position.top=c._convertPositionTo("relative",{top:k-c.helperProportions.height,left:0}).top),f&&(b.position.left=c._convertPositionTo("relative",{top:0,left:h}).left),g&&(b.position.left=c._convertPositionTo("relative",{top:0,left:i-c.helperProportions.width}).left)),!c.snapElements[l].snapping&&(d||e||f||g||m)&&c.options.snap.snap&&c.options.snap.snap.call(c.element,a,$.extend(c._uiHash(),{snapItem:c.snapElements[l].item})),c.snapElements[l].snapping=d||e||f||g||m)}}),$.ui.plugin.add("draggable","stack",{start:function(a,b,c){var d,e=c.options,f=$.makeArray($(e.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});f.length&&(d=parseInt($(f[0]).css("zIndex"),10)||0,$(f).each(function(a){$(this).css("zIndex",d+a)}),this.css("zIndex",d+f.length))}}),$.ui.plugin.add("draggable","zIndex",{start:function(a,b,c){var d=$(b.helper),e=c.options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(a,b,c){var d=c.options;d._zIndex&&$(b.helper).css("zIndex",d._zIndex)}});var draggable=$.ui.draggable;$.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var a,b=this.options,c=b.accept;this.isover=!1,this.isout=!0,this.accept=$.isFunction(c)?c:function(a){return a.is(c)},this.proportions=function(){if(!arguments.length)return a||(a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});a=arguments[0]},this._addToManager(b.scope),b.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){$.ui.ddmanager.droppables[a]=$.ui.ddmanager.droppables[a]||[],$.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var b=0;b<a.length;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){var a=$.ui.ddmanager.droppables[this.options.scope];this._splice(a),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,b){if("accept"===a)this.accept=$.isFunction(b)?b:function(a){return a.is(b)};else if("scope"===a){var c=$.ui.ddmanager.droppables[this.options.scope];this._splice(c),this._addToManager(b)}this._super(a,b)},_activate:function(a){var b=$.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=$.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=$.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(b)))},_out:function(a){var b=$.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(b)))},_drop:function(a,b){var c=b||$.ui.ddmanager.current,d=!1;return!(!c||(c.currentItem||c.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=$(this).droppable("instance");if(b.options.greedy&&!b.options.disabled&&b.options.scope===c.options.scope&&b.accept.call(b.element[0],c.currentItem||c.element)&&$.ui.intersect(c,$.extend(b,{offset:b.element.offset()}),b.options.tolerance,a))return d=!0,!1}),!d&&(!!this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(c)),this.element)))},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),$.ui.intersect=function(){function a(a,b,c){return a>=b&&a<b+c}return function(b,c,d,e){if(!c.offset)return!1;var f=(b.positionAbs||b.position.absolute).left+b.margins.left,g=(b.positionAbs||b.position.absolute).top+b.margins.top,h=f+b.helperProportions.width,i=g+b.helperProportions.height,j=c.offset.left,k=c.offset.top,l=j+c.proportions().width,m=k+c.proportions().height;switch(d){case"fit":return j<=f&&h<=l&&k<=g&&i<=m;case"intersect":return j<f+b.helperProportions.width/2&&h-b.helperProportions.width/2<l&&k<g+b.helperProportions.height/2&&i-b.helperProportions.height/2<m;case"pointer":return a(e.pageY,k,c.proportions().height)&&a(e.pageX,j,c.proportions().width);case"touch":return(g>=k&&g<=m||i>=k&&i<=m||g<k&&i>m)&&(f>=j&&f<=l||h>=j&&h<=l||f<j&&h>l);default:return!1}}}(),$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c,d,e=$.ui.ddmanager.droppables[a.options.scope]||[],f=b?b.type:null,g=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();a:for(c=0;c<e.length;c++)if(!(e[c].options.disabled||a&&!e[c].accept.call(e[c].element[0],a.currentItem||a.element))){for(d=0;d<g.length;d++)if(g[d]===e[c].element[0]){e[c].proportions().height=0;continue a}e[c].visible="none"!==e[c].element.css("display"),e[c].visible&&("mousedown"===f&&e[c]._activate.call(e[c],b),e[c].offset=e[c].element.offset(),e[c].proportions({width:e[c].element[0].offsetWidth,height:e[c].element[0].offsetHeight}))}},drop:function(a,b){var c=!1;return $.each(($.ui.ddmanager.droppables[a.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(a,this,this.options.tolerance,b)&&(c=this._drop.call(this,b)||c),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,b)))}),c},dragStart:function(a,b){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||$.ui.ddmanager.prepareOffsets(a,b)})},drag:function(a,b){a.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(a,b),$.each($.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var c,d,e,f=$.ui.intersect(a,this,this.options.tolerance,b),g=!f&&this.isover?"isout":f&&!this.isover?"isover":null;g&&(this.options.greedy&&(d=this.options.scope,e=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===d}),e.length&&(c=$(e[0]).droppable("instance"),c.greedyChild="isover"===g)),c&&"isover"===g&&(c.isover=!1,c.isout=!0,c._out.call(c,b)),this[g]=!0,this["isout"===g?"isover":"isout"]=!1,this["isover"===g?"_over":"_out"].call(this,b),c&&"isout"===g&&(c.isout=!1,c.isover=!0,c._over.call(c,b)))}})},dragStop:function(a,b){a.element.parentsUntil("body").unbind("scroll.droppable"),a.options.refreshPositions||$.ui.ddmanager.prepareOffsets(a,b)}}
;var droppable=$.ui.droppable;$.widget("ui.resizable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(a,b){if("hidden"===$(a).css("overflow"))return!1;var c=b&&"left"===b?"scrollLeft":"scrollTop",d=!1;return a[c]>0||(a[c]=1,d=a[c]>0,a[c]=0,d)},_create:function(){var a,b,c,d,e,f=this,g=this.options;if(this.element.addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!g.aspectRatio,aspectRatio:g.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=g.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=$(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),a=this.handles.split(","),this.handles={},b=0;b<a.length;b++)c=$.trim(a[b]),e="ui-resizable-"+c,d=$("<div class='ui-resizable-handle "+e+"'></div>"),d.css({zIndex:g.zIndex}),"se"===c&&d.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[c]=".ui-resizable-"+c,this.element.append(d);this._renderAxis=function(a){var b,c,d,e;a=a||this.element;for(b in this.handles)this.handles[b].constructor===String?this.handles[b]=this.element.children(this.handles[b]).first().show():(this.handles[b].jquery||this.handles[b].nodeType)&&(this.handles[b]=$(this.handles[b]),this._on(this.handles[b],{mousedown:f._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(c=$(this.handles[b],this.element),e=/sw|ne|nw|se|n|s/.test(b)?c.outerHeight():c.outerWidth(),d=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),a.css(d,e),this._proportionallyResize()),this._handles=this._handles.add(this.handles[b])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){f.resizing||(this.className&&(d=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),f.axis=d&&d[1]?d[1]:"se")}),g.autoHide&&(this._handles.hide(),$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){g.disabled||($(this).removeClass("ui-resizable-autohide"),f._handles.show())}).mouseleave(function(){g.disabled||f.resizing||($(this).addClass("ui-resizable-autohide"),f._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var a,b=function(a){$(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(b(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()),this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(a){var b,c,d=!1;for(b in this.handles)((c=$(this.handles[b])[0])===a.target||$.contains(c,a.target))&&(d=!0);return!this.options.disabled&&d},_mouseStart:function(a){var b,c,d,e=this.options,f=this.element;return this.resizing=!0,this._renderProxy(),b=this._num(this.helper.css("left")),c=this._num(this.helper.css("top")),e.containment&&(b+=$(e.containment).scrollLeft()||0,c+=$(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:b,top:c},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalPosition={left:b,top:c},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=$(".ui-resizable-"+this.axis).css("cursor"),$("body").css("cursor","auto"===d?this.axis+"-resize":d),f.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(a){var b,c,d=this.originalMousePosition,e=this.axis,f=a.pageX-d.left||0,g=a.pageY-d.top||0,h=this._change[e];return this._updatePrevProperties(),!!h&&(b=h.apply(this,[a,f,g]),this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(b=this._updateRatio(b,a)),b=this._respectSize(b,a),this._updateCache(b),this._propagate("resize",a),c=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),$.isEmptyObject(c)||(this._updatePrevProperties(),this._trigger("resize",a,this.ui()),this._applyChanges()),!1)},_mouseStop:function(a){this.resizing=!1;var b,c,d,e,f,g,h,i=this.options,j=this;return this._helper&&(b=this._proportionallyResizeElements,c=b.length&&/textarea/i.test(b[0].nodeName),d=c&&this._hasScroll(b[0],"left")?0:j.sizeDiff.height,e=c?0:j.sizeDiff.width,f={width:j.helper.width()-e,height:j.helper.height()-d},g=parseInt(j.element.css("left"),10)+(j.position.left-j.originalPosition.left)||null,h=parseInt(j.element.css("top"),10)+(j.position.top-j.originalPosition.top)||null,i.animate||this.element.css($.extend(f,{top:h,left:g})),j.helper.height(j.size.height),j.helper.width(j.size.width),this._helper&&!i.animate&&this._proportionallyResize()),$("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var b,c,d,e,f,g=this.options;f={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:Infinity,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:Infinity},(this._aspectRatio||a)&&(b=f.minHeight*this.aspectRatio,d=f.minWidth/this.aspectRatio,c=f.maxHeight*this.aspectRatio,e=f.maxWidth/this.aspectRatio,b>f.minWidth&&(f.minWidth=b),d>f.minHeight&&(f.minHeight=d),c<f.maxWidth&&(f.maxWidth=c),e<f.maxHeight&&(f.maxHeight=e)),this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===d&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"===d&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,h=this.originalPosition.left+this.originalSize.width,i=this.position.top+this.size.height,j=/sw|nw|w/.test(c),k=/nw|ne|n/.test(c);return f&&(a.width=b.minWidth),g&&(a.height=b.minHeight),d&&(a.width=b.maxWidth),e&&(a.height=b.maxHeight),f&&j&&(a.left=h-b.minWidth),d&&j&&(a.left=h-b.maxWidth),g&&k&&(a.top=i-b.minHeight),e&&k&&(a.top=i-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],e=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];b<4;b++)c[b]=parseInt(d[b],10)||0,c[b]+=parseInt(e[b],10)||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,c=this.helper||this.element;b<this._proportionallyResizeElements.length;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var a=this.element,b=this.options;this.elementOffset=a.offset(),this._helper?(this.helper=this.helper||$("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize;return{left:this.originalPosition.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize;return{top:this.originalPosition.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},sw:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,b,c]))},ne:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},nw:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,c]))}},_propagate:function(a,b){$.ui.plugin.call(this,a,[b,this.ui()]),"resize"!==a&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.ui.plugin.add("resizable","animate",{stop:function(a){var b=$(this).resizable("instance"),c=b.options,d=b._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),f=e&&b._hasScroll(d[0],"left")?0:b.sizeDiff.height,g=e?0:b.sizeDiff.width,h={width:b.size.width-g,height:b.size.height-f},i=parseInt(b.element.css("left"),10)+(b.position.left-b.originalPosition.left)||null,j=parseInt(b.element.css("top"),10)+(b.position.top-b.originalPosition.top)||null;b.element.animate($.extend(h,j&&i?{top:j,left:i}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var c={width:parseInt(b.element.css("width"),10),height:parseInt(b.element.css("height"),10),top:parseInt(b.element.css("top"),10),left:parseInt(b.element.css("left"),10)};d&&d.length&&$(d[0]).css({width:c.width,height:c.height}),b._updateCache(c),b._propagate("resize",a)}})}}),$.ui.plugin.add("resizable","containment",{start:function(){var a,b,c,d,e,f,g,h=$(this).resizable("instance"),i=h.options,j=h.element,k=i.containment,l=k instanceof $?k.get(0):/parent/.test(k)?j.parent().get(0):k;l&&(h.containerElement=$(l),/document/.test(k)||k===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}):(a=$(l),b=[],$(["Top","Right","Left","Bottom"]).each(function(c,d){b[c]=h._num(a.css("padding"+d))}),h.containerOffset=a.offset(),h.containerPosition=a.position(),h.containerSize={height:a.innerHeight()-b[3],width:a.innerWidth()-b[1]},c=h.containerOffset,d=h.containerSize.height,e=h.containerSize.width,f=h._hasScroll(l,"left")?l.scrollWidth:e,g=h._hasScroll(l)?l.scrollHeight:d,h.parentData={element:l,left:c.left,top:c.top,width:f,height:g}))},resize:function(a){var b,c,d,e,f=$(this).resizable("instance"),g=f.options,h=f.containerOffset,i=f.position,j=f._aspectRatio||a.shiftKey,k={top:0,left:0},l=f.containerElement,m=!0;l[0]!==document&&/static/.test(l.css("position"))&&(k=h),i.left<(f._helper?h.left:0)&&(f.size.width=f.size.width+(f._helper?f.position.left-h.left:f.position.left-k.left),j&&(f.size.height=f.size.width/f.aspectRatio,m=!1),f.position.left=g.helper?h.left:0),i.top<(f._helper?h.top:0)&&(f.size.height=f.size.height+(f._helper?f.position.top-h.top:f.position.top),j&&(f.size.width=f.size.height*f.aspectRatio,m=!1),f.position.top=f._helper?h.top:0),d=f.containerElement.get(0)===f.element.parent().get(0),e=/relative|absolute/.test(f.containerElement.css("position")),d&&e?(f.offset.left=f.parentData.left+f.position.left,f.offset.top=f.parentData.top+f.position.top):(f.offset.left=f.element.offset().left,f.offset.top=f.element.offset().top),b=Math.abs(f.sizeDiff.width+(f._helper?f.offset.left-k.left:f.offset.left-h.left)),c=Math.abs(f.sizeDiff.height+(f._helper?f.offset.top-k.top:f.offset.top-h.top)),b+f.size.width>=f.parentData.width&&(f.size.width=f.parentData.width-b,j&&(f.size.height=f.size.width/f.aspectRatio,m=!1)),c+f.size.height>=f.parentData.height&&(f.size.height=f.parentData.height-c,j&&(f.size.width=f.size.height*f.aspectRatio,m=!1)),m||(f.position.left=f.prevPosition.left,f.position.top=f.prevPosition.top,f.size.width=f.prevSize.width,f.size.height=f.prevSize.height)},stop:function(){var a=$(this).resizable("instance"),b=a.options,c=a.containerOffset,d=a.containerPosition,e=a.containerElement,f=$(a.helper),g=f.offset(),h=f.outerWidth()-a.sizeDiff.width,i=f.outerHeight()-a.sizeDiff.height;a._helper&&!b.animate&&/relative/.test(e.css("position"))&&$(this).css({left:g.left-d.left-c.left,width:h,height:i}),a._helper&&!b.animate&&/static/.test(e.css("position"))&&$(this).css({left:g.left-d.left-c.left,width:h,height:i})}}),$.ui.plugin.add("resizable","alsoResize",{start:function(){var a=$(this).resizable("instance"),b=a.options;$(b.alsoResize).each(function(){var a=$(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})},resize:function(a,b){var c=$(this).resizable("instance"),d=c.options,e=c.originalSize,f=c.originalPosition,g={height:c.size.height-e.height||0,width:c.size.width-e.width||0,top:c.position.top-f.top||0,left:c.position.left-f.left||0};$(d.alsoResize).each(function(){var a=$(this),c=$(this).data("ui-resizable-alsoresize"),d={},e=a.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(e,function(a,b){var e=(c[b]||0)+(g[b]||0);e&&e>=0&&(d[b]=e||null)}),a.css(d)})},stop:function(){$(this).removeData("resizable-alsoresize")}}),$.ui.plugin.add("resizable","ghost",{start:function(){var a=$(this).resizable("instance"),b=a.options,c=a.size;a.ghost=a.originalElement.clone(),a.ghost.css({opacity:.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof b.ghost?b.ghost:""),a.ghost.appendTo(a.helper)},resize:function(){var a=$(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=$(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(){var a,b=$(this).resizable("instance"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis,h="number"==typeof c.grid?[c.grid,c.grid]:c.grid,i=h[0]||1,j=h[1]||1,k=Math.round((d.width-e.width)/i)*i,l=Math.round((d.height-e.height)/j)*j,m=e.width+k,n=e.height+l,o=c.maxWidth&&c.maxWidth<m,p=c.maxHeight&&c.maxHeight<n,q=c.minWidth&&c.minWidth>m,r=c.minHeight&&c.minHeight>n;c.grid=h,q&&(m+=i),r&&(n+=j),o&&(m-=i),p&&(n-=j),/^(se|s|e)$/.test(g)?(b.size.width=m,b.size.height=n):/^(ne)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.top=f.top-l):/^(sw)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.left=f.left-k):((n-j<=0||m-i<=0)&&(a=b._getPaddingPlusBorderDimensions(this)),n-j>0?(b.size.height=n,b.position.top=f.top-l):(n=j-a.height,b.size.height=n,b.position.top=f.top+e.height-n),m-i>0?(b.size.width=m,b.position.left=f.left-k):(m=i-a.width,b.size.width=m,b.position.left=f.left+e.width-m))}});var resizable=$.ui.resizable,selectable=$.widget("ui.selectable",$.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var a,b=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){a=$(b.options.filter,b.element[0]),a.addClass("ui-selectee"),a.each(function(){var a=$(this),b=a.offset();$.data(this,"selectable-item",{element:this,$element:a,left:b.left,top:b.top,right:b.left+a.outerWidth(),bottom:b.top+a.outerHeight(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=a.addClass("ui-selectee"),this._mouseInit(),this.helper=$("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(a){var b=this,c=this.options;this.opos=[a.pageX,a.pageY],this.options.disabled||(this.selectees=$(c.filter,this.element[0]),this._trigger("start",a),$(c.appendTo).append(this.helper),this.helper.css({left:a.pageX,top:a.pageY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var c=$.data(this,"selectable-item");c.startselected=!0,a.metaKey||a.ctrlKey||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,b._trigger("unselecting",a,{unselecting:c.element}))}),$(a.target).parents().addBack().each(function(){var c,d=$.data(this,"selectable-item");if(d)return c=!a.metaKey&&!a.ctrlKey||!d.$element.hasClass("ui-selected"),d.$element.removeClass(c?"ui-unselecting":"ui-selected").addClass(c?"ui-selecting":"ui-unselecting"),d.unselecting=!c,d.selecting=c,d.selected=c,c?b._trigger("selecting",a,{selecting:d.element}):b._trigger("unselecting",a,{unselecting:d.element}),!1}))},_mouseDrag:function(a){if(this.dragged=!0,!this.options.disabled){var b,c=this,d=this.options,e=this.opos[0],f=this.opos[1],g=a.pageX,h=a.pageY;return e>g&&(b=g,g=e,e=b),f>h&&(b=h,h=f,f=b),this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var b=$.data(this,"selectable-item"),i=!1;b&&b.element!==c.element[0]&&("touch"===d.tolerance?i=!(b.left>g||b.right<e||b.top>h||b.bottom<f):"fit"===d.tolerance&&(i=b.left>e&&b.right<g&&b.top>f&&b.bottom<h),i?(b.selected&&(b.$element.removeClass("ui-selected"),b.selected=!1),b.unselecting&&(b.$element.removeClass("ui-unselecting"),b.unselecting=!1),b.selecting||(b.$element.addClass("ui-selecting"),b.selecting=!0,c._trigger("selecting",a,{selecting:b.element}))):(b.selecting&&((a.metaKey||a.ctrlKey)&&b.startselected?(b.$element.removeClass("ui-selecting"),b.selecting=!1,b.$element.addClass("ui-selected"),b.selected=!0):(b.$element.removeClass("ui-selecting"),b.selecting=!1,b.startselected&&(b.$element.addClass("ui-unselecting"),b.unselecting=!0),c._trigger("unselecting",a,{unselecting:b.element}))),b.selected&&(a.metaKey||a.ctrlKey||b.startselected||(b.$element.removeClass("ui-selected"),b.selected=!1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,c._trigger("unselecting",a,{unselecting:b.element})))))}),!1}},_mouseStop:function(a){var b=this;return this.dragged=!1,$(".ui-unselecting",this.element[0]).each(function(){var c=$.data(this,"selectable-item");c.$element.removeClass("ui-unselecting"),c.unselecting=!1,c.startselected=!1,b._trigger("unselected",a,{unselected:c.element})}),$(".ui-selecting",this.element[0]).each(function(){var c=$.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected"),c.selecting=!1,c.selected=!0,c.startselected=!0,b._trigger("selected",a,{selected:c.element})}),this._trigger("stop",a),this.helper.remove(),!1}}),sortable=$.widget("ui.sortable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&a<b+c},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,b){this._super(a,b),"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),$.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,b){var c=null,d=!1,e=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(a),$(a.target).parents().each(function(){if($.data(this,e.widgetName+"-item")===e)return c=$(this),!1}),$.data(a.target,e.widgetName+"-item")===e&&(c=$(a.target)),!!c&&(!(this.options.handle&&!b&&($(this.options.handle,c).find("*").addBack().each(function(){this===a.target&&(d=!0)}),!d))&&(this.currentItem=c,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(a,b,c){var d,e,f=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),f.containment&&this._setContainment(),f.cursor&&"auto"!==f.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",f.cursor),this.storedStylesheet=$("<style>*{ cursor: "+f.cursor+" !important; }</style>").appendTo(e)),f.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",f.opacity)),f.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",f.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!c)for(d=this.containers.length-1;d>=0;d--)this.containers[d]._trigger("activate",a,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!f.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){var b,c,d,e,f=this.options,g=!1;for(this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<f.scrollSensitivity?this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+f.scrollSpeed:a.pageY-this.overflowOffset.top<f.scrollSensitivity&&(this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-f.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<f.scrollSensitivity?this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+f.scrollSpeed:a.pageX-this.overflowOffset.left<f.scrollSensitivity&&(this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft-f.scrollSpeed)):(a.pageY-this.document.scrollTop()<f.scrollSensitivity?g=this.document.scrollTop(this.document.scrollTop()-f.scrollSpeed):this.window.height()-(a.pageY-this.document.scrollTop())<f.scrollSensitivity&&(g=this.document.scrollTop(this.document.scrollTop()+f.scrollSpeed)),a.pageX-this.document.scrollLeft()<f.scrollSensitivity?g=this.document.scrollLeft(this.document.scrollLeft()-f.scrollSpeed):this.window.width()-(a.pageX-this.document.scrollLeft())<f.scrollSensitivity&&(g=this.document.scrollLeft(this.document.scrollLeft()+f.scrollSpeed))),!1!==g&&$.ui.ddmanager&&!f.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b=this.items.length-1;b>=0;b--)if(c=this.items[b],d=c.item[0],(e=this._intersectsWithPointer(c))&&c.instance===this.currentContainer&&!(d===this.currentItem[0]||this.placeholder[1===e?"next":"prev"]()[0]===d||$.contains(this.placeholder[0],d)||"semi-dynamic"===this.options.type&&$.contains(this.element[0],d))){if(this.direction=1===e?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(c))break;this._rearrange(a,c),this._trigger("change",a,this._uiHash());break}return this._contactContainers(a),$.ui.ddmanager&&$.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,b){if(a){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,a),this.options.revert){var c=this,d=this.placeholder.offset(),e=this.options.axis,f={};e&&"x"!==e||(f.left=d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),e&&"y"!==e||(f.top=d.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,$(this.helper).animate(f,parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},$(b).each(function(){var b=($(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);b&&c.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))}),!c.length&&a.key&&c.push(a.key+"="),c.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},b.each(function(){c.push($(a.item||this).attr(a.attribute||"id")||"")}),c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&d+j<i,m="y"===this.options.axis||b+k>f&&b+k<g,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),c="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),d=b&&c,e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return!!d&&(this.floating?f&&"right"===f||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&c||"left"===e&&!c:d&&("down"===d&&b||"up"===d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top
;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function b(){g.push(this)}var c,d,e,f,g=[],h=[],i=this._connectWith();if(i&&a)for(c=i.length-1;c>=0;c--)for(e=$(i[c],this.document[0]),d=e.length-1;d>=0;d--)(f=$.data(e[d],this.widgetFullName))&&f!==this&&!f.options.disabled&&h.push([$.isFunction(f.options.items)?f.options.items.call(f.element):$(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f]);for(h.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),c=h.length-1;c>=0;c--)h[c][0].each(b);return $(g)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(b){for(var c=0;c<a.length;c++)if(a[c]===b.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[],this.containers=[this];var b,c,d,e,f,g,h,i,j=this.items,k=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):$(this.options.items,this.element),this]],l=this._connectWith();if(l&&this.ready)for(b=l.length-1;b>=0;b--)for(d=$(l[b],this.document[0]),c=d.length-1;c>=0;c--)(e=$.data(d[c],this.widgetFullName))&&e!==this&&!e.options.disabled&&(k.push([$.isFunction(e.options.items)?e.options.items.call(e.element[0],a,{item:this.currentItem}):$(e.options.items,e.element),e]),this.containers.push(e));for(b=k.length-1;b>=0;b--)for(f=k[b][1],g=k[b][0],c=0,i=g.length;c<i;c++)h=$(g[c]),h.data(this.widgetName+"-item",f),j.push({item:h,instance:f,width:0,height:0,left:0,top:0})},refreshPositions:function(a){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var b,c,d,e;for(b=this.items.length-1;b>=0;b--)c=this.items[b],c.instance!==this.currentContainer&&this.currentContainer&&c.item[0]!==this.currentItem[0]||(d=this.options.toleranceElement?$(this.options.toleranceElement,c.item):c.item,a||(c.width=d.outerWidth(),c.height=d.outerHeight()),e=d.offset(),c.left=e.left,c.top=e.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;b>=0;b--)e=this.containers[b].element.offset(),this.containers[b].containerCache.left=e.left,this.containers[b].containerCache.top=e.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function(a){a=a||this;var b,c=a.options;c.placeholder&&c.placeholder.constructor!==String||(b=c.placeholder,c.placeholder={element:function(){var c=a.currentItem[0].nodeName.toLowerCase(),d=$("<"+c+">",a.document[0]).addClass(b||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===c?a._createTrPlaceholder(a.currentItem.find("tr").eq(0),$("<tr>",a.document[0]).appendTo(d)):"tr"===c?a._createTrPlaceholder(a.currentItem,d):"img"===c&&d.attr("src",a.currentItem.attr("src")),b||d.css("visibility","hidden"),d},update:function(d,e){b&&!c.forcePlaceholderSize||(e.height()||e.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}}),a.placeholder=$(c.placeholder.element.call(a.element,a.currentItem)),a.currentItem.after(a.placeholder),c.placeholder.update(a,a.placeholder)},_createTrPlaceholder:function(a,b){var c=this;a.children().each(function(){$("<td>&#160;</td>",c.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(b)})},_contactContainers:function(a){var b,c,d,e,f,g,h,i,j,k,l=null,m=null;for(b=this.containers.length-1;b>=0;b--)if(!$.contains(this.currentItem[0],this.containers[b].element[0]))if(this._intersectsWith(this.containers[b].containerCache)){if(l&&$.contains(this.containers[b].element[0],l.element[0]))continue;l=this.containers[b],m=b}else this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",a,this._uiHash(this)),this.containers[b].containerCache.over=0);if(l)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",a,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(d=1e4,e=null,j=l.floating||this._isFloating(this.currentItem),f=j?"left":"top",g=j?"width":"height",k=j?"clientX":"clientY",c=this.items.length-1;c>=0;c--)$.contains(this.containers[m].element[0],this.items[c].item[0])&&this.items[c].item[0]!==this.currentItem[0]&&(h=this.items[c].item.offset()[f],i=!1,a[k]-h>this.items[c][g]/2&&(i=!0),Math.abs(a[k]-h)<d&&(d=Math.abs(a[k]-h),e=this.items[c],this.direction=i?"up":"down"));if(!e&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return void(this.currentContainer.containerCache.over||(this.containers[m]._trigger("over",a,this._uiHash()),this.currentContainer.containerCache.over=1));e?this._rearrange(a,e,null,!0):this._rearrange(a,null,this.containers[m].element,!0),this._trigger("change",a,this._uiHash()),this.containers[m]._trigger("change",a,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",a,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(a){var b=this.options,c=$.isFunction(b.helper)?$(b.helper.apply(this.element[0],[a,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||$("parent"!==b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),c[0].style.width&&!b.forceHelperSize||c.width(this.currentItem.width()),c[0].style.height&&!b.forceHelperSize||c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),$.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,b,c,d=this.options;"parent"===d.containment&&(d.containment=this.helper[0].parentNode),"document"!==d.containment&&"window"!==d.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===d.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===d.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(d.containment)||(a=$(d.containment)[0],b=$(d.containment).offset(),c="hidden"!==$(a).css("overflow"),this.containment=[b.left+(parseInt($(a).css("borderLeftWidth"),10)||0)+(parseInt($(a).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt($(a).css("borderTopWidth"),10)||0)+(parseInt($(a).css("paddingTop"),10)||0)-this.margins.top,b.left+(c?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt($(a).css("borderLeftWidth"),10)||0)-(parseInt($(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(c?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt($(a).css("borderTopWidth"),10)||0)-(parseInt($(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*c}},_generatePosition:function(a){var b,c,d=this.options,e=a.pageX,f=a.pageY,g="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(g[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(f=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(f=this.containment[3]+this.offset.click.top)),d.grid&&(b=this.originalPageY+Math.round((f-this.originalPageY)/d.grid[1])*d.grid[1],f=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-d.grid[1]:b+d.grid[1]:b,c=this.originalPageX+Math.round((e-this.originalPageX)/d.grid[0])*d.grid[0],e=this.containment?c-this.offset.click.left>=this.containment[0]&&c-this.offset.click.left<=this.containment[2]?c:c-this.offset.click.left>=this.containment[0]?c-d.grid[0]:c+d.grid[0]:c)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:g.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:g.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)"auto"!==this._storedCSS[d]&&"static"!==this._storedCSS[d]||(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===$.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||$([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}});!function($){fish.locale.en=$.extend(fish.locale.en,{alert:{ok:"OK",cancel:"Cancel",confirm:"Confirm",information:"Information",success:"Success",warn:"Warning",error:"Error",prompt:"Prompt"}})}(jQuery),function(){fish.locale.en=$.extend(fish.locale.en,{blockUI:{loading:"Loading..."}})}(),function($){fish.locale.en=$.extend(fish.locale.en,{common:{PLZ_SELECT:"---Please select---",emptyrecords:"No record to view",loading:"Loading...",ignoreCase:"Now ignore case",nIgnoreCase:"Now case sensitive"}})}(jQuery),function(){fish.locale.en=$.extend(fish.locale.en,{datetimepicker:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today",now:"Now",ok:"OK",chooseHour:"Choose Hour",chooseMinute:"Choose Minute",chooseSecond:"Choose Second",selectItem:["Current time","Begining of day","End of day","Begining of the next day","End of the next day","Begining of month","End of month","Begining of the next month","End of the next month","Begining of year","End of year","Begining of the next year","End of the next year"]}})}(),function(){fish.locale.en=$.extend(fish.locale.en,{endlessScroll:{loading:"Loading..."}})}(),function(){fish.locale.en=$.extend(fish.locale.en,{fileupload:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}})}(),function($){fish.locale.en=$.extend(fish.locale.en,{grid:{defaults:{recordtext:"View {0} - {1} of {2}",pgtext:"Page {0} of {1}"},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"oc",text:"multiple contain"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"},columnsFeature:{title:"Columns Feature",columnName:"Column Name",columnWidth:"Column Width",invisibleColumns:"Invisible Columns",visibleColumns:"Visible Columns",checkOneVisible:"At least one column must be visible. Please choose again."},exportFeature:{title:"Export"},columnMenu:{ascsort:"Sort Ascending",descsort:"Sort Descending",columns:"Columns",filter:"Filter"}}})}(jQuery),function($){fish.locale.en=$.extend(fish.locale.en,{pagination:{pgtext:"Page {0} of {1}",recordtext:"View {0}-{1}/{2}",rowtext:"{0}/ Page",gotext:"Go {0}"}})}(jQuery),function($){fish.locale.en=$.extend(fish.locale.en,{validator:{msg:{defaultMsg:"This field is not valid.",loadingMsg:"Validating...",digits:"Please enter only digits.",required:"This field is required.",integer:{"*":"Please enter an integer.","+":"Please enter a positive integer.","+0":"Please enter a positive integer or 0.","-":"Please enter a negative integer.","-0":"Please enter a negative integer or 0."},"float":{"*":"Please enter a float number.","+":"Please enter a positive float number.","+0":"Please enter a positive float number or 0.","-":"Please enter a negative float number.","-0":"Please enter a negative float number or 0."},match:{eq:"{0} must be equal to {1}.",neq:"{0} must be not equal to {1}.",lt:"{0} must be less than {1}.",datelt:"{0} must be earlier than {1}.",datelte:"{0} can not be later than the {1}",gt:"{0} must be greater than {1}.",dategt:"{0} must be later than {1}.",dategte:"{0} can not be earlier than the {1}",lte:"{0} must be less than or equal to {1}.",gte:"{0} must be greater than or equal to {1}."},range:{rg:"Please enter a number between {1} and {2}.",gte:"Please enter a number greater than or equal to {1}.",lte:"Please enter a number less than or equal to {1}."},checked:{eq:"Please check {1} items.",rg:"Please check between {1} and {2} items.",gte:"Please check at least {1} items.",lte:"Please check no more than {1} items."},length:{eq:"Please enter {1} characters.",rg:"Please enter a value between {1} and {2} characters long.",gte:"Please enter at least {1} characters.",lte:"Please enter no more than {1} characters."}},rules:{letters:[/^[a-z]+$/i,"{0} can only enter letters"],tel:[/^(?:(?:0\d{2,3}[\- ]?[1-9]\d{6,7})|(?:[48]00[\- ]?[1-9]\d{6}))$/,"Telephone format is incorrect"],mobile:[/^1[3-9]\d{9}$/,"Phone number format is incorrect"],email:[/^[\w\+\-]+(\.[\w\+\-]+)*@[a-z\d\-]+(\.[a-z\d\-]+)*\.([a-z]{2,4})$/i,"E-mail format is incorrect"],qq:[/^[1-9]\d{4,}$/,"QQ number format is incorrect"],date:[/^\d{4}-\d{1,2}-\d{1,2}$/,"Please enter the correct date[yyyy-mm-dd]"],time:[/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/,"Enter the correct time[hh:ii(:ss)]"],datetime:[/^\d{4}-\d{1,2}-\d{1,2} ([01]\d|2[0-3])(:[0-5]\d){1,2}$/,"Please enter the correct datetime[yyyy-mm-dd hh:ii(:ss)]"],ID_card:[/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[A-Z])$/,"Please enter the correct ID number"],url:[/^(https?|ftp):\/\/[^\s]+$/i,"URL format is incorrect"],postcode:[/^[1-9]\d{5}$/,"ZIP format is incorrect"],chinese:[/^[\u0391-\uFFE5]+$/,"Please enter the Chinese"],username:[/^\w{3,12}$/,"Please enter 3-12 digits, letters, underscores"],password:[/^[0-9a-zA-Z]{6,16}$/,"Password from 6-16 digits, letters"],ip:[/^((25[0-5]|2[0-4][0-9]|1?[0-9]?[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1?[0-9]?[0-9])$/,"IP format is incorrect."],accept:function(a,b){if(!b)return!0;var c=b[0];return"*"===c||new RegExp(".(?:"+(c||"png|jpg|jpeg|gif")+")$","i").test(a.value)||this.renderMsg("{1} suffix only accept",c.replace("|",","))}}}})}(jQuery),function($){$.fn.extend({slimScroll:function(a){var b={axis:"y",width:"auto",height:"250px",size:"7px",color:"#000",positionX:"bottom",positionY:"right",distance:"1px",startX:"left",startY:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClassX:"slimScrollRailX",barClassX:"slimScrollBarX",railClassY:"slimScrollRailY",barClassY:"slimScrollBarY",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",scrollToX:"",scrollToY:"",scrollByX:"",scrollByY:"",hideBarAfterInit:!0},c=$.extend(b,a);return c.axis=c.axis.toLowerCase(),this.each(function(){function b(a){var b=0,c=0,d=0;if("detail"in a&&(c=a.detail),"wheelDelta"in a&&(c=-1*a.wheelDelta),"wheelDeltaY"in a&&(c=-1*a.wheelDeltaY),"wheelDeltaX"in a&&(b=a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(b=-1*c,c=0),b!==b&&c!==c&&(b=0,c=a.wheelDelta),"deltaY"in a&&(c=a.deltaY),"deltaX"in a&&(b=a.deltaX),fish.browser.userAgent.match(/Chrome\/([\d.]+)/)||fish.browser.userAgent.match(/CriOS\/([\d.]+)/)){d=3*c/100,c=40*d}if(fish.browser.userAgent.match(/Firefox\/([\d.]+)/)&&(c*=40),fish.browser.msie&&fish.browser.version>=9){d=20*c/document.body.clientHeight,c=40*d}return[b,c]}function d(a){if(q){a=a||window.event;var c=b(a),d=c[0],f=c[1];a.target||a.srcTarget||a.srcElement;e(d,f,!0),a.preventDefault&&!H&&(a.preventDefault(),a.stopPropagation()),H||(a.returnValue=!1)}}function e(a,b,d,e){if(H=!1,l){var f=a,g=I.outerWidth()-O.outerWidth();if(d&&(f=parseInt(O.css("left"))+a*parseInt(c.wheelStep)/100,f=Math.min(Math.max(f,0),g),f=a>0?Math.ceil(f):Math.floor(f),O.css({left:f+"px"})),A=parseInt(O.css("left"))/(I.outerWidth()-O.outerWidth()),f=A*(I[0].scrollWidth-I.outerWidth()),e){f=a;var n=f/I[0].scrollWidth*I.outerWidth();n=Math.min(Math.max(n,0),g),O.css({left:n+"px"})}I.scrollLeft(f),I.trigger("slimscrollingX",~~f),h(),i()}if(m){var o=b,p=I.outerHeight()-R.outerHeight();if(d&&(o=parseInt(R.css("top"))+b*parseInt(c.wheelStep)/100,o=Math.min(Math.max(o,0),p),o=b>0?Math.ceil(o):Math.floor(o),R.css({top:o+"px"})),C=parseInt(R.css("top"))/(I.outerHeight()-R.outerHeight()),o=C*(I[0].scrollHeight-I.outerHeight()),e){o=b;var q=o/I[0].scrollHeight*I.outerHeight();q=Math.min(Math.max(q,0),p),R.css({top:q+"px"})}I.scrollTop(o),I.trigger("slimscrollingY",~~o),j(),k()}}function f(){if(O){z=Math.max(I.outerWidth()/I[0].scrollWidth*I.outerWidth(),G),O.css({width:z+"px"});var a=l&&I[0].scrollWidth>I[0].clientWidth?"block":"none";O.css({display:a})}}function g(){if(R){y=Math.max(I.outerHeight()/I[0].scrollHeight*I.outerHeight(),F),R.css({height:y+"px"});var a=m&&I[0].scrollHeight>I[0].clientHeight?"block":"none";R.css({display:a})}}function h(){if(O){if(f(),clearTimeout(u),A==~~A){if(H=c.allowPageScroll,B!=A){var a=0==~~A?"left":"right";I.trigger("slimscrollX",a)}}else H=!1;if(B=A,z>=I.outerWidth())return void(H=!0);O.stop(!0,!0).fadeIn("fast"),c.railVisible&&N.stop(!0,!0).fadeIn("fast")}}function i(){O&&(c.alwaysVisible||(u=setTimeout(function(){c.disableFadeOut&&q||r||t||(O.fadeOut("slow"),N.fadeOut("slow"))},1e3)))}function j(){if(R){if(g(),clearTimeout(v),C==~~C){if(H=c.allowPageScroll,D!=C){var a=0==~~C?"top":"bottom";I.trigger("slimscrollY",a)}}else H=!1;if(D=C,y>=I.outerHeight())return void(H=!0);R.stop(!0,!0).fadeIn("fast"),c.railVisible&&Q.stop(!0,!0).fadeIn("fast")}}function k(){R&&(c.alwaysVisible||(v=setTimeout(function(){c.disableFadeOut&&q||s||t||(R.fadeOut("slow"),Q.fadeOut("slow"))},1e3)))}var l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E="<div></div>",F=30,G=30,H=!1,I=$(this),J=$(document);if(I.parent().hasClass(c.wrapperClass)){$.extend(c,I.data("slimScrollConfig")||{});var K=I.scrollLeft(),L=I.scrollTop();return O=I.siblings("."+c.barClassX),(N=I.siblings("."+c.railClassX),R=I.siblings("."+c.barClassY),Q=I.siblings("."+c.railClassY),l="both"==c.axis||"x"==c.axis,m="both"==c.axis||"y"==c.axis,f(),g(),$.isPlainObject(a)&&("width"in a&&l&&("auto"==a.width?(I.parent().css("width","auto"),I.css("width","auto"),c.width=I.parent().parent().width()):(c.width=a.width,I.css({"white-space":"nowrap"}))),"height"in a&&m&&("auto"==a.height?(I.parent().css("height","auto"),I.css("height","auto"),c.height=I.parent().parent().height()):"content"==a.height?(I.parent().css("height","auto"),I.css("height","auto"),c.height="auto"):c.height=a.height),I.parent().css({position:"relative",overflow:"hidden",width:c.width,height:c.height}),I.css({overflow:"hidden",width:c.width,height:c.height}),"scrollToX"in a?K=parseInt(a.scrollToX):"scrollByX"in a&&(K+=parseInt(a.scrollByX)),"scrollToY"in a?L=parseInt(a.scrollToY):"scrollByY"in a&&(L+=parseInt(a.scrollByY)),"destroy"in a))?(O.remove(),N.remove(),R.remove(),Q.remove(),void I.unwrap()):(e(K,L,!1,!0),void I.data("slimScrollConfig",c))}if(!($.isPlainObject(a)&&"destroy"in a)){l="both"==c.axis||"x"==c.axis,m="both"==c.axis||"y"==c.axis,c.height="auto"==c.height?I.parent().height():"content"==c.height?"auto":c.height,c.width="auto"==c.width?I.parent().width():c.width,I.data("slimScrollConfig",c);var M=$(E).addClass(c.wrapperClass).css({position:"relative",overflow:"hidden",width:c.width,height:c.height});if(I.css({overflow:"hidden",width:c.width,height:c.height}),I.wrap(M),l){"auto"!=c.width&&l&&I.css({"white-space":"nowrap"});var N=$(E).addClass(c.railClassX).css({width:"100%",height:c.size,position:"absolute",left:0,display:c.alwaysVisible&&c.railVisible?"block":"none","border-radius":c.railBorderRadius,background:c.railColor,opacity:c.railOpacity,zIndex:90}),O=$(E).addClass(c.barClassX).css({background:c.color,height:c.size,position:"absolute",left:0,opacity:c.opacity,display:c.alwaysVisible?"block":"none","border-radius":c.borderRadius,BorderRadius:c.borderRadius,MozBorderRadius:c.borderRadius,WebkitBorderRadius:c.borderRadius,zIndex:99}),P="top"==c.positionX?{top:c.distance}:{bottom:c.distance};N.css(P),O.css(P),I.parent().append(O),I.parent().append(N),c.railDraggable&&(O.on("mousedown",function(a){return t=!0,n=parseFloat(O.css("left")),o=a.pageX,J.on("mousemove.slimscrollX",function(a){currLeft=n+a.pageX-o,O.css("left",currLeft),e(0,0,O.position().left)}),J.on("mouseup.slimscrollX",function(a){t=!1,i(),J.unbind(".slimscrollX")}),!1}).on("selectstart.slimscrollX",function(a){return a.stopPropagation(),a.preventDefault(),!1}),N.on("mousedown",function(a){return e((a.offsetX-z/2)*I[0].scrollWidth/I.outerWidth(),0,!1,!0),n=parseFloat(O.css("left")),o=a.pageX,J.on("mousemove.slimscrollX",function(a){currLeft=n+a.pageX-o,O.css("left",currLeft),e(0,0,O.position().left)}),J.on("mouseup.slimscrollX",function(a){t=!1,i(),J.unbind(".slimscrollX")}),!1})),N.hover(function(){h()},function(){i()}),O.hover(function(){r=!0},function(){r=!1}),f(),"right"===c.startX?(O.css({left:I.outerWidth()-O.outerWidth()}),e(0,0,!0)):"left"!==c.startX&&(e($(c.startX).position().left,null,null,!0),c.alwaysVisible||O.hide())}if(m){var Q=$(E).addClass(c.railClassY).css({width:c.size,height:"100%",position:"absolute",top:0,display:c.alwaysVisible&&c.railVisible?"block":"none","border-radius":c.railBorderRadius,background:c.railColor,opacity:c.railOpacity,zIndex:90}),R=$(E).addClass(c.barClassY).css({background:c.color,width:c.size,position:"absolute",top:0,opacity:c.opacity,display:c.alwaysVisible?"block":"none","border-radius":c.borderRadius,BorderRadius:c.borderRadius,MozBorderRadius:c.borderRadius,WebkitBorderRadius:c.borderRadius,zIndex:99}),S="right"==c.positionY?{right:c.distance}:{left:c.distance};Q.css(S),R.css(S),I.parent().append(R),I.parent().append(Q),c.railDraggable&&(R.on("mousedown",function(a){return t=!0,n=parseFloat(R.css("top")),p=a.pageY,J.on("mousemove.slimscrollY",function(a){currTop=n+a.pageY-p,R.css("top",currTop),e(0,0,R.position().top)}),J.on("mouseup.slimscrollY",function(a){t=!1,k(),J.unbind(".slimscrollY")}),!1}).on("selectstart.slimscrollY",function(a){return a.stopPropagation(),a.preventDefault(),!1}),Q.on("mousedown",function(a){return e(0,(a.offsetY-y/2)*I[0].scrollHeight/I.outerHeight(),!1,!0),n=parseFloat(R.css("top")),p=a.pageY,J.on("mousemove.slimscrollY",function(a){currTop=n+a.pageY-p,R.css("top",currTop),e(0,0,R.position().top)}),J.on("mouseup.slimscrollY",function(a){t=!1,k(),J.unbind(".slimscrollY")}),!1})),Q.hover(function(){j()},function(){k()}),R.hover(function(){s=!0},function(){s=!1}),g(),"bottom"===c.startY?(R.css({top:I.outerHeight()-R.outerHeight()}),e(0,0,!0)):"top"!==c.startY&&(e(null,$(c.startY).position().top,null,!0),c.alwaysVisible||R.hide())}I.hover(function(){q=!0,h(),j(),i(),k()},function(){q=!1,i(),k()}),I.on("touchstart",function(a,b){a.originalEvent.touches.length&&(w=a.originalEvent.touches[0].pageX,x=a.originalEvent.touches[0].pageY)}),I.on("touchmove",function(a){if(H||a.originalEvent.preventDefault(),a.originalEvent.touches.length){e((w-a.originalEvent.touches[0].pageX)/c.touchScrollStep,(x-a.originalEvent.touches[0].pageY)/c.touchScrollStep,!0),w=a.originalEvent.touches[0].pageX,x=a.originalEvent.touches[0].pageY}}),function(a){window.addEventListener?("undefined"!=typeof window.onwheel||fish.browser.msie&&fish.browser.version>=9?a.addEventListener("wheel",d,!1):"undefined"!=typeof window.onmousewheel&&a.addEventListener("mousewheel",d,!1),a.addEventListener("DOMMouseScroll",d,!1)):document.attachEvent("onmousewheel",d)}(this),c.hideBarAfterInit&&(i(),k())}}),this}}),$.fn.extend({slimscroll:$.fn.slimScroll})}(jQuery),function(){"use strict";function a(){for(var a=-1,b=h.keys(),c=0;c<b.length;c++)h.get(b[c]).value.modal&&(a=c);return a}function b(){var b=a(),c=$(document.body);b>=0&&(e||(e=$(f),
c.append(e)),e.css("z-index",1040+(b&&1||0)+10*b))}function c(){if(e){for(var a=-1,b=h.keys(),c=0;c<b.length;c++){var d=h.get(b[c]);d.value.$modalElement.is(":visible")&&d.value.modal&&(a=c)}-1==a?(e.remove(),e=null):e.css("z-index",1040+(a&&1||0)+10*a)}}function d(a){var b=h.keys();if(a){e||(e=$(f),$(document.body).append(e));for(var c=-1,d=0;d<b.length;d++)if(b[d]==a){c=d;break}e.css("z-index",1040+(c&&1||0)+10*c)}else e&&(e.remove(),e=null)}var e,f='<div class="modal-backdrop in"></div>',g={createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}},h=g.createNew();fish.modalStack={openedWindows:h,addBackdrop:function(){b()},changeBackdrop:function(a){d(a)},removeBackdrop:function(){c()},bringToFront:function(a){a.css("z-index",1050+10*(h.length()-1))}}}(),function(){"use strict";$.widget("ui.formfield",{_create:function(){this._formSupport(),this.element.data("formfield",this)},_formSupport:function(){var a=this,b=this.element.closest("form");0!==b.size()&&this._on(!0,b,{reset:function(b){setTimeout(function(){a._onFormReset()},0)},formClear:"_onFormClear",formDisable:"disable",formEnable:"enable",afterFormSetValue:"_afterFormSetValue"})},_onFormReset:$.noop,_onFormClear:$.noop,_formSetValue:$.noop,_formGetValue:$.noop,_afterFormSetValue:$.noop})}(),function(){$.widget("ui.accordion",{options:{active:!1,multiple:!1,animate:{},collapsible:!0,event:"click",header:".panel-heading",heightStyle:"content",icons:{activeHeader:"glyphicon glyphicon-triangle-bottom",header:"glyphicon glyphicon-triangle-right"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=$(),this.element.addClass("ui-accordion").attr("role","tablist"),a.collapsible||!1!==a.active&&null!=a.active||(a.active=0),this._processPanels(),a.active<0&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():$()}},_createIcons:function(){var a=this.options.icons;a&&($("<span>").addClass(a.header).prependTo(this.headers),this.active.children(":first").removeClass(a.header).addClass(a.activeHeader))},_destroyIcons:function(){this.headers.children(":first-child").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion").removeAttr("role"),this.headers.removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().removeClass("ui-accordion-content-active").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){if("active"===a)return void this._activate(b);"event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&(this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var b=$.ui.keyCode,c=this.headers.length,d=this.headers.index(a.target),e=!1;switch(a.keyCode){case b.RIGHT:case b.DOWN:e=this.headers[(d+1)%c];break;case b.LEFT:case b.UP:e=this.headers[(d-1+c)%c];break;case b.SPACE:case b.ENTER:this._eventHandler(a);break;case b.HOME:e=this.headers[0];break;case b.END:e=this.headers[c-1]}e&&($(a.target).attr("tabIndex",-1),$(e).attr("tabIndex",0),e.focus(),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===$.ui.keyCode.UP&&a.ctrlKey&&$(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),!1===a.active&&!0===a.collapsible||!this.headers.length?(a.active=!1,this.active=$()):!1===a.active?this._activate(0):this.active.length&&!$.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=$()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.children(".panel").children(this.options.header),this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var a,b=this.options,c=b.heightStyle,d=this.element.parent();this.active=this._findActive(b.active),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var a=$(this),b=a.uniqueId().attr("id"),c=a.next(),d=c.uniqueId().attr("id");a.attr("aria-controls",d),c.attr("aria-labelledby",b)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(b.event),"fill"===c?(a=d.height(),this.element.siblings(":visible").each(function(){var b=$(this),c=b.css("position");"absolute"!==c&&"fixed"!==c&&(a-=b.outerHeight(!0))}),this.headers.each(function(){a-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,a-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===c&&(a=0,this.headers.next().each(function(){a=Math.max(a,$(this).css("height","").height())}).height(a))},_activate:function(a){var b=this._findActive(a)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:$.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):$()},_setupEvents:function(a){var b={keydown:"_keydown"};a&&$.each(a.split(" "),function(a,c){b[c]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,b),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(a){var b=this.options,c=this.active,d=$(a.currentTarget),e="block"===d.next().css("display"),f=e&&b.collapsible,g=f?$():d.next(),h=c.next(),i={oldHeader:c,oldPanel:h,newHeader:f?$():d,newPanel:g,clickedIsActive:e};a.preventDefault(),e&&!b.collapsible||!1===this._trigger("beforeActivate",a,i)||(b.active=!f&&this.headers.index(d),this.active=e?$():d,i.clicked=d,this._toggle(i))},_toggle:function(a){var b=a.newPanel,c=this.options;if(c.multiple)var d=a.clickedIsActive?a.clicked.next():$();else d=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=b,this.prevHide=d,this.options.animate?this._animate(b,d,a):(d.hide(),b.show(),this._toggleComplete(a)),d.attr({"aria-hidden":"true"}),d.prev().attr({"aria-selected":"false","aria-expanded":"false"}),b.length&&d.length?d.prev().attr({tabIndex:-1,"aria-expanded":"false"}):b.length&&this.headers.filter(function(){return 0===parseInt($(this).attr("tabIndex"),10)}).attr("tabIndex",-1),b.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),c.icons&&d.prev().children(":first").removeClass(c.icons.activeHeader).addClass(c.icons.header),a.clickedIsActive||(c.icons&&b.prev().children(":first").removeClass(c.icons.header).addClass(c.icons.activeHeader),b.next().addClass("ui-accordion-content-active"))},_animate:function(a,b,c){var d,e,f,g=this,h=0,i=a.css("box-sizing"),j=a.length&&(!b.length||a.index()<b.index()),k=this.options.animate||{},l=j&&k.down||k,m=function(){g._toggleComplete(c)};return"number"==typeof l&&(f=l),"string"==typeof l&&(e=l),e=e||l.easing||k.easing,f=f||l.duration||k.duration,b.length?a.length?(d=a.show().outerHeight(),b.animate(this.hideProps,{duration:f,easing:e,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(this.showProps,{duration:f,easing:e,complete:m,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?"content-box"===i&&(h+=c.now):"content"!==g.options.heightStyle&&(c.now=Math.round(d-b.outerHeight()-h),h=0)}})):b.animate(this.hideProps,f,e,m):a.animate(this.showProps,f,e,m)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active"),b.length&&(b.parent()[0].className=b.parent()[0].className),delete a.clicked,this._trigger("activate",null,a)}})}(),function(){"use strict";function a(a,b){var c;return c=fish.isString(a)?{message:a}:a||{},_.defaults(c,b)}var b='\n            <div class="modal-header">\n                <span class="{{iconClass}} pull-left"></span>\n                <h4 class="modal-title">{{title}}</h4>\n            </div>',c=fish.compile('\n            <div class="ui-dialog {{modalClass}}">\n                '+b+'\n                <div class="modal-body">\n                    <div class="modal-message">{{{message}}}</div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn {{btnClass}} btn-min-width" autofocus data-close>{{okLabel}}</button>\n                </div>\n            </div>'),d=fish.compile('\n            <div class="ui-dialog modal-confirm">\n                '+b+'\n                <div class="modal-body">\n                    <div class="modal-message">{{{message}}}</div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-primary btn-min-width" autofocus data-close>{{okLabel}}</button>\n                    <button type="button" class="btn btn-default btn-min-width" data-dismiss>{{cancelLabel}}</button>\n                </div>\n            </div>'),e=fish.compile('\n            <div class="ui-dialog modal-confirm">\n                '+b+'\n                <div class="modal-body">\n                    <span>{{{message}}}</span>\n                    <input type="text" class="form-control" autofocus>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-primary btn-min-width">{{okLabel}}</button>\n                    <button type="button" class="btn btn-default btn-min-width" data-dismiss>{{cancelLabel}}</button>\n                </div>\n            </div>');fish.success=function(b,d){var e=a(b,{modal:!1,autoDismiss:!0});e.content=$(c({title:e.title||fish.getResource("alert.success"),okLabel:fish.getResource("alert.ok"),iconClass:"glyphicon glyphicon-ok-sign",btnClass:"btn-success",modalClass:"modal-success",message:e.message}));var f=fish.popup(e);return f.result.always(d),f},fish.info=function(b,d){var e=a(b,{modal:!1,autoDismiss:!0});e.content=$(c({title:e.title||fish.getResource("alert.information"),okLabel:fish.getResource("alert.ok"),iconClass:"glyphicon glyphicon-info-sign",btnClass:"btn-info",modalClass:"modal-info",message:e.message}));var f=fish.popup(e);return f.result.always(d),f},fish.warn=function(b,d){var e=a(b,{modal:!0});e.content=$(c({title:e.title||fish.getResource("alert.warn"),okLabel:fish.getResource("alert.ok"),iconClass:"glyphicon glyphicon-exclamation-sign",btnClass:"btn-warning",modalClass:"modal-warning",message:e.message}));var f=fish.popup(e);return f.result.always(d),f},fish.error=function(b,d){var e=a(b,{modal:!0});e.content=$(c({title:e.title||fish.getResource("alert.error"),okLabel:fish.getResource("alert.ok"),iconClass:"glyphicon glyphicon-remove-sign",btnClass:"btn-danger",modalClass:"modal-danger",message:e.message}));var f=fish.popup(e);return f.result.always(d),f},fish.confirm=function(b,c,e){var f=a(b,{modal:!0});f.content=$(d({title:f.title||fish.getResource("alert.confirm"),okLabel:f.ok||fish.getResource("alert.ok"),iconClass:"glyphicon glyphicon-info-sign",cancelLabel:f.cancel||fish.getResource("alert.cancel"),message:f.message}));var g=fish.popup(f);return g.result.then(c,e),g},fish.prompt=function(b,c){var d,f=a(b,{modal:!0});f.content=d=$(e({title:f.title||fish.getResource("alert.prompt"),okLabel:fish.getResource("alert.ok"),cancelLabel:fish.getResource("alert.cancel"),message:f.message}));var g=fish.popup(f);return c&&d.find("input").val(c).select(),d.find(".btn-primary").click(function(){g.close(d.find("input").val()),d=null}),g},fish.blockedConfirm=function(a,b){var c;return a=a.originalEvent||a,a=$.event.fix(a),c=a.target,c.__confirmResult__?(delete c.__confirmResult__,!0):(fish.confirm(b).result.then(function(){c.__confirmResult__=!0,$(c).trigger(a)}),!1)},fish.showConfirm=fish.confirm,fish.showError=fish.error,fish.showWarn=fish.warn,fish.showSuccess=fish.success,fish.showInfo=fish.info}(),function(){"use strict";function a(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var b=$.ui.keyCode,c=[b.DOWN,b.UP,b.LEFT,b.RIGHT,b.ENTER,b.TAB,b.ESCAPE];$.widget("ui.autocomplete",{options:{autoFocus:!1,delay:300,minLength:1,source:null,itemRenderer:$.noop,customClass:"",change:null,close:null,focus:null,open:null,response:null,search:null,select:null,rowCount:1e4,dataTextField:"label",dataValueField:"value"},requestIndex:0,pending:0,_create:function(){var a=this.element[0].nodeName.toLowerCase(),b="textarea"===a,c="input"===a;this.options.rowCount=parseInt(this.options.rowCount,10),this.valueMethod=this.element[b||c?"val":"text"],this._opened=!1,this._selectedIndex=-1,this.$list=$('<ul class="dropdown-list '+this.options.customClass+'"></ul>'),this._initSource(),this._delegateEvent()},_delegateEvent:function(){var a={focus:"_onFocus",keydown:"_onKeydown"};fish.browser.msie||(a.blur="_onBlur"),!fish.browser.msie||fish.browser.version>9?(a.input="_onInput",this._on(a)):(a.keyup=a.cut=a.paste="_onSpecialInput",this._on(a),this._on({keydown:"_onSpecialInput"})),this._on(this.$list,{"mousedown li":"_onMouseDown","click li":"_onClick"})},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},isOpen:function(){return this._opened},_scrollableParents:function(){return this.element.parentsUntil("body").filter(function(a,b){return b.scrollHeight>b.clientHeight})},open:function(){this.isOpen()||(this.$list.css("width",this.element.outerWidth()),$("body").append(this.$list),this._on($(document),{mousedown:$.proxy(function(a){this.$list.is(a.target)||$.contains(this.$list[0],a.target)||this.close()},this)}),this._on($(window),{blur:"hide"}),this._on(this._scrollableParents(),{scroll:$.proxy(function(){this.isOpen()&&this.close()},this)}),this.$list.position({my:"left top",at:"left bottom",of:this.element,collision:"fit flip"}),this._opened=!0,this._trigger("open"))},close:function(){this.cancelSearch=!0,this._close()},_close:function(){this.isOpen()&&(this.$list.detach(),this._off($(document)),this._off($(window)),this._off(this._scrollableParents(),"scroll"),this._opened=!1,this._selectedIndex=-1,this._trigger("close"))},previous:function(){this["goto"](this._selectedIndex-1)},next:function(){this["goto"](this._selectedIndex+1)},"goto":function(a){this._selectedIndex=this._checkIndex(a),this._activeSelectedIndex(this._selectedIndex);var b=this.$list.find("li").eq(this._selectedIndex);this._scroll(b)},_scroll:function(a){var b=this.$list.scrollTop(),c=a.position().top+b,d=a.outerHeight(),e=c+d,f=this.$list.height();this.$list.scrollTop(c<b?c:e>b+f?e-f:b)},_onFocus:function(a){this._selectedItem=null,this.previousValue=this._value(),this._search(this.element.val())},_onBlur:function(a){if(this.cancelBlur)return void delete this.cancelBlur;this.close(a),this._change(a)},_onInput:function(a){this._searchTimeout(a)},_onSpecialInput:function(a){_.indexOf(c,a.keyCode)>-1||_.defer(_.bind(this._onInput,this,a))},_onKeydown:function(c){var d=c.keyCode;if(this.isOpen())switch(d){case b.ENTER:c.stopPropagation(),this._onEnter();break;case b.ESCAPE:c.stopPropagation(),this.close();break;case b.DOWN:a(c)||(c.preventDefault(),this.next());break;case b.UP:a(c)||(c.preventDefault(),this.previous())}},_onEnter:function(a){var b=this.$list.find(".active").index();b>-1&&this._select(a,b),this.close()},_onClick:function(a){a.stopPropagation();var b=$(a.currentTarget),c=this.$list.find("li").index(b);this._select(a,c),this.close(a)},_onMouseDown:function(a){a.preventDefault(),this.cancelBlur=!0,_.defer(_.bind(function(){delete this.cancelBlur},this))},_select:function(a,b){var c=this.resultSource[b];this._selectedItem=c,this._trigger("select",a,{item:c})&&this._value(c&&c[this.options.dataTextField])},_checkIndex:function(a){var b=this.resultSource.length;return a<0?b-1:a>=b?0:a},_activeSelectedIndex:function(a){this.$list.find("li.active").removeClass("active"),this.$list.find("li").eq(a).addClass("active")},_initSource:function(){var a,b,c=this;$.isArray(this.options.source)?(a=this.options.source,this.source=function(b,c){c(this.filter(a,b.term))}):"string"==typeof this.options.source?(b=this.options.source,this.source=function(a,d){c.xhr&&c.xhr.abort(),c.xhr=$.ajax({url:b,data:a,dataType:"json",success:function(a){d(a)},error:function(){d([])}})}):this.source=this.options.source},_searchTimeout:function(a){this._delaySearch||(this._delaySearch=_.debounce(this._evaluate,this.options.delay)),this._delaySearch(a)},_evaluate:function(a){var b=this.term===this._value(),c=this.isOpen(),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;b&&(!b||c||d)||(this._selectedItem=null,this.search(null,a))},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):!1!==this._trigger("search",b)?this._search(a):void 0},_search:function(a){this.pending++,this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return $.proxy(function(b){a===this.requestIndex&&this.__response(b),--this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?this._suggest(a):this._close()},_change:function(a){this.previousValue!==this._value()&&(this._trigger("change",a,{item:this._selectedItem||this._value()}),this._pagePoint({origValue:this.previousValue,eventType:"change"}))},_normalize:function(a){var b=this;return $.map(a,function(a){if("string"==typeof a){var c={};return c[b.options.dataTextField]=a,c[b.options.dataValueField]=a,c}return a})},_suggest:function(a){var b="",c=this,d=this.options.dataTextField;a.length>this.options.rowCount&&(a=a.slice(0,this.options.rowCount)),this.resultSource=a,this.options.autoFocus&&a.length>0&&(this._selectedIndex=0,b+='<li class="active" title="'+fish.escape(a[0][d])+'">'+c._renderItem(a[0])+"</li>",a=a.slice(1)),_.each(a,function(a,e){b+='<li title="'+fish.escape(a[d])+'">'+c._renderItem(a)+"</li>"}),this.$list.html(b),this.open()},_renderItem:function(a){return this.options.itemRenderer==$.noop?fish.escape(a[this.options.dataTextField]):this.options.itemRenderer.call(this,a)},value:function(){return arguments[0]&&(this._selectedItem=null),this.valueMethod.apply(this.element,arguments)},getSelectedItem:function(){return this._selectedItem},_value:function(){return this.valueMethod.apply(this.element,arguments)},filter:function(a,b){var c=this,d=new RegExp($.ui.autocomplete.escapeRegex(b),"i");return $.grep(a,function(a){return d.test(fish.isObject(a)?a[c.options.dataTextField]||a[c.options.dataValueField]:a)})}}),$.extend($.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}})}(),function(){"use strict";function a(a,d){var g,h=a==window,i=$(a),j=i.data("blockUI.isBlocked");if(d=$.extend({message:fish.getResource("blockUI.loading")},$.blockUI.defaults,d),g=d.message,!d.ignoreIfBlocked||!j){h&&j&&b(window),d.template||(d.template=f({iconOnly:!g,msg:g}));var k={full:h,baseZ:d.baseZ,baseZ2:d.baseZ+10,blockMsgClass:d.blockMsgClass,content:d.template},l=e(k),m=h?$("body"):$(a);m.append(l);var n;if(h?(n=m.find(".blockPage"),n.css("margin-left",-n.outerWidth()/2+"px")):(n=m.find(".blockElement"),c(n[0])),i.data("blockUI.isBlocked",!0),d.timeout){var o=setTimeout(function(){i.unblockUI(d)},d.timeout);i.data("blockUI.timeout",o)}}}function b(a){var b=a==window,c=$(a),d=c.data("blockUI.timeout");d&&(clearTimeout(d),c.removeData("blockUI.timeout")),c.data("blockUI.isBlocked",!1),(b?$("body"):$(a)).find(">.blockUI").each(function(a,b){this.parentNode&&this.parentNode.removeChild(this)}),c.data("blockUI.static")&&c.css("position","static"),c.removeClass("blockUI-overflow")}function c(a){var b=a.parentNode,c=a.style,d=(b.offsetWidth-a.offsetWidth)/2-(parseInt($.css(b,"borderLeftWidth"),10)||0),e=(b.offsetHeight-a.offsetHeight)/2-(parseInt($.css(b,"borderTopWidth"),10)||0)+b.scrollTop;c.left=d>0?d+"px":"0",c.top=e>0?e+"px":"0"}function d(a){return a.scrollHeight!==a.clientHeight}$.blockUI=function(b){a(window,b)},$.unblockUI=function(){b(window)},$.fn.blockUI=function(b){if(this[0]===window)return $.blockUI(b),this;var c=$.extend({},$.blockUI.defaults,b||{});return this.each(function(){var d=$(this);if(d.data("blockUI.isBlocked")){if(b&&b.message)return void d.find(".blockUI-content").html(b.message);if(c.ignoreIfBlocked)return}d.unblockUI(),a(this,b)}),this.each(function(){if("static"==$.css(this,"position")&&(this.style.position="relative",$(this).data("blockUI.static",!0)),d(this)){$(this).find(".ui-widget-overlay").css("height",this.scrollHeight),$(this).addClass("blockUI-overflow")}this.style.zoom=1})},$.fn.unblockUI=function(){return this[0]===window?($.unblockUI(),this):this.each(function(){b(this)})};var e=Handlebars.compile('\n        <div class="blockUI ui-widget-overlay {{blockMsgClass}}"\n             style="position: {{#if full}}fixed{{else}}absolute{{/if}}; z-index: {{baseZ}}">\n        </div>\n        <div class="blockUI {{blockMsgClass}} {{#if full}}blockPage{{else}}blockElement{{/if}}"\n             style="position: {{#if full}}fixed{{else}}absolute{{/if}}; z-index: {{baseZ2}}">\n             {{{content}}}\n        </div>'),f=Handlebars.compile('<span class="loading"></span>\n            <span class="blockUI-content {{#if iconOnly}}blockUI-iconOnly{{/if}}">\n                {{msg}}\n            </span>');$.blockUI.defaults={template:"",baseZ:100100,timeout:0,blockMsgClass:"",ignoreIfBlocked:!1}}(),function(){"use strict";$.widget("ui.button",{options:{loadingText:"loading..."},_create:function(){this.isLoading=!1},loading:function(){this.setState("loading")},reset:function(){this.setState("reset")},setState:function(a){var b="disabled",c=this.element,d=c.is("input")?"val":"html",e=c.data();a+="Text",null==e.resetText&&c.data("resetText",c[d]()),setTimeout($.proxy(function(){c[d](null==e[a]?this.options[a]:e[a]),"loadingText"==a?(this.isLoading=!0,c.addClass(b).attr(b,b)):this.isLoading&&(this.isLoading=!1,c.removeClass(b).removeAttr(b))},this),0)},toggle:function(){var a=!0,b=this.element.closest('[data-toggle="buttons"]');if(b.length){var c=this.element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.element.hasClass("active")).trigger("change")}else this.element.attr("aria-pressed",!this.element.hasClass("active"));a&&this.element.toggleClass("active")}}),$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(a){var b=$(a.target);b.hasClass("btn")||(b=b.closest(".btn")),b.button("toggle"),a.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(a){$(a.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(a.type))})}(),function(){"use strict";$.widget("ui.stepper",{options:{min:1,max:10,value:1},_create:function(){this.$element=this.element,this.$element.hide();var a=$("<div class='input-group stepper'><span class='input-group-btn'><button type='button' class='btn btn-default js-minus'><span class='glyphicon glyphicon-minus'></span></button></span><input type='text' class='form-control text-center' name='stepper'><span class='input-group-btn'><button type='button' class='btn btn-default js-plus'><span class='glyphicon glyphicon-plus'></span></button></span></div>");a.insertAfter(this.$element),this.$input=a.find("input"),this.$minusButton=a.find(".js-minus"),this.$plusButton=a.find(".js-plus"),this.value(this.options.value),this._on(a,{"click .js-minus":"minus","click .js-plus":"plus","blur input":"_onBlur"})},minus:function(){this.$minusButton.hasClass("disabled")||this._setValue(this._value-1)},plus:function(){this.$plusButton.hasClass("disabled")||this._setValue(this._value+1)},value:function(a){if(0===arguments.length)return this._value;this._value!=a&&this._setValue(a)},disable:function(){this.$input.prop("disabled",!0),this.$minusButton.addClass("disabled"),this.$plusButton.addClass("disabled")},enable:function(){this.$input.prop("disabled",!1),this._setButtonsEnable()},_onBlur:function(){this._setValue(this.$input.val())},_setValue:function(a){a=parseInt(a,10),a<this.options.min&&(a=this.options.min),a>this.options.max&&(a=this.options.max),this.$input.val(a),this._value!=a&&(this._value=a,this.$element.val(this._value),this._setButtonsEnable(),this._trigger("change",null,this._value))},_setButtonsEnable:function(){this.$minusButton.toggleClass("disabled",this._value===this.options.min),this.$plusButton.toggleClass("disabled",this._value===this.options.max)}})}(),function(){"use strict";$.widget("ui.carousel",{options:{interval:5e3,pause:"hover",wrap:!0,keyboard:!0},_create:function(){this.$indicators=this.element.find(".carousel-indicators"),this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this._delegateEvents()},_delegateEvents:function(){this.options.keyboard&&this._on({keydown:"_onKeydown"}),this.options.pause&&this._on({mouseenter:"pause",mouseleave:"cycle"}),this._on({'click [data-slide="prev"]':"prev",'click [data-slide="next"]':"next","click [data-slide-to]":"_onSlideTo"})},_onKeydown:function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},_destroy:function(){this.interval&&clearInterval(this.interval)},cycle:function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},prev:function(){if(!this.sliding)return this.slide("prev")},next:function(){if(!this.sliding)return this.slide("next")},slide:function(a,b){var c=this.element.find(".item.active"),d=b||this.getItemForDirection(a,c),e=this.interval,f="next"==a?"left":"right",g=this;if(d.hasClass("active"))return this.sliding=!1;var h=d[0];if(this.sliding=!0,e&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var i=$(this.$indicators.children()[this.getItemIndex(d)]);i&&i.addClass("active")}return $.support.transition&&this.element.hasClass("slide")?(d.addClass(a),d[0].offsetWidth,c.addClass(f),d.addClass(f),c.one("bsTransitionEnd",function(){d.removeClass([a,f].join(" ")).addClass("active"),c.removeClass(["active",f].join(" ")),g.sliding=!1,setTimeout(function(){g._trigger("slide",null,{relatedTarget:h,direction:f})},0)}).emulateTransitionEnd(600)):(c.removeClass("active"),d.addClass("active"),this.sliding=!1,this._trigger("slide",null,{relatedTarget:h,direction:f})),e&&this.cycle(),this},pause:function(a){return a||(this.paused=!0),this.element.find(".next, .prev").length&&$.support.transition&&this.cycle(!0),this.interval=clearInterval(this.interval),this},to:function(a){var b=this,c=this.getItemIndex(this.$active=this.element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.element.one("carousel:slide",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},getItemIndex:function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},getItemForDirection:function(a,b){var c=this.getItemIndex(b);if(("prev"==a&&0===c||"next"==a&&c==this.$items.length-1)&&!this.options.wrap)return b;var d="prev"==a?-1:1,e=(c+d)%this.$items.length;return this.$items.eq(e)},_onSlideTo:function(a){var b=$(a.target),c=b.attr("data-slide-to");this.to(c)}})}(),function(){"use strict";$.widget("ui.slick",{options:{accessibility:!0,adaptiveHeight:!1,arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button"><i class="glyphicon glyphicon-menu-left"></i></button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button"><i class="glyphicon glyphicon-menu-right"></i></button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(a,b){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(b+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,iswipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3,afterChange:null,beforeChange:null,edge:null,setPosition:null,swipe:null},_create:function(){this.animating=!1,this.dragging=!1,this.autoPlayTimer=null,this.currentDirection=0,this.currentLeft=null,this.currentSlide=0,this.direction=1,this.$dots=null,this.listWidth=null,this.listHeight=null,this.loadIndex=0,this.$nextArrow=null,this.$prevArrow=null,this.slideCount=null,this.slideWidth=null,this.$slideTrack=null,this.$slides=null,this.sliding=!1,this.slideOffset=0,this.swipeLeft=null,this.$list=null,this.touchObject={},this.transformsEnabled=!1,this.unslicked=!1,this.appendArrows=this.element,this.appendDots=this.element,this.activeBreakpoint=null,this.animType=null,this.animProp=null,this.breakpoints=[],this.breakpointSettings=[],this.cssTransitions=!1,this.hidden="hidden",this.paused=!1,this.positionProp=null,this.respondTo=null,this.rowCount=1,this.shouldClick=!0,this.$slider=this.element,this.$slidesCache=null,this.transformType=null,this.transitionType=null,this.visibilityChange="visibilitychange",this.windowWidth=0,this.windowTimer=null,this.currentSlide=this.options.initialSlide,this.originalSettings=this.options,this._autoPlay=$.proxy(this._autoPlay,this),this._autoPlayClear=$.proxy(this._autoPlayClear,this),this._changeSlide=$.proxy(this._changeSlide,this),this._clickHandler=$.proxy(this._clickHandler,this),this._selectHandler=$.proxy(this._selectHandler,this),this._setPosition=$.proxy(this._setPosition,this),this._swipeHandler=$.proxy(this._swipeHandler,this),this._dragHandler=$.proxy(this._dragHandler,this),this._keyHandler=$.proxy(this._keyHandler,this),this._autoPlayIterator=$.proxy(this._autoPlayIterator,this),this.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,this._registerBreakpoints()},_init:function(){
$(this.$slider).hasClass("slick-initialized")||($(this.$slider).addClass("slick-initialized"),this._buildOut(),this._setProps(),this._startLoad(),this._loadSlider(),this._initializeEvents(),this._updateArrows(),this._updateDots()),!0===this.options.accessibility&&this._initADA(),this._checkResponsive(!0)},_registerBreakpoints:function(){var a,b,c,_=this,d=_.options.responsive||null;if("array"===$.type(d)&&d.length){_.respondTo=_.options.respondTo||"window";for(a in d)if(c=_.breakpoints.length-1,b=d[a].breakpoint,d.hasOwnProperty(a)){for(;c>=0;)_.breakpoints[c]&&_.breakpoints[c]===b&&_.breakpoints.splice(c,1),c--;_.breakpoints.push(b),_.breakpointSettings[b]=d[a].settings}_.breakpoints.sort(function(a,b){return _.options.mobileFirst?a-b:b-a})}},_setOption:function(a,b){var c,d,_=this;if("responsive"===a&&"array"===$.type(b))for(d in b)if("array"!==$.type(_.options.responsive))_.options.responsive=[b[d]];else{for(c=_.options.responsive.length-1;c>=0;)_.options.responsive[c].breakpoint===b[d].breakpoint&&_.options.responsive.splice(c,1),c--;_.options.responsive.push(b[d])}else _.options[a]=b;this._unload(),this._reinit()},visibility:function(){var _=this;_.options.autoplay&&(document[_.hidden]?_.interrupted=!0:_.interrupted=!1)},_buildOut:function(){var _=this;_.$slides=_.$slider.children(_.options.slide+":not(.slick-cloned)").addClass("slick-slide"),_.slideCount=_.$slides.length,_.$slides.each(function(a,b){$(b).attr("data-slick-index",a).data("originalStyling",$(b).attr("style")||"")}),_.$slidesCache=_.$slides,_.$slider.addClass("slick-slider"),_.$slideTrack=0===_.slideCount?$('<div class="slick-track"/>').appendTo(_.$slider):_.$slides.wrapAll('<div class="slick-track"/>').parent(),_.$list=_.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),_.$slideTrack.css("opacity",0),!0!==_.options.centerMode&&!0!==_.options.swipeToSlide||(_.options.slidesToScroll=1),$("img[data-lazy]",_.$slider).not("[src]").addClass("slick-loading"),this._setupInfinite(),this._buildArrows(),this._buildDots(),this._updateDots(),this._setSlideClasses("number"==typeof _.currentSlide?_.currentSlide:0),!0===_.options.draggable&&_.$list.addClass("draggable")},_setupInfinite:function(){var a,b,c,_=this;if(!0===_.options.fade&&(_.options.centerMode=!1),!0===_.options.infinite&&!1===_.options.fade&&(b=null,_.slideCount>_.options.slidesToShow)){for(c=!0===_.options.centerMode?_.options.slidesToShow+1:_.options.slidesToShow,a=_.slideCount;a>_.slideCount-c;a-=1)b=a-1,$(_.$slides[b]).clone(!0).attr("id","").attr("data-slick-index",b-_.slideCount).prependTo(_.$slideTrack).addClass("slick-cloned");for(a=0;a<c;a+=1)b=a,$(_.$slides[b]).clone(!0).attr("id","").attr("data-slick-index",b+_.slideCount).appendTo(_.$slideTrack).addClass("slick-cloned");_.$slideTrack.find(".slick-cloned").find("[id]").each(function(){$(this).attr("id","")})}},_buildArrows:function(){var _=this;!0===_.options.arrows&&(_.$prevArrow=$(_.options.prevArrow).addClass("slick-arrow"),_.$nextArrow=$(_.options.nextArrow).addClass("slick-arrow"),_.slideCount>_.options.slidesToShow?(_.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),_.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),_.htmlExpr.test(_.options.prevArrow)&&_.$prevArrow.prependTo(_.appendArrows),_.htmlExpr.test(_.options.nextArrow)&&_.$nextArrow.appendTo(_.appendArrows),!0!==_.options.infinite&&_.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):_.$prevArrow.add(_.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},_buildDots:function(){var a,b,_=this;if(!0===_.options.dots&&_.slideCount>_.options.slidesToShow){for(b='<ul class="'+_.options.dotsClass+'">',a=0;a<=this._getDotCount();a++)b+="<li>"+_.options.customPaging.call(this,_,a)+"</li>";b+="</ul>",_.$dots=$(b).appendTo(_.appendDots),_.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},_setProps:function(){var _=this;_.positionProp=!0===_.options.vertical?"top":"left","top"===_.positionProp?_.$slider.addClass("slick-vertical"):_.$slider.removeClass("slick-vertical"),_.options.fade&&("number"==typeof _.options.zIndex?_.options.zIndex<3&&(_.options.zIndex=3):_.options.zIndex=_.defaults.zIndex)},_startLoad:function(){var _=this;!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&(_.$prevArrow.hide(),_.$nextArrow.hide()),!0===_.options.dots&&_.slideCount>_.options.slidesToShow&&_.$dots.hide(),_.$slider.addClass("slick-loading")},_loadSlider:function(){var _=this;this._setPosition(),_.$slideTrack.css({opacity:1}),_.$slider.removeClass("slick-loading"),this._initUI(),"progressive"===_.options.lazyLoad&&this._progressiveLazyLoad()},_initializeEvents:function(){var _=this;this._initArrowEvents(),this._initDotEvents(),_.$list.on("touchstart.slick mousedown.slick",{action:"start"},this._swipeHandler),_.$list.on("touchmove.slick mousemove.slick",{action:"move"},this._swipeHandler),_.$list.on("touchend.slick mouseup.slick",{action:"end"},this._swipeHandler),_.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},this._swipeHandler),_.$list.on("click.slick",this._clickHandler),$(document).on(_.visibilityChange,$.proxy(_.visibility,_)),_.$list.on("mouseenter.slick",$.proxy(this._setPaused,_,!0)),_.$list.on("mouseleave.slick",$.proxy(this._setPaused,_,!1)),!0===_.options.accessibility&&_.$list.on("keydown.slick",this._keyHandler),!0===_.options.focusOnSelect&&$(_.$slideTrack).children().on("click.slick",this._selectHandler),$(window).on("resize.slick",$.proxy(this._resize,_)),$("[draggable!=true]",_.$slideTrack).on("dragstart",_.preventDefault)},_initArrowEvents:function(){var _=this;!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&(_.$prevArrow.on("click.slick",{message:"previous"},this._changeSlide),_.$nextArrow.on("click.slick",{message:"next"},this._changeSlide))},_initDotEvents:function(){var _=this;!0===_.options.dots&&_.slideCount>_.options.slidesToShow&&$("li",_.$dots).on("click.slick",{message:"index"},this._changeSlide),!0===_.options.dots&&!0===_.options.pauseOnDotsHover&&!0===_.options.autoplay&&$("li",_.$dots).on("mouseenter.slick",$.proxy(this._setPaused,_,!0)).on("mouseleave.slick",$.proxy(this._setPaused,_,!1))},_updateArrows:function(){var _=this;!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&!_.options.infinite&&(_.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),_.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===_.currentSlide?(_.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),_.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):_.currentSlide>=_.slideCount-_.options.slidesToShow&&!1===_.options.centerMode?(_.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),_.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):_.currentSlide>=_.slideCount-1&&!0===_.options.centerMode&&(_.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),_.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},_updateDots:function(){var _=this;null!==_.$dots&&(_.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),_.$dots.find("li").eq(Math.floor(_.currentSlide/_.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},_initADA:function(){var _=this;_.$slides.add(_.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),_.$slideTrack.attr("role","listbox"),_.$slides.not(_.$slideTrack.find(".slick-cloned")).each(function(a){$(this).attr({role:"option","aria-describedby":"slick-slide"+a})}),null!==_.$dots&&_.$dots.attr("role","tablist").find("li").each(function(a){$(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+a,id:"slick-slide"+a})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),this._activateADA()},_activateADA:function(){var _=this,a=_.$slider.find("*").is(":focus");_.$slideTrack.find(".slick-active").attr({"aria-hidden":"false",tabindex:"0"}).find("a, input, button, select").attr({tabindex:"0"}),a&&_.$slideTrack.find(".slick-active").focus()},_setSlideClasses:function(a){var b,c,d,e,_=this;c=_.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),_.$slides.eq(a).addClass("slick-current"),!0===_.options.centerMode?(b=Math.floor(_.options.slidesToShow/2),!0===_.options.infinite&&(a>=b&&a<=_.slideCount-1-b?_.$slides.slice(a-b,a+b+1).addClass("slick-active").attr("aria-hidden","false"):(d=_.options.slidesToShow+a,c.slice(d-b+1,d+b+2).addClass("slick-active").attr("aria-hidden","false")),0===a?c.eq(c.length-1-_.options.slidesToShow).addClass("slick-center"):a===_.slideCount-1&&c.eq(_.options.slidesToShow).addClass("slick-center")),_.$slides.eq(a).addClass("slick-center")):a>=0&&a<=_.slideCount-_.options.slidesToShow?_.$slides.slice(a,a+_.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):c.length<=_.options.slidesToShow?c.addClass("slick-active").attr("aria-hidden","false"):(e=_.slideCount%_.options.slidesToShow,d=!0===_.options.infinite?_.options.slidesToShow+a:a,_.options.slidesToShow==_.options.slidesToScroll&&_.slideCount-a<_.options.slidesToShow?c.slice(d-(_.options.slidesToShow-e),d+e).addClass("slick-active").attr("aria-hidden","false"):c.slice(d,d+_.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===_.options.lazyLoad&&this._lazyLoad()},_lazyLoad:function(){function a(a){$("img[data-lazy]",a).each(function(){var a=$(this),b=$(this).attr("data-lazy"),c=document.createElement("img");c.onload=function(){a.animate({opacity:0},100,function(){a.attr("src",b).animate({opacity:1},200,function(){a.removeAttr("data-lazy").removeClass("slick-loading")})})},c.src=b})}var b,c,d,e,_=this;!0===_.options.centerMode?!0===_.options.infinite?(d=_.currentSlide+(_.options.slidesToShow/2+1),e=d+_.options.slidesToShow+2):(d=Math.max(0,_.currentSlide-(_.options.slidesToShow/2+1)),e=_.options.slidesToShow/2+1+2+_.currentSlide):(d=_.options.infinite?_.options.slidesToShow+_.currentSlide:_.currentSlide,e=d+_.options.slidesToShow,!0===_.options.fade&&(d>0&&d--,e<=_.slideCount&&e++)),b=_.$slider.find(".slick-slide").slice(d,e),a(b),_.slideCount<=_.options.slidesToShow?(c=_.$slider.find(".slick-slide"),a(c)):_.currentSlide>=_.slideCount-_.options.slidesToShow?(c=_.$slider.find(".slick-cloned").slice(0,_.options.slidesToShow),a(c)):0===_.currentSlide&&(c=_.$slider.find(".slick-cloned").slice(-1*_.options.slidesToShow),a(c))},_checkResponsive:function(a,b){var c,d,e,_=this,f=!1,g=_.$slider.width(),h=window.innerWidth||$(window).width();if("window"===_.respondTo?e=h:"slider"===_.respondTo?e=g:"min"===_.respondTo&&(e=Math.min(h,g)),_.options.responsive&&_.options.responsive.length&&null!==_.options.responsive){d=null;for(c in _.breakpoints)_.breakpoints.hasOwnProperty(c)&&(!1===_.options.mobileFirst?e<_.breakpoints[c]&&(d=_.breakpoints[c]):e>_.breakpoints[c]&&(d=_.breakpoints[c]));null!==d?null!==_.activeBreakpoint?(d!==_.activeBreakpoint||b)&&(_.activeBreakpoint=d,"unslick"===_.breakpointSettings[d]?_.unslick(d):(_.options=$.extend({},_.originalSettings,_.breakpointSettings[d]),!0===a&&(_.currentSlide=_.options.initialSlide),this._refresh(a)),f=d):(_.activeBreakpoint=d,"unslick"===_.breakpointSettings[d]?_.unslick(d):(_.options=$.extend({},_.originalSettings,_.breakpointSettings[d]),!0===a&&(_.currentSlide=_.options.initialSlide),this._refresh(a)),f=d):null!==_.activeBreakpoint&&(_.activeBreakpoint=null,_.options=_.originalSettings,!0===a&&(_.currentSlide=_.options.initialSlide),this._refresh(a),f=d),a||!1===f||this._trigger("breakpoint",null,[_,f])}},_setPosition:function(){var _=this;this._setDimensions(),this._setHeight(),!1===_.options.fade?this._setCSS(this._getLeft(_.currentSlide)):this._setFade(),this._trigger("setPosition",null,[_])},_setDimensions:function(){var _=this;!1===_.options.vertical?!0===_.options.centerMode&&_.$list.css({padding:"0 "+_.options.centerPadding}):(_.$list.height(_.$slides.first().outerHeight(!0)*_.options.slidesToShow),!0===_.options.centerMode&&_.$list.css({padding:_.options.centerPadding+" 0"})),_.listWidth=_.$list.width(),_.listHeight=_.$list.height(),!1===_.options.vertical&&!1===_.options.variableWidth?(_.slideWidth=Math.ceil(_.listWidth/_.options.slidesToShow),_.$slideTrack.width(Math.ceil(_.slideWidth*_.$slideTrack.children(".slick-slide").length))):!0===_.options.variableWidth?_.$slideTrack.width(5e3*_.slideCount):(_.slideWidth=Math.ceil(_.listWidth),_.$slideTrack.height(Math.ceil(_.$slides.first().outerHeight(!0)*_.$slideTrack.children(".slick-slide").length)));var a=_.$slides.first().outerWidth(!0)-_.$slides.first().width();!1===_.options.variableWidth&&_.$slideTrack.children(".slick-slide").width(_.slideWidth-a)},_setHeight:function(){var _=this;if(1===_.options.slidesToShow&&!0===_.options.adaptiveHeight&&!1===_.options.vertical){var a=_.$slides.eq(_.currentSlide).outerHeight(!0);_.$list.css("height",a)}},_setCSS:function(a){var b,c,_=this,d={};!0===_.options.rtl&&(a=-a),b="left"==_.positionProp?Math.ceil(a)+"px":"0",c="top"==_.positionProp?Math.ceil(a)+"px":"0",d[_.positionProp]=a,!1===_.transformsEnabled?_.$slideTrack.css(d):(d={},!1===_.cssTransitions?(d[_.animType]="translate("+b+", "+c+")",_.$slideTrack.css(d)):(d[_.animType]="translate3d("+b+", "+c+", 0)",_.$slideTrack.css(d)))},_setFade:function(){var a,_=this;_.$slides.each(function(b,c){a=_.slideWidth*b*-1,!0===_.options.rtl?$(c).css({position:"relative",right:a,top:0,zIndex:_.options.zIndex-2,opacity:0}):$(c).css({position:"relative",left:a,top:0,zIndex:_.options.zIndex-2,opacity:0})}),_.$slides.eq(_.currentSlide).css({zIndex:_.options.zIndex-1,opacity:1})},_setPaused:function(a){var _=this;!0===_.options.autoplay&&!0===_.options.pauseOnHover&&(_.paused=a,a?this._autoPlayClear():this._autoPlay())},_getLeft:function(a){var b,c,d,_=this,e=0;return _.slideOffset=0,c=_.$slides.first().outerHeight(!0),!0===_.options.infinite?(_.slideCount>_.options.slidesToShow&&(_.slideOffset=_.slideWidth*_.options.slidesToShow*-1,e=c*_.options.slidesToShow*-1),_.slideCount%_.options.slidesToScroll!=0&&a+_.options.slidesToScroll>_.slideCount&&_.slideCount>_.options.slidesToShow&&(a>_.slideCount?(_.slideOffset=(_.options.slidesToShow-(a-_.slideCount))*_.slideWidth*-1,e=(_.options.slidesToShow-(a-_.slideCount))*c*-1):(_.slideOffset=_.slideCount%_.options.slidesToScroll*_.slideWidth*-1,e=_.slideCount%_.options.slidesToScroll*c*-1))):a+_.options.slidesToShow>_.slideCount&&(_.slideOffset=(a+_.options.slidesToShow-_.slideCount)*_.slideWidth,e=(a+_.options.slidesToShow-_.slideCount)*c),_.slideCount<=_.options.slidesToShow&&(_.slideOffset=0,e=0),!0===_.options.centerMode&&!0===_.options.infinite?_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2)-_.slideWidth:!0===_.options.centerMode&&(_.slideOffset=0,_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow/2)),b=!1===_.options.vertical?a*_.slideWidth*-1+_.slideOffset:a*c*-1+e,!0===_.options.variableWidth&&(d=_.slideCount<=_.options.slidesToShow||!1===_.options.infinite?_.$slideTrack.children(".slick-slide").eq(a):_.$slideTrack.children(".slick-slide").eq(a+_.options.slidesToShow),b=d[0]?-1*d[0].offsetLeft:0,!0===_.options.centerMode&&(d=!1===_.options.infinite?_.$slideTrack.children(".slick-slide").eq(a):_.$slideTrack.children(".slick-slide").eq(a+_.options.slidesToShow+1),b=d[0]?-1*d[0].offsetLeft:0,b+=(_.$list.width()-d.outerWidth())/2)),b},_initUI:function(){var _=this;!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&(_.$prevArrow.show(),_.$nextArrow.show()),!0===_.options.dots&&_.slideCount>_.options.slidesToShow&&_.$dots.show(),!0===_.options.autoplay&&this._autoPlay()},_autoPlay:function(){var _=this;_.autoPlayTimer&&clearInterval(_.autoPlayTimer),_.slideCount>_.options.slidesToShow&&!0!==_.paused&&(_.autoPlayTimer=setInterval(this._autoPlayIterator,_.options.autoplaySpeed))},_autoPlayClear:function(){var _=this;_.autoPlayTimer&&clearInterval(_.autoPlayTimer)},_autoPlayIterator:function(){var _=this;!1===_.options.infinite?1===_.direction?(_.currentSlide+1===_.slideCount-1&&(_.direction=0),this._slideHandler(_.currentSlide+_.options.slidesToScroll)):(_.currentSlide-1==0&&(_.direction=1),this._slideHandler(_.currentSlide-_.options.slidesToScroll)):this._slideHandler(_.currentSlide+_.options.slidesToScroll)},_progressiveLazyLoad:function(){var a,b,_=this;(a=$("img[data-lazy]",_.$slider).length)>0&&(b=$("img[data-lazy]",_.$slider).first(),b.attr("src",b.attr("data-lazy")).removeClass("slick-loading").load(function(){b.removeAttr("data-lazy"),_.progressiveLazyLoad(),!0===_.options.adaptiveHeight&&_.setPosition()}).error(function(){b.removeAttr("data-lazy"),this._progressiveLazyLoad()}))},_changeSlide:function(a,b){var c,d,e,_=this,f=$(a.target);switch(f.is("a")&&a.preventDefault(),f.is("li")||(f=f.closest("li")),e=_.slideCount%_.options.slidesToScroll!=0,c=e?0:(_.slideCount-_.currentSlide)%_.options.slidesToScroll,a.data.message){case"previous":d=0===c?_.options.slidesToScroll:_.options.slidesToShow-c,_.slideCount>_.options.slidesToShow&&this._slideHandler(_.currentSlide-d,!1,b);break;case"next":d=0===c?_.options.slidesToScroll:c,_.slideCount>_.options.slidesToShow&&this._slideHandler(_.currentSlide+d,!1,b);break;case"index":var g=0===a.data.index?0:a.data.index||f.index()*_.options.slidesToScroll;this._slideHandler(this._checkNavigable(g),!1,b),f.children().trigger("focus");break;default:return}},_swipeHandler:function(a){var _=this;if(!(!1===_.options.iswipe||"ontouchend"in document&&!1===_.options.iswipe||!1===_.options.draggable&&-1!==a.type.indexOf("mouse")))switch(_.touchObject.fingerCount=a.originalEvent&&a.originalEvent.touches!==undefined?a.originalEvent.touches.length:1,_.touchObject.minSwipe=_.listWidth/_.options.touchThreshold,!0===_.options.verticalSwiping&&(_.touchObject.minSwipe=_.listHeight/_.options.touchThreshold),a.data.action){case"start":this._swipeStart(a);break;case"move":this._swipeMove(a);break;case"end":this._swipeEnd(a)}},_swipeStart:function(a){var b,_=this;if(1!==_.touchObject.fingerCount||_.slideCount<=_.options.slidesToShow)return _.touchObject={},!1;a.originalEvent!==undefined&&a.originalEvent.touches!==undefined&&(b=a.originalEvent.touches[0]),_.touchObject.startX=_.touchObject.curX=b!==undefined?b.pageX:a.clientX,_.touchObject.startY=_.touchObject.curY=b!==undefined?b.pageY:a.clientY,_.dragging=!0},_swipeMove:function(a){var b,c,d,e,f,_=this;return f=a.originalEvent!==undefined?a.originalEvent.touches:null,!(!_.dragging||f&&1!==f.length)&&(b=this._getLeft(_.currentSlide),_.touchObject.curX=f!==undefined?f[0].pageX:a.clientX,_.touchObject.curY=f!==undefined?f[0].pageY:a.clientY,_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curX-_.touchObject.startX,2))),!0===_.options.verticalSwiping&&(_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curY-_.touchObject.startY,2)))),"vertical"!==(c=this._swipeDirection())?(a.originalEvent!==undefined&&_.touchObject.swipeLength>4&&a.preventDefault(),e=(!1===_.options.rtl?1:-1)*(_.touchObject.curX>_.touchObject.startX?1:-1),!0===_.options.verticalSwiping&&(e=_.touchObject.curY>_.touchObject.startY?1:-1),d=_.touchObject.swipeLength,_.touchObject.edgeHit=!1,!1===_.options.infinite&&(0===_.currentSlide&&"right"===c||_.currentSlide>=this._getDotCount()&&"left"===c)&&(d=_.touchObject.swipeLength*_.options.edgeFriction,_.touchObject.edgeHit=!0),!1===_.options.vertical?_.swipeLeft=b+d*e:_.swipeLeft=b+d*(_.$list.height()/_.listWidth)*e,!0===_.options.verticalSwiping&&(_.swipeLeft=b+d*e),!0!==_.options.fade&&!1!==_.options.touchMove&&(!0===_.animating?(_.swipeLeft=null,!1):void this._setCSS(_.swipeLeft))):void 0)},_swipeEnd:function(a){var b,_=this;if(_.dragging=!1,_.shouldClick=!(_.touchObject.swipeLength>10),_.touchObject.curX===undefined)return!1;if(!0===_.touchObject.edgeHit&&this._trigger("edge",null,[_,this._swipeDirection()]),_.touchObject.swipeLength>=_.touchObject.minSwipe)switch(this._swipeDirection()){case"left":b=_.options.swipeToSlide?this._checkNavigable(_.currentSlide+this._getSlideCount()):_.currentSlide+this._getSlideCount(),this._slideHandler(b),_.currentDirection=0,_.touchObject={},this._trigger("swipe",null,[_,"left"]);break;case"right":b=_.options.swipeToSlide?this._checkNavigable(_.currentSlide-this._getSlideCount()):_.currentSlide-this._getSlideCount(),this._slideHandler(b),_.currentDirection=1,_.touchObject={},this._trigger("swipe",null,[_,"right"])}else _.touchObject.startX!==_.touchObject.curX&&(this._slideHandler(_.currentSlide),_.touchObject={})},_swipeDirection:function(){var a,b,c,d,_=this;return a=_.touchObject.startX-_.touchObject.curX,b=_.touchObject.startY-_.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),d<0&&(d=360-Math.abs(d)),d<=45&&d>=0?!1===_.options.rtl?"left":"right":d<=360&&d>=315?!1===_.options.rtl?"left":"right":d>=135&&d<=225?!1===_.options.rtl?"right":"left":!0===_.options.verticalSwiping?d>=35&&d<=135?"left":"right":"vertical"},_clickHandler:function(a){!1===this.shouldClick&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},_keyHandler:function(a){var _=this;a.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===a.keyCode&&!0===_.options.accessibility?_._changeSlide({data:{message:"previous"}}):39===a.keyCode&&!0===_.options.accessibility&&_._changeSlide({data:{message:"next"}}))},_selectHandler:function(a){var _=this,b=$(a.target).is(".slick-slide")?$(a.target):$(a.target).parents(".slick-slide"),c=parseInt(b.attr("data-slick-index"));if(c||(c=0),_.slideCount<=_.options.slidesToShow)return this._setSlideClasses(c),void this._asNavFor(c);this._slideHandler(c)},_slideHandler:function(a,b,c){var d,e,f,g,h=null,_=this;if(b=b||!1,(!0!==_.animating||!0!==_.options.waitForAnimate)&&!(!0===_.options.fade&&_.currentSlide===a||_.slideCount<=_.options.slidesToShow)){if(!1===b&&this._asNavFor(a),d=a,h=this._getLeft(d),g=this._getLeft(_.currentSlide),_.currentLeft=null===_.swipeLeft?g:_.swipeLeft,!1===_.options.infinite&&!1===_.options.centerMode&&(a<0||a>this._getDotCount()*_.options.slidesToScroll))return void(!1===_.options.fade&&(d=_.currentSlide,!0!==c?this._animateSlide(g,function(){_._postSlide(d)}):this._postSlide(d)));if(!1===_.options.infinite&&!0===_.options.centerMode&&(a<0||a>_.slideCount-_.options.slidesToScroll))return void(!1===_.options.fade&&(d=_.currentSlide,!0!==c?_.animateSlide(g,function(){_.postSlide(d)}):_.postSlide(d)));if(!0===_.options.autoplay&&clearInterval(_.autoPlayTimer),e=d<0?_.slideCount%_.options.slidesToScroll!=0?_.slideCount-_.slideCount%_.options.slidesToScroll:_.slideCount+d:d>=_.slideCount?_.slideCount%_.options.slidesToScroll!=0?0:d-_.slideCount:d,_.animating=!0,this._trigger("beforeChange",null,[_,_.currentSlide,e]),f=_.currentSlide,_.currentSlide=e,this._setSlideClasses(_.currentSlide),this._updateDots(),this._updateArrows(),!0===_.options.fade)return!0!==c?(this._fadeSlideOut(f),this._fadeSlide(e,function(){_._postSlide(e)})):this._postSlide(e),void this._animateHeight();!0!==c?this._animateSlide(h,function(){_._postSlide(e)}):this._postSlide(e)}},_focusHandler:function(){var _=this;_.$slider.on("focus.slick blur.slick","*",function(a){a.stopImmediatePropagation();var b=$(this);setTimeout(function(){var a=this;_.isPlay&&(b.is(":focus")?(a._autoPlayClear(),_.paused=!0):(_.paused=!1,a._autoPlay()))},0)})},_asNavFor:function(a){var _=this,b=_.options.asNavFor;b&&null!==b&&(b=$(b).not(_.$slider)),null!==b&&"object"==typeof b&&b.each(function(){var b=$(this).slick("getSlick");b.unslicked||b.slideHandler(a,!0)})},_animateSlide:function(a,b){var c={},_=this;if(this._animateHeight(),!0===_.options.rtl&&!1===_.options.vertical&&(a=-a),!1===_.transformsEnabled)!1===_.options.vertical?_.$slideTrack.animate({left:a},_.options.speed,_.options.easing,b):_.$slideTrack.animate({top:a},_.options.speed,_.options.easing,b);else if(!1===_.cssTransitions)!0===_.options.rtl&&(_.currentLeft=-_.currentLeft),$({animStart:_.currentLeft}).animate({animStart:a},{duration:_.options.speed,easing:_.options.easing,step:function(a){a=Math.ceil(a),!1===_.options.vertical?(c[_.animType]="translate("+a+"px, 0)",_.$slideTrack.css(c)):(c[_.animType]="translate(0,"+a+"px)",_.$slideTrack.css(c))},complete:function(){b&&b.call()}});else if(this._applyTransition(),a=Math.ceil(a),!1===_.options.vertical?c[_.animType]="translate3d("+a+"px, 0, 0)":c[_.animType]="translate3d(0px,"+a+"px, 0)",_.$slideTrack.css(c),b){var d=this;setTimeout(function(){d._disableTransition(),b.call()},_.options.speed)}},_animateHeight:function(){var _=this;if(1===_.options.slidesToShow&&!0===_.options.adaptiveHeight&&!1===_.options.vertical){var a=_.$slides.eq(_.currentSlide).outerHeight(!0);_.$list.animate({height:a},_.options.speed)}},_postSlide:function(a){var _=this;this._trigger("afterChange",null,[_,a]),_.animating=!1,this._setPosition(),_.swipeLeft=null,!0===_.options.autoplay&&!1===_.paused&&_._autoPlay(),!0===_.options.accessibility&&_._initADA()},_fadeSlideOut:function(a){var _=this;!1===_.cssTransitions?_.$slides.eq(a).animate({opacity:0,zIndex:_.options.zIndex-2},_.options.speed,_.options.easing):(this._applyTransition(a),_.$slides.eq(a).css({opacity:0,zIndex:_.options.zIndex-2}))},_fadeSlide:function(a,b){var _=this;if(!1===_.cssTransitions)_.$slides.eq(a).css({zIndex:_.options.zIndex}),_.$slides.eq(a).animate({opacity:1},_.options.speed,_.options.easing,b);else if(this._applyTransition(a),_.$slides.eq(a).css({opacity:1,zIndex:_.options.zIndex}),b){var c=this;setTimeout(function(){c._disableTransition(a),b.call()},_.options.speed)}},_applyTransition:function(a){var _=this,b={};!1===_.options.fade?b[_.transitionType]=_.transformType+" "+_.options.speed+"ms "+_.options.cssEase:b[_.transitionType]="opacity "+_.options.speed+"ms "+_.options.cssEase,!1===_.options.fade?_.$slideTrack.css(b):_.$slides.eq(a).css(b)},_disableTransition:function(a){var _=this,b={};b[_.transitionType]="",!1===_.options.fade?_.$slideTrack.css(b):_.$slides.eq(a).css(b)},_refresh:function(a){var _=this,b=_.currentSlide;this._destroy(),$.extend(_,_.initials,{currentSlide:b}),this._init(),a||this._changeSlide({data:{message:"index",index:b}},!1)},_destroy:function(){var _=this;this._autoPlayClear(),_.touchObject={},this._cleanUpEvents(),$(".slick-cloned",_.$slider).detach(),_.$dots&&_.$dots.remove(),!0===_.options.arrows&&(_.$prevArrow&&_.$prevArrow.length&&(_.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),_.htmlExpr.test(_.options.prevArrow)&&_.$prevArrow.remove()),_.$nextArrow&&_.$nextArrow.length&&(_.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),_.htmlExpr.test(_.options.nextArrow)&&_.$nextArrow.remove())),_.$slides&&(_.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){$(this).attr("style",$(this).data("originalStyling"))}),_.$slideTrack.children(this.options.slide).detach(),_.$slideTrack.detach(),_.$list.detach(),_.$slider.append(_.$slides)),this._cleanUpRows(),_.$slider.removeClass("slick-slider"),_.$slider.removeClass("slick-initialized"),_.unslicked=!0},_cleanUpEvents:function(){var _=this;_.options.dots&&null!==_.$dots&&($("li",_.$dots).off("click.slick",this._changeSlide),!0===_.options.pauseOnDotsHover&&!0===_.options.autoplay&&$("li",_.$dots).off("mouseenter.slick",$.proxy(this._setPaused,_,!0)).off("mouseleave.slick",$.proxy(this._setPaused,_,!1))),!0===_.options.arrows&&_.slideCount>_.options.slidesToShow&&(_.$prevArrow&&_.$prevArrow.off("click.slick",this._changeSlide),_.$nextArrow&&_.$nextArrow.off("click.slick",this._changeSlide)),_.$list.off("touchstart.slick mousedown.slick",this._swipeHandler),_.$list.off("touchmove.slick mousemove.slick",this._swipeHandler),_.$list.off("touchend.slick mouseup.slick",this._swipeHandler),_.$list.off("touchcancel.slick mouseleave.slick",this._swipeHandler),_.$list.off("click.slick",this._clickHandler),$(document).off(_.visibilityChange,_.visibility),_.$list.off("mouseenter.slick",$.proxy(this._setPaused,_,!0)),_.$list.off("mouseleave.slick",$.proxy(this._setPaused,_,!1)),!0===_.options.accessibility&&_.$list.off("keydown.slick",this._keyHandler),!0===_.options.focusOnSelect&&$(_.$slideTrack).children().off("click.slick",this._selectHandler),$(window).off("resize.slick",_.resize),$("[draggable!=true]",_.$slideTrack).off("dragstart",_.preventDefault)},_cleanUpRows:function(){var a,_=this;_.options.rows>1&&(a=_.$slides.children().children(),a.removeAttr("style"),_.$slider.html(a))},_getDotCount:function(){var _=this,a=0,b=0,c=0;if(!0===_.options.infinite)for(;a<_.slideCount;)++c,a=b+_.options.slidesToShow,b+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;else if(!0===_.options.centerMode)c=_.slideCount;else for(;a<_.slideCount;)++c,a=b+_.options.slidesToShow,b+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;return c-1},_checkNavigable:function(a){var b,c;if(b=this._getNavigableIndexes(),c=0,a>b[b.length-1])a=b[b.length-1];else for(var d in b){if(a<b[d]){a=c;break}c=b[d]}return a},_getNavigableIndexes:function(){var a,_=this,b=0,c=0,d=[];for(!1===_.options.infinite?a=_.slideCount:(b=-1*_.options.slidesToScroll,c=-1*_.options.slidesToScroll,a=2*_.slideCount);b<a;)d.push(b),b=c+_.options.slidesToScroll,c+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;return d},_getSlideCount:function(){var a,b,_=this;return b=!0===_.options.centerMode?_.slideWidth*Math.floor(_.options.slidesToShow/2):0,!0===_.options.swipeToSlide?(_.$slideTrack.find(".slick-slide").each(function(c,d){if(d.offsetLeft-b+$(d).outerWidth()/2>-1*_.swipeLeft)return a=d,!1}),Math.abs($(a).attr("data-slick-index")-_.currentSlide)||1):_.options.slidesToScroll},_resize:function(){var _=this;if(!(_.$list.width()<=0)&&$(window).width()!==_.windowWidth){clearTimeout(_.windowDelay);var a=this;_.windowDelay=window.setTimeout(function(){_.windowWidth=$(window).width(),a._checkResponsive(),_.unslicked||a._setPosition()},50)}},_reinit:function(){var _=this;_.$slides=_.$slideTrack.children(_.options.slide).addClass("slick-slide"),_.slideCount=_.$slides.length,_.currentSlide>=_.slideCount&&0!==_.currentSlide&&(_.currentSlide=_.currentSlide-_.options.slidesToScroll),_.slideCount<=_.options.slidesToShow&&(_.currentSlide=0),this._registerBreakpoints(),this._setProps(),this._setupInfinite(),this._buildArrows(),this._updateArrows(),this._initArrowEvents(),this._buildDots(),this._updateDots(),this._initDotEvents(),this._checkResponsive(!1,!0),!0===_.options.focusOnSelect&&$(_.$slideTrack).children().on("click.slick",_.selectHandler),this._setSlideClasses(0),this._setPosition(),this._trigger("reInit",null,[_]),!0===_.options.autoplay&&this._focusHandler()},_unload:function(){var _=this;$(".slick-cloned",_.$slider).remove(),_.$dots&&_.$dots.remove(),_.$prevArrow&&_.htmlExpr.test(_.options.prevArrow)&&_.$prevArrow.remove(),_.$nextArrow&&_.htmlExpr.test(_.options.nextArrow)&&_.$nextArrow.remove(),_.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},slickAdd:function(a,b,c){var _=this;if("boolean"==typeof b)c=b,b=null;else if(b<0||b>=_.slideCount)return!1;this._unload(),"number"==typeof b?0===b&&0===_.$slides.length?$(a).appendTo(_.$slideTrack):c?$(a).insertBefore(_.$slides.eq(b)):$(a).insertAfter(_.$slides.eq(b)):!0===c?$(a).prependTo(_.$slideTrack):$(a).appendTo(_.$slideTrack),_.$slides=_.$slideTrack.children(this.options.slide),
_.$slideTrack.children(this.options.slide).detach(),_.$slideTrack.append(_.$slides),_.$slides.each(function(a,b){$(b).attr("data-slick-index",a)}),_.$slidesCache=_.$slides,this._reinit()},slickRemove:function(a,b,c){var _=this;if("boolean"==typeof a?(b=a,a=!0===b?0:_.slideCount-1):a=!0===b?--a:a,_.slideCount<1||a<0||a>_.slideCount-1)return!1;this._unload(),!0===c?_.$slideTrack.children().remove():_.$slideTrack.children(this.options.slide).eq(a).remove(),_.$slides=_.$slideTrack.children(this.options.slide),_.$slideTrack.children(this.options.slide).detach(),_.$slideTrack.append(_.$slides),_.$slidesCache=_.$slides,this._reinit()},slickFilter:function(a){var _=this;null!==a&&(this._unload(),_.$slideTrack.children(this.options.slide).detach(),_.$slidesCache.filter(a).appendTo(_.$slideTrack),this._reinit())},slickUnfilter:function(){var _=this;null!==_.$slidesCache&&(this._unload(),_.$slideTrack.children(this.options.slide).detach(),_.$slidesCache.appendTo(_.$slideTrack),this._reinit())},getSlick:function(){return this},slickCurrentSlide:function(){return this.currentSlide},slickGoTo:function(a,b){this._changeSlide({data:{message:"index",index:parseInt(a)}},b)},slickNext:function(){this._changeSlide({data:{message:"next"}})},slickPrev:function(){this._changeSlide({data:{message:"previous"}})},slickPause:function(){this._autoPlayClear(),this.paused=!0},slickPlay:function(){this.paused=!1,this._autoPlay()}})}(),function(){"use strict";$.widget("ui.clearinput",{options:{showCaseSensitive:!1},_create:function(){this.btn=$('<span style="cursor: pointer; display: none; pointer-events: auto;" class="form-control-feedback form-clear-input">&times;</span>'),this.element.after(this.btn),this.element.addClass("form-control"),this.options.showCaseSensitive&&(this.ctBtn=$('<span style="cursor: pointer; display: block; pointer-events: auto;" class="form-control-feedback case-toggle-btn">Aa</span>').attr("title",fish.getResource("common.nIgnoreCase")),this.element.after(this.ctBtn),this.element.data("ignoreCase",!1),this._update()),this.buttonOuterWidth=this.btn.outerWidth(),this._delegateEvent()},_destroy:function(){this.element.parent().find(".clear-input-icon-left").remove(),this.element.parent().find(".clear-input-icon-right").remove(),this.btn.remove(),this.ctBtn&&this.ctBtn.remove()},_delegateEvent:function(){this._on({input:"_triggerBtn",focus:"_triggerBtn"}),this._on(this.btn,{click:"_clearField",mousedown:function(a){a.preventDefault()}}),this.ctBtn&&this.ctBtn.on("mousedown",this._toggleCase.bind(this)),this._on($(document),{mousedown:"_hideBtn"})},_toggleCase:function(a){a.preventDefault(),a.stopPropagation(),this.element.data("ignoreCase",!this.element.data("ignoreCase"));var b=this.element.data("ignoreCase")?fish.getResource("common.ignoreCase"):fish.getResource("common.nIgnoreCase");this.ctBtn.toggleClass("case-sensitive"),this.ctBtn.attr("title",b)},_hasText:function(){return this.element.val().replace(/^\s+|\s+$/g,"").length>0},_update:function(){var a=this.element.position(),b=this.element.outerWidth(),c=a.left+b-this.buttonOuterWidth,d=c,e=this.buttonOuterWidth;this.btn.is(":visible")&&(this.btn.css({left:c}),d=c-this.buttonOuterWidth,e+=this.buttonOuterWidth),this.ctBtn&&this.ctBtn.is(":visible")&&this.ctBtn.css({left:d}),this.element.css("padding-right",e)},_triggerBtn:function(){if(this.buttonOuterWidth||(this.buttonOuterWidth=this.btn.outerWidth()),this._hasText()){this.btn.is(":visible")||(this.btn.show(),this._update())}else this.btn.hide(),this._update()},_hideBtn:function(a){this.element.is(a.target)||this.element.find(a.target).length||this.btn.is(a.target)||this.btn.find(a.target).length||(this.btn.hide(),this._update())},_clearField:function(){this.element.val("").trigger("change"),this._triggerBtn()},_setIcon:function(a){for(var b=$.extend({direct:"left",iconname:"user"},a),c=b.iconname.split(" "),d="",e=0;e<c.length;e++)"left"===b.direct?d+=' <span class="input-group-addon clear-input-icon-left"><span class="glyphicon glyphicon-'+c[e]+'"></span></span>':d+=' <span class="input-group-addon clear-input-icon-right"><span class="glyphicon glyphicon-'+c[e]+'"></span></span>';return"left"===b.direct?this.element.before(d):(this.element.parent().append(d),this._update()),this},setIcon:function(a){return this._setIcon(a)}})}(),function(){"use strict";function a(a){var b,c=a.attr("data-target")||(b=a.attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,"");return $(c)}$.widget("ui.collapse",{options:{toggle:!0},_create:function(){this.$trigger=$('[data-toggle="collapse"][href="#'+this.element[0].id+'"],[data-toggle="collapse"][data-target="#'+this.element[0].id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this._getParent():this._addAriaAndCollapsedClass(this.element,this.$trigger),this.options.toggle&&this.toggle()},show:function(){if(!this.transitioning&&!this.element.hasClass("in")){var a,b=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(b&&b.length&&(a=b.data("ui-collapse"))&&a.transitioning)){b&&b.length&&b.collapse("hide");var c=this.dimension();this.element.removeClass("collapse").addClass("collapsing")[c](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var d=function(){this.element.removeClass("collapsing").addClass("collapse in")[c](""),this.transitioning=0,this._trigger("show")};if(!$.support.transition)return d.call(this);var e=$.camelCase(["scroll",c].join("-"));this.element.one("bsTransitionEnd",$.proxy(d,this)).emulateTransitionEnd(350)[c](this.element[0][e])}}},hide:function(){if(!this.transitioning&&this.element.hasClass("in")){var a=this.dimension();this.element[a](this.element[a]())[0].offsetHeight,this.element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var b=function(){this.element.removeClass("collapsing").addClass("collapse"),this.transitioning=0,this._trigger("hide")};if(!$.support.transition)return b.call(this);this.element[a](0).one("bsTransitionEnd",$.proxy(b,this)).emulateTransitionEnd(350)}},toggle:function(){this[this.element.hasClass("in")?"hide":"show"]()},dimension:function(){return this.element.hasClass("width")?"width":"height"},_getParent:function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(b,c){var d=$(c);this._addAriaAndCollapsedClass(a(d),d)},this)).end()},_addAriaAndCollapsedClass:function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)}}),$(document).on("click.collapse.data-api",'[data-toggle="collapse"]',function(b){var c=$(this);c.attr("data-target")||b.preventDefault();var d=a(c),e=d.data("ui-collapse");e?e.toggle():d.collapse(c.data())})}(),function(){"use strict";function a(a){this.$content.is(a.target)||$.contains(this.$content[0],a.target)||$.contains(this.$container[0],a.target)||this.hide()}$.combo=function(a){this.options=a,this.$container=$(b),this.$input=this.$container.find("input").attr("placeholder",this.options.placeholder||""),this.$button=this.$container.find(".input-group-addon"),this.$content=$('<div class="dropdown-content"></div>')};var b='<div class="input-group">\n                        <input type="text" autocomplete="off" class="form-control" spellcheck="false"/>\n                        <span class="input-group-addon">\n                            <span class="glyphicon glyphicon-triangle-bottom"></span>\n                        </span>\n                    </div>';$.combo.prototype.create=function(){this.options.dropdownWidth&&"auto"!==this.options.dropdownWidth?this.$content.css("width",this.options.dropdownWidth):this.$content.css("width",this.$container.outerWidth()),this.options.dropdownMaxHeight&&"auto"!==this.options.dropdownMaxHeight&&this.$content.css("max-height",this.options.dropdownMaxHeight),$("body").append(this.$content),this.$content.hide()},$.combo.prototype._scrollableParents=function(){return this.$container.parentsUntil("body").filter(function(a,b){return b.scrollHeight>b.clientHeight})},$.combo.prototype.buttonToggle=function(){var a=this;this._scrollableParents().on("scroll",function(){a.$content.is(":visible")&&a.hide()}),this.options.disable||(this.$content.is(":visible")?this.hide():this.show())},$.combo.prototype.hide=function(){this.$content.hide(),$("body").off("mousedown",$.proxy(a,this))},$.combo.prototype.show=function(){this.$content.show(),this.$content.position({my:"left top",at:"left bottom",of:this.$container,collision:"fit flip"}),this.options.dropdownWidth&&"auto"!==this.options.dropdownWidth?this.$content.css("width",this.options.dropdownWidth):this.$content.css("width",this.$container.outerWidth()),this.options.dropdownMaxHeight&&"auto"!==this.options.dropdownMaxHeight&&this.$content.css("max-height",this.options.dropdownMaxHeight),$("body").on("mousedown",$.proxy(a,this))},$.combo.prototype.destroy=function(){this.$container.remove(),this.$content.remove()}}(),function(){"use strict";var a=$.ui.keyCode,b=fish.getResource("common.PLZ_SELECT");$.widget("ui.combobox",$.ui.formfield,{options:{text:null,value:null,size:null,dataTextField:"name",dataValueField:"value",dataSource:[],placeholder:"",rowCount:1e4,delay:300,editable:!0,forceSelection:!0,templateResult:!1,equalWidth:!0,enableInitChange:!0,showNullItem:!1,customNullItemText:"",template:"",itemRenderer:null,disabledField:"disabled",disabledFunction:null,dataTitleField:"name"},_create:function(){this.$container=$("<div>"),this.element.hide().before(this.$container),this.element.is("select")&&(this.options.dataSource=this._parseSelect()),this.tempDataSource=this.options.dataSource.slice(),this._selectedItem=null,this.options.placeholder=this.options.placeholder||this.element.attr("data-placeholder")||this.element.attr("placeholder")||b;var a=_.uniqueId("combobox-dropdown-menu");this.$menu=$("<ul id="+a+' class="dropdown-list combobox-dropdown" role="listbox"></ul>'),this.setEditable(this.options.editable,!0),this.$input&&this.$input.attr("aria-owns",a),this._delaySearch=_.debounce(this.lookup,this.options.delay),this._super()},_init:function(){this.shown=!1;var a,b=this.options.value;if(this.options.dataSource&&this.options.dataSource.length){var c=this;$.each(this.options.dataSource,function(b,d){d[c.options.dataTextField]+="",!0===d.selected&&(a=d)})}a&&(b=a[this.options.dataValueField]),this.element.is("select")||(b=this.element.val()||b),this.options.enableInitChange||this.element.val(b),this.enablePagePoint=!0,this.value(b)},_validateHandler:function(){var a=this;this._on({"combobox:blur":function(){a._getValidFlag()&&a.element.isValid()}})},_setOption:function(a,b){this._super(a,b),"disabled"===a&&(this.options.editable?(this.$input.prop("disabled",b),this.$button.attr("disabled",b)):this.$container[b?"addClass":"removeClass"]("disabled")),"dataSource"===a&&this.value("")},setEditable:function(a,b){var c=this;if(a=!!a,this.options.editable=a,a)var d='<div class="input-group '+(this.options.size?"input-group-"+this.options.size:"")+'">\n                                    <input type="text" class="form-control" autocomplete="off" spellcheck="false" role="combobox" aria-expanded="false" aria-haspopup="true"/>\n                                    <span class="input-group-addon">\n                                        <span class="glyphicon glyphicon-triangle-bottom"></span>\n                                    </span>\n                                </div>';else d='<div class="combobox-readonly '+(this.options.size?"combobox-readonly-"+this.options.size:"")+' form-control" role="combobox" aria-expanded="false" tabindex="0"  aria-readonly="true" aria-haspopup="true">\n                                <span class="combobox-text"></span>\n                                <span class="glyphicon glyphicon-triangle-bottom form-control-feedback"></span>\n                            </div>';var e=this.$container;if(this.$container=$(d),e.replaceWith(this.$container),a)this.options.dataSource.length!=this.tempDataSource.length&&(this.options.dataSource=this.tempDataSource),this.$input=this.$container.find("input"),this.$button=this.$container.find(".input-group-addon"),this.$input.clearinput();else if(this.$display=this.$container.find(".combobox-text"),this.$placeholder=$('<span class="combobox-placeholder"></span>').html(this.options.placeholder),this.$display.html(this.$placeholder),this.options.showNullItem&&!this._hasNullValue()){var f={},g=this.options.dataSource;f[this.options.dataValueField]=null,this.options.customNullItemText?f[this.options.dataTextField]=this.options.customNullItemText:f[this.options.dataTextField]=this.options.placeholder,f.append=!0,g.unshift(f),this.options.dataSource=fish.unique(g,!1,function(a){return a[c.options.dataValueField]})}return this._delegateEvent(),this.transferAttributes(),b||this._init(),this},_hasNullValue:function(){var a=this,b=this.options.dataSource,c=!1;return $.each(b,function(b,d){if(!d[a.options.dataValueField]&&0!==d[a.options.dataValueField])return c=!0,!1}),c},text:function(a){if(a===undefined)return this._text();this._text(a)},_text:function(a){if(a===undefined)return this.options.editable?this.$input.val():this.selected?this.getSelectedItem()[this.options.dataTextField]:"";if(this.textRec={origText:this.options.editable?this.$input.val():this.$display.text(),text:b?this.options.templateResult(a):a},this.options.editable)this.$input.val(a);else if(""===a)this.$container.attr("aria-label",this.options.placeholder),this.$display.html(this.$placeholder);else{var b=this.options.templateResult,c=b?b(a):a;this.$container.attr("aria-label",c),this.$display.text(c)}},value:function(a){var b,c,d=this.options,e=this;if(fish.isUndefined(a))return this._selectedItem?this._selectedItem[d.dataValueField]:(b=_.find(d.dataSource,function(a){if(a[d.dataTextField]==e.element.val())return!0}),d.forceSelection?null:b?b[d.dataValueField]:this.element.val());b=_.find(d.dataSource,function(b){if(b[d.dataValueField]==a){if(!b[e.options.disabledField])return!0;c=!0}}),c||(this.enablePagePoint=!1,b?this._select(b):d.forceSelection?(this._selectedItem=null,this._setElementValue(""),this._text("")):(this._selectedItem=null,this._setElementValue(a),this._text(a)))},getSelectedItem:function(){return this._selectedItem||null},clear:function(){this._select(null)},_destroy:function(){this.$menu.remove(),this.element.prev().remove(),this.element.parent().removeClass("has-prompt").removeClass("has-feedback"),this.element.show()},_parseSelect:function(){var a,b,c=this,d=[];return this.element.children().each(function(){b=$(this),a={},a[c.options.dataTextField]=b.text(),a[c.options.dataValueField]=b.val(),b.attr("disabled")&&(a.disabled=!0),b.attr("selected")&&(a.selected=!0),d.push(a)}),d},transferAttributes:function(){var a={};fish.each(this.element[0].attributes,function(b){-1!==b.name.indexOf("aria")&&(a[b.name]=b.value)}),this.options.editable?(a=fish.extend(a,{placeholder:this.options.placeholder}),this.$input.attr(a)):this.$container.attr(a),this.element.removeAttr("tabindex"),this.element.attr("disabled")!==undefined&&this.disable()},_scrollableParents:function(){return this.element.parentsUntil("body").filter(function(a,b){return b.scrollHeight>b.clientHeight})},show:function(){this.shown||(this.options.equalWidth?this.$menu.css("width",this.$container.outerWidth()):this.$menu.css("width","auto"),$("body").append(this.$menu),this.options.editable?this.$input.attr("aria-expanded",!0):this.$container.attr("aria-expanded",!0),this._on($(document),{mousedown:$.proxy(function(a){this.$menu.is(a.target)||$.contains(this.$menu[0],a.target)||$.contains(this.$container[0],a.target)||this.hide()},this)}),this._on($(window),{blur:"hide"}),this._on(this._scrollableParents(),{scroll:$.proxy(function(){this.shown&&this.hide()},this)}),this.shown=!0,this._trigger("open")),this.$menu.position({my:"left top",at:"left bottom",of:this.$container,collision:"fit flip"})},hide:function(){this._off($(document)),this._off($(window)),this._off(this._scrollableParents(),"scroll"),this.$menu.detach(),this.options.editable?this.$input.attr("aria-expanded",!1):this.$container.attr("aria-expanded",!1),this.shown=!1,this._trigger("close")},lookup:function(a){var b=this,c=$.grep(this.options.dataSource,function(c){return b.matcher(c,a)});return c=this.sorter(c,a),c.length||this.options.forceSelection||this._setSelected(!0),this.render(c.slice(0,parseInt(this.options.rowCount,10)),a),this.$menu.children().length>0?this.show():this.shown?this.hide():this},matcher:function(a,b){return~a[this.options.dataTextField].toLowerCase().indexOf(b.toLowerCase())},sorter:function(a,b){var c=[],d=[],e=[],f=this;return _.forEach(a,function(a){a[f.options.dataTextField].toLowerCase().indexOf(b.toLowerCase())?~a[f.options.dataTextField].indexOf(b)?d.push(a):e.push(a):c.push(a)}),c.concat(d,e)},highlighter:function(a,b){return b=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),""===b?fish.escape(a):a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+fish.escape(b)+"</strong>"})},render:function(a,b){var c=this,d=this.options.dataTextField,e=this.options.dataTitleField;return a=$(a).map(function(a,f){var g,h=$("<li></li>").data("value",f).attr({title:f[e],role:"option",id:"result-item-"+a});if(g=fish.isFunction(c.options.itemRenderer)?c.options.itemRenderer.call(c,f,b):c.highlighter(f[d],b),h.html(g),c._selectedItem?c._selectedItem[d]===f[d]&&h.addClass("active selected"):0===a&&h.addClass("active"),fish.isFunction(c.options.disabledFunction)){!0===c.options.disabledFunction.call(c,f)&&h.addClass("disabled")}else!0===f[c.options.disabledField]&&h.addClass("disabled");return h[0]}),this.$menu.html(a),this.options.template&&this.$menu.append(this.options.template),this},next:function(a){this.$menu.find(".active").removeClass("active");var b=this.$menu.find(".selected").removeClass("selected"),c=b.next();c.length||(c=$(this.$menu.find("li")[0])),this.$input&&this.$input.attr("aria-activedescendant",c.attr("id")),c.addClass("active selected"),this._scroll(c)},prev:function(a){this.$menu.find(".active").removeClass("active");var b=this.$menu.find(".selected").removeClass("selected"),c=b.prev();c.length||(c=this.$menu.find("li").last()),this.$input&&this.$input.attr("aria-activedescendant",c.attr("id")),c.addClass("active selected"),this._scroll(c)},reset:function(){if(!this.options.disabled){var a=this.element.val();this.selected?(this.clearTarget(),this.clearElement(),this._triggerChange(a)):this.shown?this.hide():this.clearElement()}},clearElement:function(){this._text(""),this.options.editable&&this.$input.focus()},clearTarget:function(){this.element.val(""),this._setSelected(!1)},_setSelected:function(a){this.selected=a},_delegateEvent:function(){if(this.options.editable){this._off(this.$container,"click keydown keyup"),this._on(this.$container,{"click .input-group-addon":"_onButtonToggle","mousedown .input-group-addon":function(a){a.preventDefault()},"mousedown .form-clear-input":"clear"});var a={blur:"_onBlur",keyup:"_onKeyUp"};fish.browser.msie&&fish.browser.version<=11||(a.input="_onInput"),this._on(this.$input,a)}else this.$input&&this._off(this.$input),this._on(this.$container,{click:"_onButtonToggle",keydown:function(a){a.preventDefault()},keyup:"_onKeyUp"});this._off(this.$menu),this._on(this.$menu,{"click li":"_onMenuClick","mouseenter li":"_onMenuMouseEnter","mousedown li":function(a){a.preventDefault()}})},_onBlur:function(a){var b=this._text();b?(this.options.forceSelection&&!this.selected&&(this._selectedItem&&this._select(null),this.$input.data("ui-clearinput")._clearField()),this.options.forceSelection||(this._selectedItem&&this._selectedItem[this.options.dataTextField]!==b&&(this._setSelected(!1),this._selectedItem=null),this._setElementValue(b))):this.value()&&this.clear(),this._trigger("blur")},_onKeyUp:function(b){switch(b.keyCode){case a.LEFT:case a.RIGHT:case a.HOME:case a.END:break;case a.TAB:case a.ENTER:this.shown&&(b.preventDefault(),this._onMenuSelect());break;case a.ESCAPE:this.shown&&(b.stopPropagation(),this.hide());break;case a.DELETE:this.options.editable&&this.value()&&this.clear();break;case a.UP:this.shown&&this.prev();break;case a.DOWN:this.shown?this.next():(this._onButtonToggle(),this.$menu.find("li").length>0&&0===this.$menu.find(".selected").length&&this.next());break;default:this._setSelected(!1),this._delaySearch(this._text())}},_onInput:function(){this._delaySearch(this.$input.val())},_onMenuClick:function(a){a.stopPropagation(),$(a.currentTarget).hasClass("disabled")||(this.$menu.find(".selected").removeClass("selected"),$(a.currentTarget).addClass("selected"),this._onMenuSelect(),this.options.editable&&this.$input.focus())},_onMenuMouseEnter:function(a){this.$menu.find(".active").removeClass("active"),$(a.currentTarget).addClass("active")},_onButtonToggle:function(a){this.options.disabled||(this.shown?this.hide():this.lookup(this.options.editable&&!this.selected?this._text():""),this.options.editable&&this.$input.focus())},_onMenuSelect:function(){var a=this.$menu.find(".selected").data("value");this._select(a),this.hide()},_onFormReset:function(){this.enablePagePoint=!1,!this.element.is("select")||this.element.find("option:selected").attr("selected")?this.value(null===this.options.value?this.element.val():this.options.value):this._select(null)},_onFormClear:function(){this.enablePagePoint=!1,this._select(null)},_formSetValue:function(a){this.value(a)},_formGetValue:function(){return this.value()},_select:function(a){var b=this.options;a?(this._setSelected(!0),this._selectedItem=a,this._text(a[b.dataTextField]),this._setElementValue(a[b.dataValueField])):(this._setSelected(!1),this._text(""),this._selectedItem=null,this._setElementValue(""))},_triggerChange:function(a){this._trigger("change"),this.options.dataSource,this.enablePagePoint&&this._pagePoint($.extend({eventType:"change",origValue:a},this.textRec))},_setElementValue:function(a){var b=this.element.val();this.element.val()!==a&&(this.element.val(a),this._triggerChange(b)),this.enablePagePoint=!0},_scroll:function(a){var b=this.$menu.scrollTop(),c=a.position().top+b,d=a.outerHeight(),e=c+d,f=this.$menu.height();this.$menu.scrollTop(c<b?c:e>b+f?e-f:b)},hideWidget:function(){this.hide(),this.element.prev().hide()},showWidget:function(){this.element.prev().show()},focus:function(){this.$input.focus()},append:function(a){var b=this.options.dataSource,c=this.options.dataValueField,d=this.options.dataTextField;fish.isEmpty(a)||(b.push(a),this.options.dataSource=fish.unique(b,!1,function(a){return a[c]}),this.value(a[c]),this.lookup(a[d]))},droplistOn:function(a,b){var c={};c[a]=b,this._on(this.$menu,c)}}),fish.addLangListener(function(){b=fish.getResource("common.PLZ_SELECT")})}(),function(){$.widget("ui.combotree",$.ui.formfield,{options:{placeholder:fish.getResource("common.PLZ_SELECT"),closeByChooseNode:!0,dataValueField:"name",showClear:!0,formatter:null,searchFilter:!1,editable:!1,dropdownWidth:"",dropdownMaxHeight:""},_create:function(){this.selectNodes=[],this.comboTree=new $.combo(this.options),this.element.hide().before(this.comboTree.$container),this.comboTree.$content.append($("<ul>")),this.treeContainer=this.comboTree.$content.find("ul"),this.treeContainer.tree(this.options),this.originData=$.extend(!0,[],this.treeContainer.tree("getNodes")),this.enablePagePoint=!0,this.options.searchFilter&&(this.comboTree.$content.prepend($('<div style="margin: 5px; position: relative"><input type="text" class="search-text" placeholder="Search" autocomplete="off"></div>')),this.$searchInput=this.comboTree.$content.find(".search-text").clearinput(),this.treeContainer.before($('<div style="text-align: center" class="tree-not-found">Not Found</div>')),this.$notFoundSpan=this.comboTree.$content.find(".tree-not-found").hide()),this.options.editable||this.comboTree.$input.attr("readonly",!0).addClass("combo-readonly"),this.comboTree.create(),this._delegateEvent(),this._super()},_validateHandler:function(){var a=this;this._on(this.comboTree.$input,{blur:function(){a._getValidFlag()&&a.element.isValid()}})},enable:function(){this._super(),this.comboTree.$input.prop("readonly",!0),this.comboTree.$input.prop("disabled",!1)},disable:function(){this._super(),this.comboTree.$input.prop("readonly",!1),this.comboTree.$input.prop("disabled",!0)},_destroy:function(){this.comboTree.destroy(),this.element.show(),this.selectNodes=[]},_delegateEvent:function(){if(this._on(this.comboTree.$container,{"click .input-group-addon":function(){$.proxy(this.comboTree.buttonToggle,this.comboTree)(),this.comboTree.$content.is(":visible")?this._trigger("show"):this._trigger("hide")}}),this._on(this.comboTree.$content,{click:"_onItemClick"}),this.options.showClear&&(this.comboTree.$input.clearinput(),this._on(this.comboTree.$container,{"click .form-clear-input":"_clearInput"})),this.options.searchFilter){var a={"click .form-clear-input":"_clearSearchInput"};a[fish.browser.msie&&fish.browser.version<=8?"keyup":"input .search-text"]="searchFilterTree",this._on(this.comboTree.$content,a)}},_clearSearchInput:function(){this.treeContainer.tree("reloadData",this.originData),this.$notFoundSpan.hide()},searchFilterTree:function(){var a=[],b=[],c=this.$searchInput.val();this.treeContainer.tree("reloadData",this.originData),a=this.treeContainer.tree("getNodesByParamFuzzy","name",c);var d=this.treeContainer.tree("transformToArray",this.originData),e=this.options.data.simpleData.idKey||"id",f=this.options.data.simpleData.pIdKey||"pId";a.length>0&&!a[0][e]&&(e="tId",f="parentTId"),fish.each(a,function(a){var c={};c[e]=a[e],this._findNodeParent(fish.find(d,c),d,b,e,f),a.children&&(b=b.concat(a.children))}.bind(this)),this.treeContainer.tree("reloadData",c?b:this.originData),b.length?this.$notFoundSpan.hide():this.$notFoundSpan.show()},_findNodeParent:function(a,b,c,d,e){if(a){var f={},g={},h=$.extend(!0,{},a);g[d]=h[d],-1===fish.findIndex(c,g)&&(c.push(h),h.children&&(h.children.length=0),h[e]&&(f[d]=h[e],this._findNodeParent(fish.find(b,f),b,c,d,e)))}},_clearInput:function(){var a=this.element.val();this.ppOrigValue=a,this.element.val(""),this.selectNodes=[],this.treeContainer.tree("cancelSelectedNode"),this.options.check&&this.options.check.enable&&this.treeContainer.tree("checkAllNodes",!1),a&&this._triggerChange()},_onItemClick:function(a){this.options.check&&this.options.check.enable?this._onCheckboxClick(a):this._onTreeClick(a)},_onCheckboxClick:function(a){this.selectNodes=this.treeContainer.tree("getCheckedNodes",!0);var b,c=this.comboTree.$input.val();this.ppOrigValue=c,b=this._valueHandler(),c!==b&&(this.comboTree.$input.val(b),this.element.val(b),this._triggerChange())},_onTreeClick:function(a){var b=this.selectNodes;this.selectNodes=this.treeContainer.tree("getSelectedNodes"),this.ppOrigValue=this.comboTree.$input.val();var c,d=a.target.id.slice(0,a.target.id.lastIndexOf("_")),e=this.treeContainer.tree("getNodeByTId",d);e&&!$(a.target).hasClass("switch")&&(this.selectNodes.sort(function(a,b){return a.id-b.id}),c=this._valueHandler(),b[0]!==e&&(this.comboTree.$input.val(c),this.element.val(c),this._triggerChange()),this.options.closeByChooseNode&&this.comboTree.hide())},_valueHandler:function(){var a,b,c=[],d=this.selectNodes.length,e=this.treeContainer.tree("option","data.key.name");if(fish.isFunction(this.options.formatter))b=this.options.formatter.call(this,this.selectNodes);else{for(a=0;a<d;a++)c[a]=this.selectNodes[a][e];b=c.length>0?c.join(","):""}return b},clear:function(){this.comboTree.$input.val(""),this._clearInput()},text:function(a){if(fish.isUndefined(a))return this.comboTree.$input.val();this.comboTree.$input.val(a),this.element.val(a)},value:function(a){var b=this,c=[],d=this.options.check&&this.options.check.enable;if(fish.isUndefined(a))return d?this.selectNodes:0==this.selectNodes.length?null:this.selectNodes[0];fish.isNull(a)?this.clear():fish.isArray(a)||(a=[a.toString()]),this.ppOrigValue=this.comboTree.$input.val(),d?"checkbox"===this.options.check.chkStyle?this.treeContainer.tree("checkAllNodes",!1):fish.map(this.selectNodes,function(a){b.treeContainer.tree("checkNode",a,!1,!0,!0)}):this.treeContainer.tree("cancelSelectedNode"),fish.map(a,function(a){c=c.concat(b.treeContainer.tree("getNodesByParam",b.options.dataValueField,a))}),this.selectNodes=c;var e=this._valueHandler();this.comboTree.$input.val(e),this.element.val(e),d?fish.map(this.selectNodes,function(a){b.treeContainer.tree("checkNode",a,!0,!0,!0)}):fish.map(this.selectNodes,function(a){b.treeContainer.tree("selectNode",a,!0)}),this.enablePagePoint=!1,this._triggerChange()},_formGetValue:function(){var a=this.value(),b=this;return fish.isArray(a)?fish.map(a,function(a){return a[b.options.dataValueField]}):a?a[this.options.dataValueField]:a},_formSetValue:function(a){this.value(a)},_onFormClear:function(){this.clear()},_triggerChange:function(){this._trigger("change",null,{selectNodes:this.selectNodes}),this.enablePagePoint&&this._pagePoint({eventType:"change"},this._pagePointFormatter.bind(this)),this.enablePagePoint=!0},_pagePointFormatter:function(){var a={},b=[],c=[],d=this.treeContainer.tree("instance").options.data.key.name,e=Object.prototype.hasOwnProperty;return $.each(this.selectNodes,function(a,f){b.push(f[d]);var g={},h=f;for(var i in h)e.call(h,i)&&"function"!=typeof h[i]&&"object"!=typeof h[i]&&(g[i]=h[i]);c.push(g)}),a.value=b.join(","),a.selectNodes=c,a.origValue=this.ppOrigValue,a},show:function(){this.comboTree.show(),this._trigger("show")},hide:function(){this.comboTree.hide(),this._trigger("hide")},getTreeInstance:function(){return this.treeContainer},hideWidget:function(){this.treeContainer.hide(),this.element.prev().hide()},showWidget:function(){this.element.prev().show()}})}(),function(){"use strict";$.widget("ui.combogrid",$.ui.formfield,{options:{placeholder:fish.getResource("common.PLZ_SELECT"),closeByChooseItem:!0,showClear:!0,dropdownWidth:""},_create:function(){this.comboGrid=new $.combo(this.options),this.element.hide().before(this.comboGrid.$container),this.comboGrid.create(),this._initGrid(),this.comboGrid.$input.attr("placeholder",this.options.placeholder),this.comboGrid.$input.attr("readonly",!0).addClass("combo-readonly"),this._initOption(),this._delegateEvent(),this._super()},_initGrid:function(){this.comboGrid.$content.append($("<div>")),this.gridContainer=this.comboGrid.$content.find("div"),this.comboGrid.show(),this.gridContainer.grid(this.options.gridOpt),this.comboGrid.hide()},_initOption:function(){this._value=null,this.enablePagePoint=!0,this.dataValueField=this.options.dataValueField||this.gridContainer.grid("getKeyName"),this.dataTextField=this.options.dataTextField||this.gridContainer.grid("getKeyName")},_delegateEvent:function(){var a=this;if(this._on(this.comboGrid.$container,{"click .input-group-addon":$.proxy(this.comboGrid.buttonToggle,this.comboGrid)}),this.options.gridOpt.multiselect){var b=this.comboGrid.hide;this.comboGrid.hide=function(){b.call(this),a._triggerMultiSelect()}}else{var c=this.gridContainer.grid("option","onChangeRow");this.gridContainer.grid("option","onChangeRow",function(b,d,e){c&&c(),a._triggerChange(d)})}this.options.showClear&&(this.comboGrid.$input.clearinput(),this._on(this.comboGrid.$container,{"click .form-clear-input":"_clearInput"}))},_clearInput:function(){var a=this.element.val();this.element.val(""),this._value=null,this.gridContainer.grid("resetSelection"),this.gridContainer.grid("setAllCheckRows",!1),a&&(this._trigger("change",null,{selectNodes:[]}),this._triggerPagePoint({eventType:"change",value:"",origValue:a,selectedRows:[]}))},enable:function(){this._super(),this.comboGrid.$input.prop("readonly",!0),this.comboGrid.$input.prop("disabled",!1)},disable:function(){this._super(),this.comboGrid.$input.prop("readonly",!1),
this.comboGrid.$input.prop("disabled",!0)},_triggerMultiSelect:function(){var a=this.comboGrid.$input.val(),b=this.gridContainer.grid("getCheckRows");this._value=b,this._setTextByValue(),a!==this.text()&&(this._trigger("change",null,{selectNodes:this._value}),this._triggerPagePoint({eventType:"change",value:this.text(),origValue:a,selectedRows:b}))},_triggerChange:function(a){var b=this.comboGrid.$input.val(),c=this.gridContainer.grid("getRowData",a);this._value=c,this._setTextByValue(),this.options.closeByChooseItem&&this.comboGrid.hide(),b!==this.text()&&(this._trigger("change",null,{selectNodes:[this._value]}),this._triggerPagePoint({eventType:"change",value:this.text(),origValue:b,selectedRows:c}))},_triggerPagePoint:function(a){this.enablePagePoint&&this._pagePoint(a),this.enablePagePoint=!0},_setTextByValue:function(){var a=this;if(this._value)if($.isArray(this._value)){var b=this.gridContainer.grid("getCheckRows");this.text($.map(b,function(b){return b&&b[a.dataTextField]}).join(","))}else this.text(this._value[this.dataTextField])},clear:function(){this.comboGrid.$input.val(""),this._clearInput()},text:function(){return arguments.length>0&&(this.element.val(arguments[0]),this.comboGrid.$input.val(arguments[0])),this.comboGrid.$input.val()},value:function(){var a=this;if(!arguments[0])return $.isArray(this._value)?this.options.dataValueField?$.map(this._value,function(b){return b[a.dataValueField]}):this._value:this._value&&this.options.dataValueField?this._value[this.dataValueField]:this._value;var b=arguments[0],c=this.gridContainer.grid("getGridParam").data;if(_.isArray(b))this.options.gridOpt.multiselect&&(this.gridContainer.grid("setAllCheckRows",!1),this.gridContainer.grid("setCheckRows",b,!0),this._value=fish.filter(c,function(c){return-1!==fish.indexOf(b,c[a.dataValueField])}),this._setTextByValue());else{this.enablePagePoint=!1;var d=fish.findIndex(c,function(c){return c[a.dataValueField]==b});this.gridContainer.grid("setSelection",c[d]),c[d]?this._value=c[d]:_.isObject(b)&&b[a.dataValueField]&&(this._value=b),this._setTextByValue()}},_formGetValue:function(){return this.value()},_formSetValue:function(a){this.value(a)},_onFormClear:function(){this.clear()},reset:function(){this.comboGrid.$input.val(""),this.element.val(""),this._value=null,this.gridContainer.grid("resetSelection"),this.gridContainer.grid("setAllCheckRows",!1)},_destroy:function(){this.comboGrid.destroy(),this.element.show(),this._value=null},getGridInstance:function(){return this.gridContainer},hideWidget:function(){this.gridContainer.hide(),this.element.prev().hide()},showWidget:function(){this.element.prev().show()}})}(),function(){"use strict";function a(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}var b=fish.getResource("datetimepicker"),c=fish.dateutil,d={viewType:{time:{buttonIcon:"time",startView:0,endView:0,parseFormat:"hh:ii:ss",format:"hh:ii:ss"},datetime:{buttonIcon:"calendar",startView:0,endView:2,parseFormat:"yyyy-mm-dd hh:ii:ss",format:"yyyy-mm-dd hh:ii:ss"},date:{buttonIcon:"calendar",startView:0,endView:2,parseFormat:"yyyy-mm-dd",format:"yyyy-mm-dd"},month:{buttonIcon:"th",startView:1,endView:2,parseFormat:"yyyy-mm",format:"yyyy-mm"},year:{buttonIcon:"th-large",startView:2,endView:2,parseFormat:"yyyy",format:"yyyy"}},modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],headTemplate:'\n                <thead>\n                    <tr>\n                        <th class="prev"><i class="glyphicon glyphicon-arrow-left"></i></th>\n                        <th colspan="5" class="datetimepicker-switch"></th>\n                        <th class="next"><i class="glyphicon glyphicon-arrow-right"></i></th>\n                    </tr>\n                </thead>',timeTemplate:'<span class="label label-hours"></span> : <span class="label label-minutes"></span> : <span class="label label-seconds"></span><a class="btn datetimepicker-now {{#if invisible}}invisible{{/if}}">{{now}}</a><a class="btn js-btn-ok">{{ok}}</a>',todayTemplate:'<tr><th colspan="7" class="today"></th></tr>'},e=fish.compile('\n            <div class="datetimepicker-selectAddonOpt" >\n                <ul class="selectMenu dropdown-list combobox-dropdown" style="height:auto; max-height:400px;">\n                    {{#if showTimeSelect}}\n                    {{#each datetimeOpt}}\n                    <li value="{{value}}">{{text}}</li>\n                    {{/each}}\n                    {{/if}}\n                    {{#each dateOpt}}\n                    <li value="{{value}}">{{text}}</li>\n                    {{/each}}\n\t\t        </ul>\n\t        </div>'),f=fish.compile('\n            <div>\n                <table>\n                    <tfoot>\n                        <tr>\n                            <th colspan="7">\n                                '+d.timeTemplate+"\n                            </th>\n                        </tr>\n                    </tfoot>\n                </table>\n            </div>"),g=fish.compile('\n            <div class="datetimepicker-times">\n                <table>\n                    <thead>\n                        <tr>\n                            <th colspan="7">{{title}}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td colspan="7">\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>'),h='\n            <div class="datetimepicker-days">\n                <table>\n                    '+d.headTemplate+"\n                    <tbody></tbody>\n                    <tfoot></tfoot>\n                </table>\n            </div>",i=fish.compile('\n            <div class="datetimepicker-months">\n                <table>\n                    '+d.headTemplate+'\n                    <tbody>\n                        <tr>\n                            <td colspan="7">\n                                {{#each monthsShort}}\n                                <span class="month">{{this}}</span>\n                                {{/each}}\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>'),j='\n            <div class="datetimepicker-years">\n                <table>\n                    '+d.headTemplate+'\n                    <tbody>\n                        <tr>\n                            <td colspan="7">\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>';$.widget("ui.datetimepicker",$.ui.formfield,{options:{viewType:"datetime",buttonIcon:"th",format:"",initialDate:null,autoClose:!0,todayBtn:!1,nowBtn:!0,todayHighlight:!0,weekStart:0,startDate:"",endDate:"",daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],showOnFocus:!0,immediateUpdates:!1,orientation:"auto",rtl:!1,inline:!1,container:"body",zIndexOffset:10,minuteStep:1,secondStep:1,defaultTime:"now",showSelectAddon:!1},_create:function(){this.picker=$('<div class="datetimepicker" aria-hidden="true"></div>'),this.$container=this.element.parent(),this.triggerHide=!0,"auto"===this.options.orientation&&(this.options.orientation={x:"auto",y:"auto"});var a=d.viewType[this.options.viewType];this.options.format||(this.options.format=fish.config.get("dateDisplayFormat."+this.options.viewType)||a.format),this.element.attr("role","application"),this.isInline=this.options.inline,this.isInput=this.element.is("input"),!this.isInline&&this.isInput&&(this.element.attr("autocomplete","off"),this.options.buttonIcon&&(this.clearInput=this.element.clearinput(),this.options.buttonIcon=a.buttonIcon,this._createIcon(),this.component=this.element.nextAll(".input-group-addon")));var b=!1;if("datetime"!==this.options.viewType&&"date"!==this.options.viewType||(b=!0),this.options.showSelectAddon&&this.isInput&&b){this.showSelect=!0;var e={direct:"right",iconname:"triangle-bottom"};this.element.clearinput().clearinput("setIcon",e),this.selectButton=this.element.nextAll().children(".glyphicon-triangle-bottom").parent(),this.shown=!1,this.selectButton.attr("tabindex",-1)}this.startView=a.startView,this.endView=a.endView,this.viewMode=this.startView,this.options.weekStart%=7,this.options.weekEnd=(this.options.weekStart+6)%7,this.isInline?this.picker.addClass("datetimepicker-inline").appendTo(this.element):this.picker.addClass("datetimepicker-dropdown dropdown-menu"),this.options.rtl&&this.picker.addClass("datetimepicker-rtl"),this._allow_update=!1,this._allow_show_update=!1,this._buildView(),this._bindEvent(),this._allow_update=!0,this._allow_show_update=!0,this.options.initialDate&&!this.isInline&&(this.date=c.parse(this.options.initialDate,this.parseFormat),this.setValue()),this.update(),this.isInline&&this.show(),this._super()},_buildView:function(){this.parseFormat=fish.config.get("dateParseFormat."+this.options.viewType)||d.viewType[this.options.viewType].parseFormat,this.setStartDate(this.options.startDate),this.setEndDate(this.options.endDate),this.setDaysOfWeekDisabled(this.options.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.options.daysOfWeekHighlighted),fish.isString(this.options.datesDisabled)&&(this.options.datesDisabled=[this.options.datesDisabled]),this.setDatesDisabled(this.options.datesDisabled),"time"!==this.options.viewType?(this.picker.append(j),this.picker.append(i({monthsShort:b.monthsShort})),"date"!==this.options.viewType&&"datetime"!==this.options.viewType||(this.picker.append(h),this.fillDow())):this.picker.append(f({now:b.now,ok:b.ok,invisible:!1===this.options.nowBtn}))},_bindEvent:function(){var a;a=this.isInput?{change:_.bind(function(a){-1===_.indexOf([27,37,39,38,40,32,13,9],a.keyCode)&&(this.enablePagePoint=!0,this.update())},this),keydown:"keydown",blur:_.bind(function(a){if(this._focused_from=a.target,this.element.val()&&(this.setValue(),this.clearInput)){this.clearInput.clearinput("instance").btn.hide(),this.element.removeAttr("style")}},this)}:{click:"show"},this.component&&this._on(this.component,{click:"show"}),this.showSelect&&this.selectButton&&(this._on(this.selectButton,{click:"onButtonToggle",mousedown:function(a){a.preventDefault()}}),this._on(this.$container,{"mousedown .form-clear-input":"clearSelectState"})),!0===this.options.showOnFocus?a.focus="show":a.click="show",this.options.immediateUpdates&&_.extend(a,{"datetimepicke:changeYear":"_changeDate","datetimepicke:changeMonth":"_changeDate","datetimepicke:changeHour":"_changeDate","datetimepicke:changeMinute":"_changeDate","datetimepicke:changeSecond":"_changeDate"}),this._on(a),this._secondaryEvents=[[this.picker,{click:_.bind(this.click,this)}]],this.options.inline||this._secondaryEvents.push([$(document),{mouseup:_.bind(function(a){var b=this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.picker.hasClass("datetimepicker-inline"),c=!1;this.showSelect&&(c=this.selectButton.children().is(a.target)||this.selectButton.is(a.target)||this.selectButton.children().find(a.target).length||this.selectButton.find(a.target).length),this.component?b||this.component.is(a.target)||this.component.find(a.target).length||this._triggerHideEvent(c):b||this._triggerHideEvent(c)},this)}])},_onMenuClick:function(a){$(a.currentTarget).hasClass("disabled")||(a.stopPropagation(),this.selectOpt.find(".selected").removeClass("selected active"),$(a.currentTarget).addClass("selected active"),this._onMenuSelect())},_triggerHideEvent:function(a){a&&(this.triggerHide=!1,this._trigger("clickSelectAddon")),this.viewDate=this.date||("start"===this.options.defaultTime?c.getStartOfDay(new Date):new Date),this.hide()},_onMenuMouseEnter:function(a){this.selectOpt.find(".active").removeClass("active"),$(a.currentTarget).addClass("active")},_onMenuSelect:function(a){var b=this.selectOpt.find(".selected").val(),c=this.createTimeValue(b);this.enablePagePoint=!0,this._setDate(c),this.selectTime=this.element.val(),this.hideSelectMenu(),this.element.blur()},createTimeValue:function(a){var b,d=new Date;switch(a){case 0:b=new Date;break;case 1:b=c.getStartOfDay(new Date);break;case 2:b=c.getEndOfDay(new Date);break;case 3:b=c.getStartOfDay(new Date(d.getTime()+864e5));break;case 4:b=c.getEndOfDay(new Date(d.getTime()+864e5));break;case 5:b=new Date(d.getFullYear(),d.getMonth(),1,0,0,0);break;case 6:b=new Date(d.getFullYear(),d.getMonth()+1,0,23,59,59);break;case 7:b=new Date(d.getFullYear(),d.getMonth()+1,1,0,0,0);break;case 8:b=new Date(d.getFullYear(),d.getMonth()+2,0,23,59,59);break;case 9:b=new Date(d.getFullYear(),0,1,0,0,0);break;case 10:b=new Date(d.getFullYear(),11,31,23,59,59);break;case 11:b=new Date(d.getFullYear()+1,0,1,0,0,0);break;case 12:b=new Date(d.getFullYear()+1,11,31,23,59,59)}return b},onButtonToggle:function(a){this.shown?this.hideSelectMenu():(this.selectOpt||(this.selectOpt=this._createSelectOpt()),$("body").append(this.selectOpt),this.selectOpt.find(".active").removeClass("active"),this.selectOpt.find(".selected").addClass("active"),this.selectOpt.css("width",this.element.parent().outerWidth()),this.selectOpt.children(".selectMenu").css({width:this.element.parent().outerWidth(),margin:0,padding:0}),this.selectTime!==this.element.val()&&this.clearSelectState(),this._setSelectOpt(),this.selectOpt.scrollTop(0),this._on($(document),{mouseup:$.proxy(function(a){this.selectOpt.is(a.target)||this.selectOpt.find(a.target).length||this.selectButton.children().is(a.target)||this.selectButton.is(a.target)||this.selectButton.children().find(a.target).length||this.selectButton.find(a.target).length||this.hideSelectMenu()},this)}),this._on($(window),{blur:"hideSelectMenu"}),this._on(this._scrollableParents(),{scroll:$.proxy(function(){this.shown&&this.hideSelectMenu()},this)}),this.shown=!0,this.selectOpt.position({my:"left top",at:"left bottom",of:this.$container,collision:"fit flip"}),this._on(this.selectOpt,{"click li":"_onMenuClick","mouseenter li":"_onMenuMouseEnter","mousedown li":function(a){a.preventDefault()}}))},hideSelectMenu:function(){this._off($(document)),this._off(this._scrollableParents(),"scroll"),this.selectOpt.detach(),this.shown=!1},_applyEvents:function(a){for(var b,c,d,e=0;e<a.length;e++)b=a[e][0],2===a[e].length?(c=undefined,d=a[e][1]):3===a[e].length&&(c=a[e][1],d=a[e][2]),b.on(d,c)},_unapplyEvents:function(a){for(var b,c,d,e=0;e<a.length;e++)b=a[e][0],2===a[e].length?(d=undefined,c=a[e][1]):3===a[e].length&&(d=a[e][1],c=a[e][2]),b.off(c,d)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_changeDate:function(a,b){this.update(b.date)},_validateDate:function(a){return a&&a<this.options.startDate?a=new Date(this.options.startDate):a&&a>this.options.endDate&&(a=new Date(this.options.endDate)),a},_scrollableParents:function(){return this.$container.parentsUntil("body").filter(function(a,b){return b.scrollHeight>b.clientHeight})},update:function(a){if(!this._allow_update)return this;var b=this.date instanceof Date?new Date(this.date):undefined,d=!1;return fish.isUndefined(a)?a=c.parse(this.element.val(),this.options.format):d=!0,this.date=c.parse(a,this.parseFormat),this.date=this._validateDate(this.date),this.date?this.viewDate=new Date(this.date):this.viewDate<this.options.startDate?this.viewDate=new Date(this.options.startDate):this.viewDate>this.options.endDate?this.viewDate=new Date(this.options.endDate):(this.viewDate=new Date,"start"===this.options.defaultTime&&(this.viewDate=c.getStartOfDay(this.viewDate))),d?(this.setValue(),this._trigger("changeDate",null,{date:this.date}),this._triggerPagePoint(b,this.date)):a&&String(b)!==String(this.date)&&(this._trigger("changeDate",null,{date:this.date}),this._triggerPagePoint(b,this.date)),!this.date&&b&&this._trigger("clearDate"),this.showMode(),this},_triggerPagePoint:function(a,b){this.enablePagePoint&&(this._pagePoint({eventType:"changeDate",origValue:c.format(a,this.parseFormat),value:c.format(b,this.parseFormat)}),this.enablePagePoint=!1)},showMode:function(a){if("time"===this.options.viewType){var b,c,e,f=new Date(this.viewDate);b=f.getHours(),b<10&&(b="0"+b),c=f.getMinutes(),c<10&&(c="0"+c),e=f.getSeconds(),e<10&&(e="0"+e),this.picker.find(".label-hours").text(b),this.picker.find(".label-minutes").text(c),this.picker.find(".label-seconds").text(e),this.picker.children("div").show()}else{switch(a&&(this.viewMode=Math.max(this.startView,Math.min(this.endView,this.viewMode+a))),this.picker.children("div").hide().filter(".datetimepicker-"+d.modes[this.viewMode].clsName).show(),this.viewMode){case 0:this.updateDays();break;case 1:this.updateMonths();break;case 2:this.updateYears()}this.updateNavArrows()}},fillDow:function(){var a=this.options.weekStart,c='<tr class="week">';for(this.options.calendarWeeks&&(this.picker.find(".datetimepicker-days .datetimepicker-switch").attr("colspan",function(a,b){return parseInt(b)+1}),c+='<th class="cw">&#160;</th>');a<this.options.weekStart+7;)c+='<th class="dow">'+b.daysMin[a++%7]+"</th>";c+="</tr>",this.picker.find(".datetimepicker-days thead").append(c),"datetime"===this.options.viewType?this.picker.find(".datetimepicker-days tfoot").append('<tr><th colspan="7">'+fish.compile(d.timeTemplate)({now:b.now,ok:b.ok,invisible:!1===this.options.nowBtn})+"</th></tr>"):this.picker.find(".datetimepicker-days tfoot").append(d.todayTemplate)},getClassNames:function(b){var d=[],e=this.viewDate.getFullYear(),f=this.viewDate.getMonth(),g=new Date;return b.getFullYear()<e||b.getFullYear()===e&&b.getMonth()<f?d.push("old"):(b.getFullYear()>e||b.getFullYear()===e&&b.getMonth()>f)&&d.push("new"),this.options.todayHighlight&&b.getFullYear()===g.getFullYear()&&b.getMonth()===g.getMonth()&&b.getDate()===g.getDate()&&d.push("today"),this.date&&a(this.date,b)&&d.push("active"),(c.getEndOfDay(b).valueOf()<this.options.startDate||c.getStartOfDay(b).valueOf()>this.options.endDate||-1!==_.indexOf(this.options.daysOfWeekDisabled,b.getDay()))&&d.push("disabled"),-1!==_.indexOf(this.options.daysOfWeekHighlighted,b.getDay())&&d.push("highlighted"),this.options.datesDisabled.length>0&&_.find(this.options.datesDisabled,function(c){return a(b,c)})&&d.push("disabled","disabled-date"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&d.push("range"),-1!==_.indexOf(this.range,b.valueOf())&&d.push("selected")),d},updateYears:function(){var a=new Date(this.viewDate),b=a.getFullYear(),c=this.options.startDate!==-Infinity?this.options.startDate.getFullYear():-Infinity,d=this.options.endDate!==Infinity?this.options.endDate.getFullYear():Infinity,e="";b=10*parseInt(b/10,10);var f=this.picker.find(".datetimepicker-years").find(".datetimepicker-switch").text(b+"-"+(b+9)).end().find("td");b-=1;for(var g,h=this.date&&this.date.getFullYear(),i=-1;i<11;i++)g=["year"],-1===i?g.push("old"):10===i&&g.push("new"),b===h&&g.push("active"),(b<c||b>d)&&g.push("disabled"),e+='<span class="'+g.join(" ")+'">'+b+"</span>",b+=1;f.html(e)},updateMonths:function(){var a=new Date(this.viewDate),b=a.getFullYear(),c=this.options.startDate!==-Infinity?this.options.startDate.getFullYear():-Infinity,d=this.options.startDate!==-Infinity?this.options.startDate.getMonth():-Infinity,e=this.options.endDate!==Infinity?this.options.endDate.getFullYear():Infinity,f=this.options.endDate!==Infinity?this.options.endDate.getMonth():Infinity,g=this.picker.find(".datetimepicker-months").find(".datetimepicker-switch").text(b).end().find("span").removeClass("disabled").removeClass("active");this.date&&this.date.getFullYear()===b&&g.eq(this.date.getMonth()).addClass("active"),(b<c||b>e)&&g.addClass("disabled"),b===c&&g.slice(0,d).addClass("disabled"),b===e&&g.slice(f+1).addClass("disabled")},updateDays:function(){var a,e,f,g=new Date(this.viewDate),h=g.getFullYear(),i=g.getMonth(),j=b.today;if(!isNaN(h)&&!isNaN(i)){var k=fish.config.get("dateDisplayFormat.month")||d.viewType.month.format;this.picker.find(".datetimepicker-days thead .datetimepicker-switch").text(c.format(new Date(h,i),k)),this.picker.find("tfoot .today").text(j).toggle(!1!==this.options.todayBtn);var l=new Date(h,i-1,28),m=c.getDaysInMonth(l.getFullYear(),l.getMonth());l.setDate(m),l.setDate(m-(l.getDay()-this.options.weekStart+7)%7);var n=new Date(l);n.setDate(n.getDate()+42),n=n.valueOf();for(var o,p=[];l.valueOf()<n;){if(l.getDay()===this.options.weekStart&&(p.push("<tr>"),this.options.calendarWeeks)){var q=new Date(+l+(this.options.weekStart-l.getDay()-7)%7*864e5),r=new Date(Number(q)+(11-q.getDay())%7*864e5),s=new Date(Number(s=new Date(r.getFullYear(),0,1))+(11-s.getDay())%7*864e5),t=(r-s)/864e5/7+1;p.push('<td class="cw">'+t+"</td>")}o=this.getClassNames(l),o.push("day"),o=_.unique(o),p.push('<td class="'+o.join(" ")+'">'+l.getDate()+"</td>"),l.getDay()===this.options.weekEnd&&p.push("</tr>"),l.setDate(l.getDate()+1)}this.picker.find(".datetimepicker-days tbody").empty().append(p.join("")),"datetime"===this.options.viewType&&(a=g.getHours(),a<10&&(a="0"+a),e=g.getMinutes(),e<10&&(e="0"+e),f=g.getSeconds(),f<10&&(f="0"+f),this.picker.find(".datetimepicker-days .label-hours").text(a),this.picker.find(".datetimepicker-days .label-minutes").text(e),this.picker.find(".datetimepicker-days .label-seconds").text(f)),(new Date<this.options.startDate||new Date>this.options.endDate)&&this.picker.find(".datetimepicker-now").addClass("disabled")}},updateHours:function(){var a,d,e=new Date(this.viewDate),f=e.getHours(),h="",i=0,j=0,k=23;for(c.getStartOfDay(e).valueOf()===c.getStartOfDay(new Date(this.options.startDate)).valueOf()&&(j=this.options.startDate.getHours()),c.getStartOfDay(e).valueOf()===c.getStartOfDay(new Date(this.options.endDate)).valueOf()&&(k=this.options.endDate.getHours()),d=$(g({title:b.chooseHour}));i<24;i++)a=["hour"],i===f&&a.push("active"),(i<j||i>k)&&a.push("disabled"),h+='<span class="'+a.join(" ")+'">'+i+"</span>";d.find("td").append(h),this.picker.append(d),this.picker.children("div").hide().filter(".datetimepicker-times").show()},updateMinutes:function(){var a,c,d=new Date(this.viewDate),e=d.getMinutes(),f="",h=0,i=this.options.minuteStep;for(c=$(g({title:b.chooseMinute}));h<60;h+=i)a=["minute"],h===e&&a.push("active"),f+='<span class="'+a.join(" ")+'">'+h+"</span>";c.find("td").append(f),this.picker.append(c),this.picker.children("div").hide().filter(".datetimepicker-times").show()},updateSeconds:function(){var a,c,d=new Date(this.viewDate),e=d.getSeconds(),f="",h=0,i=this.options.secondStep;for(c=$(g({title:b.chooseSecond}));h<60;h+=i)a=["second"],h===e&&a.push("active"),f+='<span class="'+a.join(" ")+'">'+h+"</span>";c.find("td").append(f),this.picker.append(c),this.picker.children("div").hide().filter(".datetimepicker-times").show()},show:function(){if(this._allow_show_update)switch(this.viewDate=this.date||("start"===this.options.defaultTime?c.getStartOfDay(new Date):new Date),this.viewMode){case 0:this.updateDays();break;case 1:this.updateMonths();break;case 2:this.updateYears()}return this.isInline||this.picker.appendTo(this.options.container),this.place(),this.picker.show(),this.picker.attr("aria-hidden",!1),this._attachSecondaryEvents(),this._trigger("show",null,{date:this.date}),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this._detachSecondaryEvents(),this.picker.find(".datetimepicker-times").remove(),this.picker.hide().detach(),this.viewMode=this.startView,this._allow_show_update=!0,this.showMode(),this.isInput&&this.element.val()&&this.setValue(),this.triggerHide&&(this.picker.attr("aria-hidden",!0),this._trigger("hide",null,{date:this.date}),this.triggerHide=!0,this.element.blur()),this):this},setValue:function(){var a=this.getFormattedDate();return this.element.val(a),this},getFormattedDate:function(a){return a===undefined&&(a=this.options.format),c.format(this.date,a)},clearDate:function(){this.value("")},clearSelectState:function(){this.showSelect&&this.selectOpt.find(".selected").removeClass("selected active")},setDate:function(a){return this.update(a),this},setStartDate:function(a){return this.options.startDate=c.parse(a,this.parseFormat),this.options.startDate=this.options.startDate||-Infinity,this.update(),this.updateNavArrows(),this},setEndDate:function(a){return this.options.endDate=c.parse(a,this.parseFormat),this.options.endDate=this.options.endDate||Infinity,this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(a){return _.isArray(a)||(a=a.split(/[,\s]*/)),a=_.map(a,function(a){return parseInt(a,10)}),this.options.daysOfWeekDisabled=a,this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(a){return _.isArray(a)||(a=a.split(/[,\s]*/)),a=_.map(a,function(a){return parseInt(a,10)}),this.options.daysOfWeekHighlighted=a,this.update(),this},setDatesDisabled:function(a){var b=fish.config.get("dateParseFormat").date;_.isArray(a)?this.options.datesDisabled=_.map(a,function(a){return c.parse(a,b)}):this.options.datesDisabled.push(c.parse(a,b)),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var a=this.picker.outerWidth(),b=this.picker.outerHeight(),c=$(this.options.container),d=c.width(),e=c.height(),f=c.scrollTop(),g=c.offset(),h=[];this.element.parents().each(function(){var a=$(this).css("z-index");"auto"!==a&&0!==a&&h.push(parseInt(a))});var i=Math.max.apply(Math,h)+this.options.zIndexOffset,j=this.component?this.component.parent().offset():this.element.offset(),k=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.parent().outerWidth(!0):this.element.outerWidth(!1),m=j.left-g.left,n=j.top-g.top;this.picker.removeClass("datetimepicker-orient-top datetimepicker-orient-bottom datetimepicker-orient-right datetimepicker-orient-left"),"auto"!==this.options.orientation.x?(this.picker.addClass("datetimepicker-orient-"+this.options.orientation.x),"right"===this.options.orientation.x&&(m-=a-l)):j.left<0?(this.picker.addClass("datetimepicker-orient-left"),m-=j.left-10):m+a>d?(this.picker.addClass("datetimepicker-orient-right"),m=j.left+l-a):this.picker.addClass("datetimepicker-orient-left");var o,p,q=this.options.orientation.y;if("auto"===q&&(o=-f+n-b,p=f+e-(n+k+b),q=Math.max(o,p)===p?"bottom":"top"),this.picker.addClass("datetimepicker-orient-"+q),"top"===q?n-=b+parseInt(this.picker.css("padding-top")):n+=k,this.options.rtl){var r=d-(m+l);this.picker.css({top:n,right:r,zIndex:i})}else this.picker.css({top:n,left:m,zIndex:i});return this},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getFullYear(),c=a.getMonth();switch(this.viewMode){case 0:this.options.startDate!==-Infinity&&b<=this.options.startDate.getFullYear()&&c<=this.options.startDate.getMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.options.endDate!==Infinity&&b>=this.options.endDate.getFullYear()&&c>=this.options.endDate.getMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.options.startDate!==-Infinity&&b<=this.options.startDate.getFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.options.endDate!==Infinity&&b>=this.options.endDate.getFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(a){a.preventDefault(),a.stopPropagation();var b=$(a.target).closest("span, td, th, a");if(1===b.length)switch(this._allow_show_update=!1,b[0].nodeName.toLowerCase()){case"th":this._thClick(b);break;case"span":this._spanClick(b);break;case"td":this.enablePagePoint=!0,this._tdClick(b);break;case"a":b.hasClass("datetimepicker-now")?(this.enablePagePoint=!0,this._setDate(new Date),$(".datetimepicker-days").find(".active").removeClass("active"),$(".datetimepicker-days").find(".today").addClass("active")):b.hasClass("js-btn-ok")&&(this.enablePagePoint=!0,this.setDate(this.viewDate),this.hide())}$(a.currentTarget).is(":visible")&&this._focused_from&&$(this._focused_from).focus(),delete this._focused_from},_thClick:function(a){switch(a[0].className){case"datetimepicker-switch":this.showMode(1);break;case"prev":case"next":var b=d.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=c.addMonths(this.viewDate,b),this.showMode(),this._trigger("changeMonth",null,{date:this.viewDate});break;case 1:case 2:this.viewDate=c.addYears(this.viewDate,b),this.showMode(),1===this.viewMode&&this._trigger("changeYear",null,{date:this.viewDate})}break;case"today":var e=c.getStartOfDay(new Date),f=this.options.todayBtn?null:"view";this._setDate(e,f)}},_spanClick:function(a){var b,d,e,f,g;if(!a.hasClass("disabled"))if(a.hasClass("month")){d=a.parent().find("span").index(a);var h=c.getDaysInMonth(this.viewDate.getFullYear(),d),i=Math.min(this.viewDate.getDate(),h);this.viewDate.setMonth(d,i),"month"===this.options.viewType?this._setDate(new Date(this.viewDate.getFullYear(),d)):this.showMode(-1),this._trigger("changeMonth",null,{date:this.viewDate})}else a.hasClass("year")?(b=parseInt(a.text(),10)||0,this.viewDate.setFullYear(b),"year"===this.options.viewType?this._setDate(this.viewDate):this.showMode(-1),this._trigger("changeYear",null,{date:this.viewDate})):a.hasClass("label")?a.hasClass("label-hours")?this.updateHours():a.hasClass("label-minutes")?this.updateMinutes():this.updateSeconds():(a.hasClass("hour")?(e=parseInt(a.text(),10)||0,this.viewDate.setHours(e),this._trigger("changeHour",null,{date:this.viewDate}),this.picker.find(".datetimepicker-times").remove(),this.viewMode=0):a.hasClass("minute")?(f=parseInt(a.text(),10)||0,this.viewDate.setMinutes(f),this._trigger("changeMinute",null,{date:this.viewDate}),this.picker.find(".datetimepicker-times").remove(),this.viewMode=0):a.hasClass("second")&&(g=parseInt(a.text(),10)||0,this.viewDate.setSeconds(g),this._trigger("changeSecond",null,{date:this.viewDate}),this.picker.find(".datetimepicker-times").remove(),this.viewMode=0),this.showMode())},_tdClick:function(a){var b,c,d,e,f,g;a.hasClass("day")&&!a.hasClass("disabled")&&(d=parseInt(a.text(),10)||1,b=this.viewDate.getFullYear(),c=this.viewDate.getMonth(),a.hasClass("old")?0===c?(c=11,b-=1):c-=1:a.hasClass("new")&&(11===c?(c=0,b+=1):c+=1),"datetime"===this.options.viewType?(e=parseInt(this.picker.find(".datetimepicker-days .label-hours").text(),10),f=parseInt(this.picker.find(".datetimepicker-days .label-minutes").text(),10),g=parseInt(this.picker.find(".datetimepicker-days .label-seconds").text(),10),this._setDate(new Date(b,c,d,e,f,g))):this._setDate(new Date(b,c,d)))},_setDate:function(a,b){var d=this.date instanceof Date?new Date(this.date):undefined,e=c.parse(a,this.parseFormat);e=this._validateDate(e),b&&"date"!==b||(this.date=new Date(e)),b&&"view"!==b||(this.viewDate=e&&new Date(e)),this.showMode(),this.setValue(),b&&"view"===b||(this._trigger("changeDate",null,{date:this.date}),this._triggerPagePoint(d,this.date)),!this.options.autoClose||b&&"date"!==b||this.hide()},_setSelectOpt:function(){var a=this;this.selectOpt.find("li").each(function(b,c){var d=b;a.showTimeSelect||(d=b+5);var e=a.createTimeValue(d);(e<a.options.startDate||e>a.options.endDate)&&($(c).hasClass("selected")&&$(c).removeClass("active selected"),$(c).addClass("disabled"))})},keydown:function(a){this.picker.is(":visible")||40!==a.keyCode&&27!==a.keyCode||this.show(),13===a.keyCode&&this.update()},_createIcon:function(){var a={direct:"right",iconname:this.options.buttonIcon};this.clearInput.clearinput("setIcon",a)},_createSelectOpt:function(){this.showTimeSelect=!1;var a=[],c=[]
;"datetime"===this.options.viewType&&(this.showTimeSelect=!0);for(var d=0;d<13;d++)d<5?a.push({text:b.selectItem[d],value:d}):c.push({text:b.selectItem[d],value:d});return $(e({showTimeSelect:this.showTimeSelect,datetimeOpt:a,dateOpt:c}))},_onFormReset:function(){this.update()},_onFormClear:function(){this.isInput&&this.element.val(""),this.date=null,this.viewDate=new Date,this.showMode()},_formSetValue:function(a){this.setDate(a)},_formGetValue:function(){return this.value()},_validateHandler:function(){var a=this;this._on({"datetimepicker:changedate":function(){a._getValidFlag()&&a.element.isValid()}})},_setOption:function(a,b){this._super(a,b),"disabled"===a&&this.element.attr("disabled",b)},value:function(a){if(a===undefined)return this.getFormattedDate(this.parseFormat);this.setDate(a)},_destroy:function(){this._detachSecondaryEvents(),this.element.data("ui-clearinput")&&this.element.clearinput("destroy"),this.showSelect&&(this.selectOpt.remove(),delete this.selectOpt),this.picker.remove(),delete this.picker},getDate:function(){return this.date},reset:function(a){if(this.options.disabled)return!1;this.clearDate()},showWidget:function(){this.element.show(),this.component&&this.component.show()},hideWidget:function(){this.hide(),this.component&&this.component.hide(),this.element.hide()}}),fish.addLangListener(function(){b=fish.getResource("datetimepicker")})}(),function(a){"function"==typeof define&&define.amd?define("fish.dialog",a):a()}(function(){$.widget("ui.dialog",{options:{autoOpen:!0,closeOnEscape:!0,canClose:!0,closeOnClickOverlay:!1,draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,width:"auto",modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=$(this).css(a).offset().top;b<0&&$(this).css("top",a.top-b)}},resizable:!1,show:null,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null,dialogClass:"",initValue:null,autoResizable:!1},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){0===this.element.parent().length&&this.element.appendTo("body");var a=this.options;this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalTitle=this.element.attr("title"),this.element.addClass(a.dialogClass),this.element.attr({tabIndex:-1,role:"dialog"}),this.element.find("[aria-describedby]").length||this.element.attr({"aria-describedby":this.element.uniqueId().attr("id")}),this.$header=this.element.find(".modal-header"),this.$body=this.element.find(".modal-body"),this.$footer=this.element.find(".modal-footer"),a.canClose&&(this.$close=$("<button type='button' class='close' tabindex='-1' role='button'><span aria-hidden='true'>&times;</span></button>"),this.$header.prepend(this.$close)),this.options.draggable&&$.fn.draggable&&this._makeDraggable(),this.options.resizable&&$.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._delegateEvent()},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){this.element.removeUniqueId().removeClass().addClass("ui-dialog").css(this.originalCss).removeAttr("aria-describedby"),this.options.canClose&&this.$close.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle)},_delegateEvent:function(){this._on(this.element,{keydown:function(a){if(this.options.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===$.ui.keyCode.ESCAPE)return a.preventDefault(),void this.close(a);if(a.keyCode===$.ui.keyCode.TAB&&!a.isDefaultPrevented()){var b=this.element.find(":tabbable"),c=b.filter(":first"),d=b.filter(":last");a.target!==d[0]&&a.target!==this.element[0]||a.shiftKey?a.target!==c[0]&&a.target!==this.element[0]||!a.shiftKey||(this._delay(function(){d.focus()}),a.preventDefault()):(this._delay(function(){c.focus()}),a.preventDefault())}}}),this._on(this.$header,{mousedown:function(a){$(a.target).closest(".close")||this.element.focus()}}),this.options.canClose&&this._on(this.$close,{click:function(a){a.preventDefault(),this.close(a)}});var a=this;this.options.autoResizable&&fish.onResize(function(){a._size(),a._position()})},disable:$.noop,enable:$.noop,close:function(a){var b,c=this;if(this._isOpen&&!1!==this._trigger("beforeClose",a)){if(this._isOpen=!1,this._focusedElement=null,fish.modalStack.openedWindows.remove(this.element),fish.modalStack.removeBackdrop(),!this.opener.filter(":focusable").focus().length)try{b=this.document[0].activeElement,b&&"body"!==b.nodeName.toLowerCase()&&$(b).blur()}catch(d){}this._hide(this.element,this.options.hide,function(){c._trigger("close",a)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){return fish.modalStack.bringToFront(this.element),!0},open:function(){var a=this;if(this._isOpen)return void(this._moveToTop()&&this._focusTabbable());this._isOpen=!0,this.opener=$(this.document[0].activeElement),this._size(),this._position(),fish.modalStack.openedWindows.add(this.element,{modal:this.options.modal}),fish.modalStack.addBackdrop(),fish.modalStack.openedWindows.top().value.$modalElement=this.element,this._moveToTop(null,!0),this._show(this.element,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._trigger("open")},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.$body.find(":tabbable")),a.length||(a=this.$footer.find(":tabbable")),!a.length&&this.options.canClose&&(a=this.$close.filter(":tabbable")),a.length||(a=this.element),a.eq(0).focus()},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}var b=this,c=this.options;this.element.draggable({cancel:".modal-body, .close",handle:".modal-header",containment:"document",start:function(c,d){$(this).addClass("ui-dialog-dragging"),b._blockFrames(),b._trigger("dragStart",c,a(d))},drag:function(c,d){b._trigger("drag",c,a(d))},stop:function(d,e){var f=e.offset.left-b.document.scrollLeft(),g=e.offset.top-b.document.scrollTop();c.position={my:"left top",at:"left"+(f>=0?"+":"")+f+" top"+(g>=0?"+":"")+g,of:b.window},$(this).removeClass("ui-dialog-dragging"),b._unblockFrames(),b._trigger("dragStop",d,a(e))}})},_makeResizable:function(){function a(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var b=this,c=this.options,d=c.resizable,e=this.element.css("position"),f="string"==typeof d?d:"n,e,s,w,se,sw,ne,nw";this.element.resizable({cancel:".modal-body",containment:"document",alsoResize:this.element.find(".modal-body"),maxWidth:c.maxWidth,maxHeight:c.maxHeight,minWidth:c.minWidth,minHeight:this._minHeight(),handles:f,start:function(c,d){$(this).addClass("ui-dialog-resizing"),b._blockFrames(),b._trigger("resizeStart",c,a(d))},resize:function(c,d){b._trigger("resize",c,a(d))},stop:function(d,e){var f=b.element.offset(),g=f.left-b.document.scrollLeft(),h=f.top-b.document.scrollTop();c.height=b.element.height(),c.width=b.element.width(),c.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:b.window},$(this).removeClass("ui-dialog-resizing"),b._unblockFrames(),b._trigger("resizeStop",d,a(e))}}).css("position",e)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(a){var b=this.element.is(":visible");b||this.element.show(),this.element.position(a||this.options.position),b||this.element.hide()},_setOptions:function(a){var b=this,c=!1,d={};$.each(a,function(a,e){b._setOption(a,e),a in b.sizeRelatedOptions&&(c=!0),a in b.resizableRelatedOptions&&(d[a]=e)}),c&&(this._size(),this._position()),this.element.is(":data(ui-resizable)")&&this.element.resizable("option",d)},_setOption:function(a,b){var c,d,e=this.element;switch(a){case"disabled":return;case"draggable":c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable();break;case"position":this._position(b);break;case"resizable":d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||!1===b||this._makeResizable()}this._super(a,b)},_size:function(){var a,b=this.options,c=this.element.is(":visible");if(this.element.show(),"auto"!==b.width&&(b.minWidth>b.width&&(b.width=b.minWidth),this.element.width(b.width)),this.$body.outerWidth(this.element.innerWidth()),"auto"===b.height)a=this.$body.css("height","auto").height(),this.$body.height(Math.max(a,b.minHeight));else{var d=Math.max(b.height,b.minHeight);this.element.height(d),this.$body.outerHeight(d-this.$header.outerHeight()-this.$footer.outerHeight())}c||this.element.hide(),this.element.is(":data(ui-resizable)")&&this.element.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=$(this);return $("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return!!$(a.target).closest(".ui-dialog").length||!!$(a.target).closest(".ui-datepicker").length},setReturnValue:function(a){this._trigger("change",null,a)},setTitle:function(a){this.$header.find(".modal-title").text(a)}})}),function(){"use strict";function a(a){if(!a||3!==a.which)for(var c,d,e=$.makeArray($(b)),f=0,g=e.length;f<g;f++)if(d=$(e[f]),c=d.dropdown("getParent"),c.hasClass("open")){if(a&&"click"==a.type&&/input|textarea/i.test(a.target.tagName)&&$.contains(c[0],a.target))return;d.dropdown("close")}}var b='[data-toggle="dropdown"]';$.widget("ui.dropdown",{options:{trigger:"click",target:null,container:null},_create:function(){var a;this.$parent=this.getParent(),this.dropdownMenu=this.$parent.find(".dropdown-menu"),this.options.container&&($(this.options.container).append(this.dropdownMenu),this.$parent.find(".dropdown-menu").detach()),"hover"===this.options.trigger?(a={mouseover:"_onMouseOver",mouseout:"_onMouseOut"},this._on(this.dropdownMenu,a)):a={click:"toggle"},this._on(a)},open:function(){this.$parent.addClass("open"),this.options.container&&(this.dropdownMenu.show(),this.dropdownMenu.position({my:"left top",at:"left bottom",of:this.$parent,collision:"fit flip"})),this._trigger("open")},close:function(){this.$parent.removeClass("open"),this.options.container&&this.dropdownMenu.hide(),this._trigger("close")},toggle:function(b){var c=this.$parent.hasClass("open");return a(b),c||this.open(),!1},getParent:function(){return this.options.target?(this.options.target instanceof $?this.options.target:$(this.options.target)).parent():this.element.parent()},_onMouseOver:function(a){clearTimeout(this.timer),this.open()},_onMouseOut:function(a){var b=this;this.timer=setTimeout(function(){b.close()},100)},_destroy:function(){this.dropdownMenu.removeAttr("style"),this.$parent.append(this.dropdownMenu)}}),$(document).on("click.dropdown.data-api",a).on("click.dropdown.data-api",b,function(a){return $(this).dropdown("toggle")})}(),function(){"use strict";var a={};a.fileapi=$("<input type='file'/>").get(0).files!==undefined,a.formdata=window.FormData!==undefined,$.widget("ui.form",{options:{showMask:!0,validate:2,trim:!1,skipNullField:!0,type:"post",url:"",dataType:"json",traditional:!0,target:"",clearForm:!1,resetForm:!1,beforeSubmit:$.noop,success:$.noop,enterKey:!1},_create:function(){this.options.initData=this.options.data;var a=this;this._on({submit:"_doAjaxSubmit",keydown:function(b){if(b.keyCode===$.ui.keyCode.ENTER){if($(b.target).is("textarea"))return;a.options.enterKey||b.preventDefault()}}}),$.fn.validator||(this.options.validate=0),1===this.options.validate&&this.element.validator()},_getCreateOptions:function(){var a={},b=this.element.attr("method");b&&(a.type=b);var c=this.element.attr("action");return c&&(a.url=c),a},_destroy:function(){0!==this.options.validate&&this.element.validator("destroy"),this._unbindEvent()},_unbindEvent:function(){this.element.unbind("submit.fish-form click.fish-form")},_doAjaxSubmit:function(a){a.isDefaultPrevented()||(a.preventDefault(),this.submitting||(this.submitting=!0,this.ajaxSubmit(a)))},ajaxSubmit:function(a){function b(){e.showMask&&0==fish._active++&&$.blockUI&&$.blockUI();var a=$.param(k,i);h&&(a=a?a+"&"+h:h),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+a,e.data=null):e.data=a;var b=[];e.resetForm&&b.push(function(){f.element[0].reset()}),e.clearForm&&b.push(function(){f.clear()}),e.success&&b.push(e.success);var d=$.extend(!0,{},e);d.success=function(a,c,d){for(var f=e.context||this,h=0,i=b.length;h<i;h++)b[h].apply(f,[a,c,d||g,g])};var l=e.error;d.error=function(a,b,c){var d=e.context||this;l&&l.apply(d,[a,b,c,g])};var m=e.complete;d.complete=function(a,b){var c=e.context||this;m&&m.apply(c,[a,b,g]),e.showMask&&0==--fish._active&&$.unblockUI&&$.unblockUI(),f.submitting=!1};var n=$.ajax(d);g.removeData("jqxhr").data("jqxhr",n);for(var o=0;o<j.length;o++)j[o]=null;e.url=c}var c,d,e=this.options,f=this,g=this.element;if("function"==typeof e?e={success:e}:e===undefined&&(e={}),c=e.url,d="string"==typeof c?$.trim(c):"",d=d||window.location.href||"",d&&(d=(d.match(/^([^#]+)/)||[])[1]),!1!==this._trigger("beforeSerialize")){var h,i=e.traditional||$.ajaxSettings.traditional,j=[],k=this.formToArray(j);if(e.initData&&(e.extraData=e.data,h=$.param(e.initData,i)),!1!==this._trigger("beforeSubmit",a,[k]))if(2===this.options.validate&&this.element.validator(),this.options.validate){var l=this.element.isValid();if(fish.isBoolean(l)){if(!l)return void(this.submitting=!1);b()}fish.isObject(l)&&_.isFunction(l.then)&&l.done(b).fail(function(){f.submitting=!1})}else b()}},_trim:function(a){return fish.isString(a)?$.trim(a):a},formToArray:function(b,c,d){var e,f=[];if(fish.isUndefined(d)&&(d=this.options.skipNullField),0===this.length)return f;var g=this.element[0],h=g.elements;if(!h||!h.length)return f;var i,j,k,l,m,n,o;for(i=0,n=h.length;i<n;i++)if(m=h[i],k=m.name){if(l=$.fieldValue(m,!0),this.options.trim&&(l=this._trim(l)),e=$.data(m,"formfield")){var p=e._formGetValue();(p||0===p||""===p)&&(l=p)}if(l&&l.constructor==Array)if(b&&b.push(m),c)for(j=0,o=l.length;j<o;j++)f.push({name:k,value:l[j]});else f.push({name:k,value:l});else if(a.fileapi&&"file"==m.type){b&&b.push(m);var q=m.files;if(q.length)for(j=0;j<q.length;j++)f.push({name:k,value:q[j],type:m.type});else f.push({name:k,value:"",type:m.type})}else(null!=l&&""!==l||!d)&&(b&&b.push(m),f.push({name:k,value:l,type:m.type,required:m.required}))}if(g.clk){var r=$(g.clk),s=r[0];k=s.name,k&&"image"==s.type&&(f.push({name:k,value:r.val()}),f.push({name:k+".x",value:g.clk_x},{name:k+".y",value:g.clk_y}))}return f},toObject:function(){return this._processNameValues(this.formToArray())},_processNameValues:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o={},p={};for(b=0;b<a.length;b++){for(f=a[b].value,m=a[b].name,n=m.split("."),g=[],h=o,i="",c=0;c<n.length;c++)if(l=n[c].split("]["),l.length>1)for(d=0;d<l.length;d++)if(0==d?l[d]=l[d]+"]":d==l.length-1?l[d]="["+l[d]:l[d]="["+l[d]+"]",k=l[d].match(/([a-z_]+)?\[([a-z_][a-z0-9_]+?)\]/i))for(e=1;e<k.length;e++)k[e]&&g.push(k[e]);else g.push(l[d]);else g=g.concat(l);for(c=0;c<g.length;c++)if(l=g[c],l.indexOf("[]")>-1&&c==g.length-1){if(j=l.substr(0,l.indexOf("[")),i+=j,h[j]||(h[j]=[]),null==f||""==f)continue;h[j].push(f)}else l.indexOf("[")>-1?(j=l.substr(0,l.indexOf("[")),k=l.replace(/(^([a-z_]+)?\[)|(\]$)/gi,""),i+="_"+j+"_"+k,p[i]||(p[i]={}),""==j||h[j]||(h[j]=[]),c==g.length-1?""==j?(h.push(f),p[i][k]=h[h.length-1]):(h[j].push(f),p[i][k]=h[j][h[j].length-1]):p[i][k]||(/^[0-9a-z_]+\[?/i.test(g[c+1])?h[j].push({}):h[j].push([]),p[i][k]=h[j][h[j].length-1]),h=p[i][k]):(i+=l,c<g.length-1?(h[l]||(h[l]={}),h=h[l]):h[l]=f)}return o},serialize:function(){return $.param(this.formToArray(null,!0))},value:function(a){if(!a)return this._getValue();this._setValue(a)},getValue:function(a){return this._getValue(a)},_getValue:function(a){for(var b,c,d=this.formToArray(undefined,undefined,a),e={},f=0;f<d.length;f++)if(b=d[f].name,c=d[f].value,e[b]===undefined)e[b]=c;else if($.isArray(e[b]))e[b].push(c);else{if(null===c||""===c)continue;if(null===e[b]||""===c)e[b]=c;else{var g=[e[b]];g.push(c),e[b]=g}}return e},_setValue:function(a){if("object"===$.type(a)){var b,c=this.element;for(var d in a){var e=c.find('[name="'+d+'"]'),f=a[d];if(e[0]){"checkbox"!==e[0].type&&"radio"!==e[0].type||e.hasClass("_formIngoreValue")||(f=$.isArray(f)?f:[].concat(f));try{c.find('[name="'+d+'"]:not(._formIngoreValue)').val(f)}catch(h){$.error("copy value to form field error,please check")}for(var g=0;g<e.length;g++)(b=$.data(e[g],"formfield"))&&b._formSetValue(f)}}this.element.triggerHandler("afterFormSetValue",{formData:a})}},clear:function(){this.element.each(function(){$("input[name],select[name],textarea[name]",this).clearFields(!0)}),this.element.triggerHandler("formClear")},disable:function(){for(var a=this.element,b=$("input[name],select[name],textarea[name]",a),c=0;c<b.length;c++)$(b[c]).attr("disabled",!0);a.triggerHandler("formDisable"),this.element.resetValid()},enable:function(){for(var a=this.element,b=$("input[name],select[name],textarea[name]",a),c=0;c<b.length;c++)$(b[c]).attr("disabled",!1);a.triggerHandler("formEnable")}}),$.fieldValue=function(a,b){var c=a.name,d=a.type,e=a.tagName.toLowerCase();if(b===undefined&&(b=!0),b&&(!c||"reset"==d||"button"==d||("checkbox"==d||"radio"==d)&&!a.checked||("submit"==d||"image"==d)&&a.form&&a.form.clk!=a||"select"==e&&-1==a.selectedIndex))return null;if("select"==e){var f=a.selectedIndex;if(f<0)return null;for(var g=[],h=a.options,i="select-one"==d,j=i?f+1:h.length,k=i?f:0;k<j;k++){var l=h[k];if(l.selected){var m=l.value;if(m||(m=l.attributes&&l.attributes.value&&!l.attributes.value.specified?l.text:l.value),i)return m;g.push(m)}}return g}return $(a).val()},$.fn.clearFields=function(){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week|hidden)$/i;return this.each(function(){var b=this.type,c=this.tagName.toLowerCase();if(!this.name)return!0;a.test(b)||"textarea"==c?this.value="":"checkbox"==b||"radio"==b?this.checked=!1:"select"==c?this.selectedIndex=-1:"file"==b&&(/MSIE/.test(navigator.userAgent)?$(this).replaceWith($(this).clone(!0)):$(this).val(""))})}}(),function(){var a=fish.compile('<li class="label-item"><span title="{{title}}" class="label-title">{{title}}</span>\n                        <button class="label-item-close" type="button"><span class="glyphicon glyphicon-remove"></span></button>\n                    </li>');$.widget("ui.label",{options:{closeable:!1,maxWidth:300,minWdith:100,appendTo:"body",title:"label",close:$.noop,beforeClose:$.noop},_create:function(){var b=this.options,c=$(a(b));$(b.appendTo).append(c),this._contentElement=c,this._delegateEvent()},_init:function(){},_delegateEvent:function(){var a=this;this._on(this._contentElement.find("button"),{click:function(b){a.close(b)}}),this._on(this._contentElement,{click:function(b){a._trigger("click",b)}})},_setOption:function(){},_destroy:function(){this._contentElement.remove()},close:function(a){!1!==this._trigger("beforeClose",a)&&(this.destroy(),this._trigger("close"))},setText:function(a){this._contentElement.find(".label-title").text(a).attr("title",a)}})}(),function(){$.widget("ui.menu",{defaultElement:"<ul>",delay:300,options:{icons:{submenu:"glyphicon glyphicon-triangle-right",firstmenu:"glyphicon glyphicon-triangle-bottom",top:"glyphicon glyphicon-triangle-top",bottom:"glyphicon glyphicon-triangle-bottom"},menus:"ul",position:{my:"left top-1",at:"right top",collision:"flipfit"},firstposition:{my:"left-1 top",at:"left bottom",collision:"flipfit"},role:"menu",disabled:!1,blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(a){var b=$(a.target).closest(".ui-menu-item");!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),b.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){if(!this.previousFilter){var b=$(a.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(a,b)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(a){this._delay(function(){$.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}}),this.setSubMenuPosition()},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=$(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".prev").remove(),this.element.find(".next").remove(),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider")},_keydown:function(a){var b,c,d,e,f=!0;switch(a.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(a);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case $.ui.keyCode.HOME:this._move("first","first",a);break;case $.ui.keyCode.END:this._move("last","last",a);break;case $.ui.keyCode.UP:this.previous(a);break;case $.ui.keyCode.DOWN:this.next(a);break;case $.ui.keyCode.LEFT:this.collapse(a);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(a);break;case $.ui.keyCode.ESCAPE:this.collapse(a);break;default:f=!1,c=this.previousFilter||"",d=String.fromCharCode(a.keyCode),e=!1,clearTimeout(this.filterTimer),d===c?e=!0:d=c+d,b=this._filterMenuItems(d),b=e&&-1!==b.index(this.active.next())?this.active.nextAll(".ui-menu-item"):b,b.length||(d=String.fromCharCode(a.keyCode),b=this._filterMenuItems(d)),b.length?(this.focus(a,b),this.previousFilter=d,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}f&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var a,b=this,c=this.options.icons,d=this.element.find(this.options.menus);d.addClass("ui-menu").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var a=$(this),d=a.prev("a"),e=b.element.hasClass("ui-menu-horizontal")&&b.element[0]==a.parent().parent()[0],f=$("<span>").addClass("ui-menu-icon "+(e?c.firstmenu:c.submenu)).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(f),a.attr("aria-labelledby",d.attr("id"))}),a=d.add(this.element),a.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),a.children(":not(.ui-menu-item)").each(function(){var a=$(this);b._isDivider(a)&&a.addClass("ui-menu-divider")}),a.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var b,c,d,e,f,g;this._hasScroll()&&(b=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,c=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,d=a.offset().top-this.activeMenu.offset().top-b-c,e=this.activeMenu.scrollTop(),f=this.activeMenu.height(),g=a.outerHeight(),d<0?this.activeMenu.scrollTop(e+d):d+g>f&&this.activeMenu.scrollTop(e+d-f+g))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(a){var b=this.element.hasClass("ui-menu-horizontal")&&this.element[0]==a.parent().parent()[0],c=$.extend({of:this.active},b?this.options.firstposition:this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true"),a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(a,b){clearTimeout(this.timer),this.timer=this._delay(function(){var c=b?this.element:$(a&&a.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element),this._close(c),this.blur(a),this.activeMenu=c},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return!$(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(a){var b,c,d;if(!this.active)return void this.next(a);this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=$(this),b.offset().top-c-d<0}),this.focus(a,b)):this.focus(a,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(a){var b,c,d;if(!this.active)return void this.next(a);this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=$(this),b.offset().top-c+d>0}),this.focus(a,b)):this.focus(a,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||$(a.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0),this._trigger("select",a,b),this._pagePoint({eventType:"select",value:b.item.find("a").text()})},_filterMenuItems:function(a){var b=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),c=new RegExp("^"+b,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return c.test($.trim($(this).children("a").text()))})},setSubMenuPosition:function(){this.element.find(".ui-menu").position({of:$(this.element),my:"left top",at:"left+"+this.element.css("width")+" top",collision:"fit"})}})}(),function(){"use strict";var a=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:_.escape(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;d<e;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){if("OPTION"===a.nodeName.toUpperCase())return""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:!0===c?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},a}();a.selectToArray=function(b){var c,d,e,f,g;for(d=new a,g=b.childNodes,e=0,f=g.length;e<f;e++)c=g[e],d.add_node(c);return d.parsed};var b=$.ui.keyCode;$.widget("ui.multiselect",$.ui.formfield,{options:{value:null,dataTextField:"name",dataValueField:"value",dataSource:[],placeholder:"",completeSearch:!1,containsSearch:!1,tabKey:!0,deleteKey:!0,maxLength:Infinity,inheritClasses:!1,displaySelectedOptions:!0,displayDisabledOptions:!0,optionTruncate:!0,groupSearch:!0,rowCount:1e4,displayMode:"multiple",dropdownContainer:'<div class="dropdown-list" role="listbox"><slot></slot></div>',disabledField:"disabled",disabledFunction:null},_create:function(){this._setDefaultValues(),this._setUpHtml(),this._delegateEvent(),this._newItems=[],this._super(),this.options.value&&this.value(this.options.value)},_setDefaultValues:function(){this.options.placeholder=this.options.placeholder||this.element.attr("data-placeholder"),this._active=!1,this._mouseOn=!1,this.results_showing=!1},_setUpHtml:function(){var a,b,c=this.options,d={};if(a=["ui-multiselect-container"],c.inheritClasses&&this.element[0].className&&a.push(this.element[0].className),b={"class":a.join(" "),title:this.element[0].title},fish.each(this.element[0].attributes,function(a){-1!==a.name.indexOf("aria")&&(d[a.name]=a.value)}),this.element[0].id&&(b.id=this.element[0].id.replace(/[^\w]/g,"_")+"_multi"),this._isMultiple()){
this.container=$('\n          <div>\n              <ul class="ui-multiselect-choices" role="listbox" aria-multiselectable="true">\n                  <li class="search-field">\n                      <input type="text" autocomplete="off" role="combobox" aria-label=""/>\n                  </li>\n              </ul>\n          </div>').attr(b),this.$ul=this.container.find(".ui-multiselect-choices").first(),this.$li=this.container.find("li.search-field").first();var e=this.options.dropdownContainer.replace("<slot></slot>",'<ul class="ui-multiselect-results"></ul>');this.$dropdownContainer=$(e).addClass("dropdown-list multiselect"),this.$input=this.container.find("input").first().val(c.placeholder).attr(d)}else this.container=$('<div><input type=\'text\' readonly autocomplete="off" class=\'ui-multiselect-inline\' role="combobox" aria-label=""/></div>').attr(b),this.selectRes=[],e=this.options.dropdownContainer.replace("<slot></slot>","<div class='multiselect-dropdown-input'>\n                             <input type='text' class=\"form-control multiselect-input-field\" placeholder=\"Search\" autocomplete=\"off\"/>\n                          </div>\n                          <ul class='ui-multiselect-results'></ul>"),this.$dropdownContainer=$(e).addClass("dropdown-list multiselect-dropdown"),this.$innerInput=this.$dropdownContainer.find(".multiselect-input-field").clearinput(),this.$input=this.container.find("input").first().attr("placeholder",c.placeholder).attr(d),this.$input.clearinput();this.$menu=this.$dropdownContainer.find(".ui-multiselect-results"),this.element.hide().after(this.container),c.dataSource&&c.dataSource.length&&this._setDataSource(c.dataSource),this._menuBuild(),this._setTabIndex(),this._setLabelBehavior()},_setOption:function(a,b){this._super(a,b),"dataSource"===a&&this._setDataSource(b),"disabled"===a&&(this.element.prop("disabled",b),this.search_field_disabled(),this.container.find(".close").prop("disabled",b))},_delegateEvent:function(){var a=this;this._on(this.container,{click:"_open",mouseenter:function(b){a._mouseOn=!0},mouseleave:function(b){a._mouseOn=!1}}),this._on(this.$dropdownContainer,{mouseup:"menuMouseup",mouseenter:function(b){a._mouseOn=!0},mouseleave:function(b){a._mouseOn=!1}});var c={keydown:"_keydown",cut:"_clipboard",paste:"_clipboard"};fish.browser.msie&&fish.browser.version<9||(c.input="_onInput"),this._isMultiple()?(c=fish.extend(c,{focus:function(b){a.container.addClass("ui-multiselect-container-active")},blur:"_blur"}),this._on(this.$input,c),this._on(this.$ul,{"click .close":function(b){if(b.preventDefault(),b.stopPropagation(),!a.is_disabled)return a._deleteMenu($(b.currentTarget))}})):(this._on(this.$input,{focus:function(b){a.container.addClass("ui-multiselect-container-active")},keydown:function(c){switch(c.keyCode){case b.DOWN:a.results_showing||a._open()}},blur:"_blur"}),this._on(this.container,{"click .form-clear-input":function(b){var c=this,d=this.element.val(),e=this.selectedItems().map(function(a){return a[c.options.dataTextField]});a.value(""),a.close(),b.stopPropagation(),b.preventDefault(),this._trigger("change",null,{deselected:d}),this._triggerPagePoint({eventType:"change",origValue:e,deselected:e})}}),this._on(this.$innerInput,c),this._on(this.$dropdownContainer,{"click .form-clear-input":function(b){a.$innerInput.val("").focus(),a._search(""),b.stopPropagation(),b.preventDefault()}}))},_validateHandler:function(){var a=this.element,b=this;this._on({"multiselect:blur":function(c){b._getValidFlag()&&a.isValid()}})},_blur:function(a){var b=this;if(!this._mouseOn&&!this.results_showing)return this._active=!1,_.delay(function(){b.$dropdownContainer.is(":visible")||(b.container.removeClass("ui-multiselect-container-active"),b._trigger("blur"))},100)},_tabHandler:function(a){var b=this,c=this._isMultiple()?this.$input.val():this.$innerInput.val(),d=this._isMultiple()?this.$input.data("name"):this.$innerInput.data("name"),e=a?c:d;if(e&&this.options.tabKey){a&&a.preventDefault();var f=!0;if($.each(this.results_data,function(a,c){if(c.text===e)return c.selected?b.close():(b.result_highlight=b.$menu.find(".active-result").first(),b._selectMenu()),f=!1}),!f)return;var g=$('<option value="'+c+'" selected="selected" aria-selected="true"></option>').text(e);this.element.append(g);var h={};h[this.options.dataValueField]=c,h[this.options.dataTextField]=e,this._newItems.push(h),fish.isEmpty(this.options.dataSource)||this.options.dataSource.push(h),this._trigger("createItem",null,h),this._update(),this.close()}},_buildMenuOption:function(a,b){var c,d,e,f;for(c="",f=a||this.results_data,d=0,e=f.length;d<e;d++)a=f[d],a.group?c+=this.result_add_group(a):c+=this.result_add_option(a),!0===b&&a.selected&&(this._isMultiple()?this._choiceBuild(a):(this.selectRes.push(a.text),this.$input.val(this.selectRes.join(",")).attr("title",this.selectRes.join(","))));return c},result_add_option:function(a){var b,c=document.createElement("li");return a.search_match&&this._isSelectOrDisabledMenu(a)?(b=[],a.disabled||a.selected||b.push("active-result"),a.disabled&&!a.selected&&b.push("disabled-result"),a.selected&&(this._isMultiple()?b.push("result-selected"):b.push("result-selected-single")),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,this.outerHTML(c)):""},result_add_group:function(a){var b;return(a.search_match||a.group_match)&&a.active_options>0?(b=document.createElement("li"),b.className="group-result",b.innerHTML=a.search_text,this.outerHTML(b)):""},_onFormReset:function(){this._update()},_onFormClear:function(){this._isMultiple()?this._update():this.value("")},_formSetValue:function(){this._update()},_update:function(){if(this._clearHighlightMenu(),this._menuBuild(),this.results_showing)return this.winnow_results()},_search:function(a){this.lastSelectedIndex=null,this.results_show(a)},winnow_results:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(f=0,h=a,h||(h=this._isMultiple()?this.$input.val():this.$innerInput.val()),b=h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),e=this.options.containsSearch?"":"^",d=new RegExp(e+b,"i"),k=new RegExp(b,"i"),n=this.results_data,o=[],l=0,m=n.length;l<m&&(c=n[l],c.search_match=!1,g=null,this._isSelectOrDisabledMenu(c)&&(c.group&&(c.group_match=!1,c.active_options=0),null!=c.group_array_index&&this.results_data[c.group_array_index]&&(g=this.results_data[c.group_array_index],0===g.active_options&&g.search_match&&(f+=1),g.active_options+=1),c.group&&!this.options.groupSearch||(c.search_text=c.group?c.label:c.html,c.search_match=this._searchMatch(c.search_text,d),c.search_match&&!c.group&&(f+=1,o.push(c)),c.search_match?(h.length&&(i=c.search_text.search(k),j=c.search_text.substr(0,i+h.length)+"</em>"+c.search_text.substr(i+h.length),c.search_text=j.substr(0,i)+"<em>"+j.substr(i)),null!=g&&(g.group_match=!0)):null!=c.group_array_index&&this.results_data[c.group_array_index].search_match&&(c.search_match=!0))),!(f>=this.options.rowCount));l++);return this._clearHighlightMenu(),f<1&&h.length?(this._updateMenu(""),this._trigger("noresult"),!1):(this._updateMenu(this._buildMenuOption(o)),this._isMultiple()&&this._highlightMenu(),!0)},_searchMatch:function(a,b){var c,d,e,f;if(b.test(a))return!0;if(!this.options.completeSearch&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;e<f;e++)if(c=d[e],b.test(c))return!0},_choicesCount:function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.element[0].options,b=0,c=d.length;b<c;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},_keydown:function(a){var c,d,e;switch(c=null!=(d=a.which)?d:a.keyCode,this._isMultiple()?(this._searchFieldScale(),e=this.$input.val(),8!==c&&this.pending_backstroke&&this.clear_backstroke()):e=this.$innerInput.val(),c){case b.BACKSPACE:if(!this._isMultiple())return this._search(e.slice(0,-1));if(!e&&this._choicesCount()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this._clearHighlightMenu(),this._search(e.slice(0,-1));break;case b.TAB:this._tabHandler(a);break;case b.ENTER:a.preventDefault(),this.results_showing&&(this._selectMenu(a),this._isMultiple()||this._highlightMenu());break;case b.ESCAPE:return this.results_showing&&(this._isMultiple()||(this._active=!1),this.results_hide()),!0;case b.UP:a.preventDefault(),this.keyup_arrow();break;case b.DOWN:a.preventDefault(),this.results_showing?this.keydown_arrow():this._open();break;default:return this._search(e+a.key)}},_onInput:function(){var a=this._isMultiple()?this.$input:this.$innerInput;this._search(a.val())},_clipboard:function(a){var b=this;return _.delay(function(){return b._search()},50)},_isSelectOrDisabledMenu:function(a){return!(!this.options.displaySelectedOptions&&a.selected)&&(!(!this.options.displayDisabledOptions&&a.disabled)&&!a.empty)},outerHTML:function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},_destroy:function(){$(this.container[0].ownerDocument).off("click.multiselect",$.proxy(this.isActive,this)),this.$input[0].tabIndex&&(this.element[0].tabIndex=this.$input[0].tabIndex),this.$dropdownContainer.remove(),this.container.remove(),this.element.show()},search_field_disabled:function(){this.is_disabled=this.element[0].disabled,this.is_disabled?(this.container.addClass("ui-multiselect-disabled"),this.$input.attr("aria-disabled","true"),this.$input[0].disabled=!0,this._active&&this.close()):(this.container.removeClass("ui-multiselect-disabled"),this.$input.attr("aria-disabled","false"),this.$input[0].disabled=!1)},_scrollableParents:function(){return this.element.parentsUntil("body").filter(function(a,b){return b.scrollHeight>b.clientHeight})},_open:function(a){if(!this.is_disabled&&(a&&"mousedown"===a.type&&!this.results_showing&&a.preventDefault(),null==a||!$(a.target).hasClass("close")))return this._active||(this._isMultiple()?this.$input.val(""):this.$innerInput.val(""),this._on($(document),{mousedown:"isActive"}),this._on($(window),{blur:"close"}),this._on(this._scrollableParents(),{scroll:$.proxy(function(){this._active&&this.close()},this)}),this.results_show()),this.open()},_close:function(a){if(this._off($(document)),this._off($(window)),this._off(this._scrollableParents(),"scroll"),this.results_hide(),this._setDefaultInput(),this._isMultiple())return this.clear_backstroke(),this._searchFieldScale()},close:function(){return this._active=!1,this.container.removeClass("ui-multiselect-container-active"),this._close()},open:function(){return this._active=!0,this.$input.val(this.$input.val()),this.container.addClass("ui-multiselect-container-active"),this.$input.focus()},isActive:function(a){var b=this.$dropdownContainer;return b.is(a.target)||$.contains(b[0],a.target)||$.contains(this.container[0],a.target)?this._active=!0:(this._trigger("blur"),this.close())},_menuBuild:function(){var b=this._isMultiple();return this.parsing=!0,this.selected_option_count=null,this.results_data=a.selectToArray(this.element[0]),b&&this.$ul.find("li.search-choice").remove(),this._updateMenu(this._buildMenuOption(null,!0)),this.search_field_disabled(),this._setDefaultInput(),b&&this._searchFieldScale(),this.parsing=!1},_doHighlightMenu:function(a){var b,c,d,e,f;if(a.length){if(this._clearHighlightMenu(),this.result_highlight=a,this.result_highlight.addClass("active"),d=parseInt(this.$menu.css("maxHeight"),10),f=this.$menu.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.$menu.scrollTop(),(b=c+this.result_highlight.outerHeight())>=e)return this.$menu.scrollTop(b-d>0?b-d:0);if(c<f)return this.$menu.scrollTop(c)}},_clearHighlightMenu:function(){return this.result_highlight&&this.result_highlight.removeClass("active"),this.result_highlight=null},results_show:function(a){var b=this;return!(this.options.maxLength<=this._choicesCount()&&(this._trigger("maxselected"),this._isMultiple()))&&(!this.winnow_results(a)&&this._isMultiple()?void this.results_hide():(this.results_showing||(this.$dropdownContainer.css("width",this.container.outerWidth()),$("body").append(this.$dropdownContainer)),this.$dropdownContainer.position({my:"left top",at:"left bottom",of:this.container,collision:"fit flip"}),this.results_showing=!0,this._isMultiple()?this.$input.focus():setTimeout(function(){b.$innerInput.focus()},0),void this._trigger("showingdropdown")))},_updateMenu:function(a){return this.$menu.html(a)},results_hide:function(){return this.results_showing&&(this._clearHighlightMenu(),this.$dropdownContainer.detach(),!this._isMultiple()&&this.$innerInput.val(""),this._trigger("hidingdropdown")),this.results_showing=!1},_setTabIndex:function(a){var b;if(this.element[0].tabIndex)return b=this.element[0].tabIndex,this.element[0].tabIndex=-1,this.$input[0].tabIndex=b},_setLabelBehavior:function(){var a=this;if(this.fieldLabel=this.element.parents("label"),!this.fieldLabel.length&&this.element[0].id.length&&(this.fieldLabel=$("label[for='"+this.element[0].id+"']")),this.fieldLabel.length>0)return this.fieldLabel.on("click.multiselect",function(b){return a._open(b)})},_setDefaultInput:function(){if(!this._isMultiple()&&this.$innerInput.val(""),this._choicesCount()<1&&!this._active){this.$input.removeAttr("title");var a=this._isMultiple()?this.options.placeholder:"";this.$input.val(a)}else this._isMultiple()&&this.$input.val("")},menuMouseup:function(a){var b;if(b=$(a.target).hasClass("active-result")?$(a.target):$(a.target).parents(".active-result").first(),b.length)return this.result_highlight=b,this._selectMenu(a),void(this._isMultiple()&&this.$input.focus());if(b=$(a.target).hasClass("result-selected-single")?$(a.target):$(a.target).parents(".result-selected-single").first(),b.length){b.removeClass("result-selected-single").addClass("active-result"),this.result_highlight=null;var c=b[0].getAttribute("data-option-array-index");this._deselectMenu(c)}},_choiceBuild:function(a){var b,c,d,e="<span>"+a.html+"</span>";this.options.optionTruncate&&(e="<span class='overflow-ellipsis'>"+a.html+"</span>"),b=$("<li/>",{"class":"search-choice",role:"option"}).html(e),this.options.dataSource[a.options_index]&&(d=this.options.dataSource[a.options_index].title),d=d||fish.unescape(a.html),b.find("span").attr("title",d),a.disabled?b.addClass("search-choice-disabled"):(c=$('<button class="close" type="button"><span title="close">&times;</span></button>'),c.data("option-array-index",a.array_index),b.append(c)),this.$li.before(b)},_deleteMenu:function(a){this._deselectMenu(a.data("option-array-index"))&&(this._setDefaultInput(),this._choicesCount()>0&&this.$input.val().length<1&&this.close(),a.parents("li").first().remove(),this._searchFieldScale())},_selectMenu:function(a){var b,c,d=this;if(this.result_highlight){var e=this.selectedItems().map(function(a){return a[d.options.dataTextField]});if(b=this.result_highlight,this.lastSelectedIndex=this.$menu.find("li").index(b),this._clearHighlightMenu(),this.options.maxLength<=this._choicesCount())return this._trigger("maxselected"),!1;if(b.removeClass("active-result"),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.element[0].options[c.options_index].selected=!0,this.selected_option_count=null,this._isMultiple()){this._choiceBuild(c),this.$input.val(""),this._searchFieldScale(),this.winnow_results();var f=this.$input.attr("aria-label")+" "+c.text;this.$input.attr("aria-label",f)}else{b.addClass("result-selected-single"),this.selectRes.push(c.text);var g=this.selectRes.join(",");this.$input.val(g).attr("title",g)}this._trigger("change",a,{selected:this.element[0].options[c.options_index].value}),this._triggerPagePoint({eventType:"change",origValue:e,selected:this.element[0].options[c.options_index].text})}},_triggerPagePoint:function(a){var b=this;a.value=this.selectedItems().map(function(a){return a[b.options.dataTextField]}),this._pagePoint(a)},_deselectMenu:function(a){var b=this,c=fish.findIndex(this.results_data,{options_index:parseInt(a,10)}),d=this.results_data[c];if(this.element[0].options[c].disabled)return!1;var e=this.selectedItems().map(function(a){return a[b.options.dataTextField]});d.selected=!1,this.element[0].options[c].selected=!1,this.selected_option_count=null,this._clearHighlightMenu(),this._trigger("change",null,{deselected:this.element[0].options[c].value}),this._triggerPagePoint({eventType:"change",origValue:e,deselected:this.element[0].options[c].text});var f={};return f[this.options.dataValueField]=d.value,f[this.options.dataTextField]=d.text,this._isMultiple()?(this._searchFieldScale(),this.results_showing&&this.winnow_results(),this.isNew(f)&&(this.results_data.splice(c,1),this.element.find("option").eq(c).remove())):(this.selectRes=fish.filter(this.selectRes,function(a){if(a!==d.text)return a}),this.$input.val(this.selectRes.join(","))),!0},_highlightMenu:function(){var a,b=this.$menu.find("li").eq(this.lastSelectedIndex).nextAll("li.active-result");if(null!=(a=this.lastSelectedIndex&&b.length>0?b.first():this.$menu.find(".active-result").first()))return this._doHighlightMenu(a)},keydown_arrow:function(){var a;if(this.result_highlight){if(!this.results_showing)return this.results_show();if(a=this.result_highlight.nextAll("li.active-result").first())return this._doHighlightMenu(a)}else!this._isMultiple()&&this._doHighlightMenu(this.$menu.find("li.active-result").first())},keyup_arrow:function(){var a;if(this.result_highlight)return a=this.result_highlight.prevAll("li.active-result"),a.length?this._doHighlightMenu(a.first()):(this._choicesCount()>0&&this.results_hide(),this._clearHighlightMenu());!this._isMultiple()&&this._doHighlightMenu(this.$menu.find("li.active-result").first())},keydown_backstroke:function(){var a;return this.pending_backstroke?(this._deleteMenu(this.pending_backstroke.find("button")),this.clear_backstroke()):(a=this.$li.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.options.deleteKey?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},clear_backstroke:function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},_searchFieldScale:function(){var a,b,c,d,e,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],h=0;for(b=0,e=g.length;b<e;b++)a=g[b],f+=a+":"+this.$input.css(a)+";";return c=$("<div />",{style:f}),c.text(this.$input.val()),$("body").append(c),h=c.width()+25,c.remove(),d=this.container.outerWidth(),h>d-10&&(h=d-10),this.$input.css({width:h+"px"})},_isMultiple:function(){return"multiple"===this.options.displayMode},refresh:function(){this._update()},value:function(a){var b=this;switch($.type(a)){case"undefined":return 0===this.selectedItems().length?null:this.selectedItems().map(function(a){return a[b.options.dataValueField]});case"array":!this._isMultiple()&&(this.selectRes=[]),this.element.val(a),this._update();break;default:!this._isMultiple()&&(this.selectRes=[]),a=null==a||0===a.length?[]:[a],this.element.val(a),this._update()}},isNew:function(a){var b=this.options;return fish.findIndex(this._newItems,function(c){return c[b.dataValueField]==a[b.dataValueField]&&c[b.dataTextField]==a[b.dataTextField]})>-1},selectedItems:function(){var a,b=[],c=this.options;return $.each(this.results_data,function(d,e){e.selected&&(a={},fish.isEmpty(c.dataSource)?(a[c.dataValueField]=e.value,a[c.dataTextField]=e.text):a=c.dataSource[e.options_index],b.push(a))}),b},_formGetValue:function(){return this.value()},_setDataSource:function(a,b,c){var d=this;if(b=b||this.options.dataValueField,c=c||this.options.dataTextField,this._isMultiple()||(this.selectRes=[]),"array"===$.type(a)){var e="";$.each(a,function(a,f){var g=!1;fish.isFunction(d.options.disabledFunction)?g=d.options.disabledFunction.call(d,f):!0===f[d.options.disabledField]&&(g=!0),e+='<option role="option" value="'+f[b]+'"'+(g?' disabled="disabled" ':"")+">"+fish.escape(f[c])+"</option>"}),this.element.empty().html(e),this._update()}},droplistOn:function(a,b){var c={};c[a]=b,this._on(this.$dropdownContainer,c)},append:function(a){var b=this.options.dataValueField,c=this.options.dataTextField;fish.isEmpty(a)||(this._isMultiple()?(this.$input.val(a[b]),this.$input.data("name",a[c])):(this.$innerInput.val(a[b]),this.$innerInput.data("name",a[c])),this._tabHandler())},hideWidget:function(){this.results_hide(),this.element.parent().hide()},showWidget:function(){this.element.parent().show()}})}(),function(){"use strict";$.widget("ui.pagination",{options:{records:0,total:"",start:1,displayNum:5,first:'<i class="glyphicon glyphicon-step-backward"></i>',prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',last:'<i class="glyphicon glyphicon-step-forward"></i>',pgtext:null,recordtext:null,rowtext:"",rowList:[10,20,30],rowNum:10,gotext:null,onPageClick:null,pgRecText:!0,pgButton:!0,pgNumber:!0,pgInput:!0,pgTotal:!0,pgMultipleTurn:!0,pgSingleTurn:!0},_create:function(){if($.extend(this.options,{paginationClass:"pagination",pgtextClass:"pgtext",pgrectextClass:"pgtext",rowtextClass:"rowtext",gotextClass:"gotext",activeClass:"active",disabledClass:"disabled"}),$.isArray(this.options.rowList)&&0!==this.options.rowList.length||(this.options.rowtext=null),this.options.start<1||this.options.start>this.options.totalPages)throw new Error("Start page option is incorrect");if(!fish.isNaN(parseInt(this.options.total))&&parseInt(this.options.total)>0?this.options.totalPages=parseInt(this.options.total):this.options.totalPages=Math.ceil(parseInt(this.options.records)/parseInt(this.options.rowNum)),fish.isNaN(this.options.totalPages)||this.options.totalPages<0)throw new Error("Total pages option is not correct!");if(this.options.displayNum=parseInt(this.options.displayNum),fish.isNaN(this.options.displayNum))throw new Error("Visible pages option is not correct!");this.$listContainer=$("<ul></ul>"),this.$listContainer.addClass(this.options.paginationClass),this.element.append(this.$listContainer),this._render(this._getPages(this.options.start)),this._setupEvents(),this.$addContainer=$("<ul></ul>"),this.$addContainer.addClass(this.options.paginationClass),this.element.append(this.$addContainer),this._addrender(),this._setupAddEvents()},_destroy:function(){this.element.children().remove()},_format:function(a){var b=$.makeArray(arguments).slice(1);return null==a&&(a=""),a.replace(/{(\d+)}/g,function(a,c){return b[c]})},_show:function(a){return!fish.isNaN(parseInt(this.options.total))&&parseInt(this.options.total)>0?this.options.totalPages=parseInt(this.options.total):this.options.totalPages=Math.ceil(parseInt(this.options.records)/parseInt(this.options.rowNum)),this.$listContainer.children().remove(),this._render(this._getPages(a)),this},_getPages:function(a){var b;b=this.options.totalPages<this.options.displayNum?this.options.totalPages:this.options.displayNum;var c=[],d=Math.floor(b/2),e=a-d+1-b%2,f=a+d;e<=0&&(e=1,f=b),f>this.options.totalPages&&(e=this.options.totalPages-b+1<=0?1:this.options.totalPages-b+1,f=this.options.totalPages);for(var g=e;g<=f;)c.push(g),g++;var h;h=a>1?parseInt(a,10)-1:1;var i;return i=a<this.options.totalPages?parseInt(a,10)+1:this.options.totalPages,{currentPage:a,prevPage:h,nextPage:i,numeric:c,totalPages:this.options.totalPages,records:this.options.records}},_render:function(a){var b=this;b.$listContainer.children().remove();var c=1;c=(parseInt(a.currentPage)-1)*parseInt(b.options.rowNum)+1;var d=b.options.rowNum;0===a.records&&0===a.totalPages&&(a.currentPage=0,this.options.totalPages=0),d=a.currentPage===a.totalPages?parseInt(b.options.records):c+parseInt(b.options.rowNum)-1,c>d&&(c=d),Handlebars.registerHelper("totalpage",function(){var c=b._format(b.options.pgtext||fish.getResource("pagination.pgtext"),a.currentPage,a.totalPages);return'<li class="'+b.options.pgtextClass+'"><span>'+c+"</span></li>"}),Handlebars.registerHelper("recordtextpage",function(){var e=b._format(b.options.recordtext||fish.getResource("pagination.recordtext"),c,d,a.records);return'<li class="'+b.options.pgrectextClass+'"><span>'+e+"</span></li>"}),0===this.options.totalPages?this.$listContainer.append(fish.compile("\n        {{#if pages}}\n            {{#if pgTotal}}\n                {{#totalpage}}\n                {{/totalpage}}\n            {{/if}}\n            {{#if pgRecText}}\n                {{#recordtextpage}}\n                {{/recordtextpage}}\n            {{/if}}\n        {{/if}}")({pages:a,pgTotal:this.options.pgTotal,pgRecText:this.options.pgRecText})):this.$listContainer.append(fish.compile('\n        {{#if pages}}\n            {{#if pgButton}}\n                {{#if pgMultipleTurn}}\n                <li class="first" data-page=1 data-page-type="first">\n                    <a href="javascript:;">{{{first}}}</a>\n                </li>\n                {{/if}}\n                {{#if pgSingleTurn}}\n                <li class="prev" data-page={{pages.prevPage}} data-page-type="prev">\n                    <a href="javascript:;">{{{prev}}}</a>\n                </li>\n               {{/if}}\n                {{#if pgNumber}}\n                {{#each pages.numeric}}\n                    <li class="page hidden-xs hidden-sm" data-page={{this}} data-page-type="page">\n                        {{#ifCond this ">" 9999}} \n                            <a href="javascript:;"  class="ellipsis" title={{this}}>{{this}}</a>\n                        {{else}}\n                            <a href="javascript:;">{{this}}</a>\n                        {{/ifCond}}\n                    </li>\n                {{/each}}\n                {{/if}}\n                {{#if pgSingleTurn}}\n                <li class="next" data-page={{pages.nextPage}} data-page-type="next">\n                    <a href="javascript:;">{{{next}}}</a>\n                </li>\n                {{/if}}\n                {{#if pgMultipleTurn}}\n                <li class="last" data-page={{pages.totalPages}} data-page-type="last">\n                    <a href="javascript:;">{{{last}}}</a>\n                </li>\n                {{/if}}\n            {{/if}}\n            {{#if pgTotal}}\n                {{#totalpage}}\n                {{/totalpage}}\n            {{/if}}\n            {{#if pgRecText}}\n                {{#recordtextpage}}\n                {{/recordtextpage}}\n            {{/if}}\n        {{/if}}')({pages:a,pgButton:this.options.pgButton,pgNumber:this.options.pgNumber,pgTotal:this.options.pgTotal,pgRecText:this.options.pgRecText,first:this.options.first,prev:this.options.prev,next:this.options.next,last:this.options.last,pgMultipleTurn:this.options.pgMultipleTurn,pgSingleTurn:this.options.pgSingleTurn})),!fish.isNaN(parseInt(this.options.total))&&parseInt(this.options.total)>0?this.options.totalPages=parseInt(this.options.total):this.options.totalPages=Math.ceil(parseInt(this.options.records)/parseInt(this.options.rowNum)),this.element.find("li").each(function(){var c=$(this);c.filter(function(){return c.data("page")===a.currentPage&&"page"===c.data("page-type")}).addClass("active"),c.filter(function(){return"first"===c.data("page-type")}).toggleClass(b.options.disabledClass,1===a.currentPage),c.filter(function(){return"prev"===c.data("page-type")}).toggleClass(b.options.disabledClass,1===a.currentPage),c.filter(function(){return"next"===c.data("page-type")}).toggleClass(b.options.disabledClass,a.currentPage===b.options.totalPages),c.filter(function(){return"last"===c.data("page-type")}).toggleClass(b.options.disabledClass,a.currentPage===b.options.totalPages)})},_addrender:function(){var a=this;this.$addContainer.children().remove(),Handlebars.registerHelper("rowtextpage",function(){if(null!==a.options.rowtext){for(var b='<select class="ui-pagination" role="listbox">',c=0;c<a.options.rowList.length;c++)b+='<option role="option" value="'+a.options.rowList[c]+'"'+(a.options.rowNum===a.options.rowList[c]?' selected="selected"':"")+">"+a.options.rowList[c]+"</option>";b+="</select>";var d=a._format(a.options.rowtext||fish.getResource("pagination.rowtext"),b);return'<li class="'+a.options.rowtextClass+'"><span>'+d+"</span></li>"}}),Handlebars.registerHelper("gopage",function(){var b=a._format(a.options.gotext||fish.getResource("pagination.gotext"),'<input class="ui-pagination-input"/>');return'<li class="'+a.options.gotextClass+'"><span>'+b+"</span></li>"}),this.$addContainer.append(fish.compile("\n        {{#rowtextpage}}\n        {{/rowtextpage}}\n        {{#if pgInput}}\n            {{#gopage}}\n            {{/gopage}}\n        {{/if}}")({pgInput:this.options.pgInput}))},_setupEvents:function(){var a=this;this._on(this.$listContainer,{"click li":function(b){b.preventDefault();var c,d=$(b.currentTarget);d.hasClass(a.options.disabledClass)||d.hasClass(a.options.activeClass)||d.hasClass(a.options.pgtextClass)||d.hasClass(a.options.pgrectextClass)||(c={eventType:"page",rowNum:a.options.rowNum,page:d.data("page")},a._trigger("onPageClick",b,c)&&a._show(parseInt(d.data("page"),10)))}})},_setupAddEvents:function(){var a=this;this._on({"change .ui-pagination":function(b){a.options.rowNum=parseInt($(b.currentTarget).val(),10);var c={eventType:"select",rowNum:a.options.rowNum,page:1};a._trigger("onPageClick",b,c)&&a._show(1)},"keydown .ui-pagination-input":function(b){var c,d=b.which,e=$(b.currentTarget);if(13==d){c=a._intNum(e.val(),1),c=Math.max(1,Math.min(a.options.totalPages,c)),e.val(c);var f={eventType:"input",rowNum:a.options.rowNum,page:e.val()};a._trigger("onPageClick",b,f)&&a._show(parseInt(e.val(),10))}}})},_intNum:function(a,b){return a=parseInt(a,10),fish.isNaN(a)?b||0:a},update:function(a){$.extend(this.options,a),this._show(parseInt(this.options.start,10))}})}(),function(a,b,$){$.fn.placeholder=function(a){return a||(a={}),"placeholder"in b.createElement("input")||this.each(function(b){var c=$(this);if(!c.data("placeholderLabel")){var d=c.parent();"static"===d.css("position")&&d.css("position","relative");var e=c.attr("id");e||(e=fish.uniqueId("placeholder"),c.attr("id",e));var f=$('<label class="placeholder"></label>');f.attr("for",e),f.text(c.attr("placeholder")),c.data("placeholderLabel",f);var g=c.data("class");g&&f.addClass(g);var h=c.position(),i={position:"absolute",top:h.top+1,cursor:"text","z-index":3,height:c.innerHeight()};if(a.RTL){var j=d.outerWidth()-c.outerWidth()-c.position().left;i.right=j+6}else i.left=h.left+6;f.css(i),this.value.length&&f.hide(),c.after(f),c.on({focus:function(){f.hide()},blur:function(){""==this.value&&f.show()}}),this.attachEvent("onpropertychange",function(){c.val()?f.hide():f.show()})}}),this}}(0,document,jQuery),function(){"use strict";var a=150;$.widget("ui.tooltip",{options:{animation:!0,placement:"top",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1,container:"body"},_create:function(){this.enabled=!0,this.clickHide=!1,this.manualTriggers=!1;var a=this.options.trigger.split(" ");this.delay=this.getdelayOption(),_.indexOf(a,"click")>=0&&(this.onUs=!1,this.outTimeout=null,this._on({click:"openHandler"}),this._on($(document),{click:"closeHandler"})),_.indexOf(a,"hover")>=0&&(this.onUs=!1,this.outTimeout=null,this._on({mouseenter:"enter",mouseleave:"leave"}),this._on(this.tip(),{mouseenter:"enter",mouseleave:"leave"})),_.indexOf(a,"manual")>=0&&(this.manualTriggers=!0,this._on({click:"openHandler"})),this.fixTitle()},openHandler:function(a){this.toggle(a),a.preventDefault()},closeHandler:function(a){if(this.isOpened()&&this.clickHide){var b=this.tip()[0];if(a.target!==b&&!b.contains(a.target)){
var c=this.element[0];a.target===c||c.contains(a.target)||this.hide()}}},getdelayOption:function(){var a=this.options.delay;return"number"==typeof this.options.delay&&(a={show:this.options.delay,hide:this.options.delay}),a},enter:function(b){var c=this;if(this.onUs=!0,"undefined"!=typeof this.outTimeout&&clearTimeout(this.outTimeout),!this.delay.show&&0!==this.delay.show)return this.show();a=0===this.delay.show?0:150,this.outTimeout=setTimeout(function(){c.onUs&&c.show(b)},this.delay.show)},leave:function(b){var c=this;if(this.onUs=!1,"undefined"!=typeof this.outTimeout&&clearTimeout(this.outTimeout),!this.delay.hide&&0!==this.delay.hide)return this.hide();a=0===this.delay.hide?0:150,this.outTimeout=setTimeout(function(){c.onUs||c.hide()},this.delay.hide)},show:function(b){if(!this.isOpened()&&(b&&(this.clickHide=!0),this.hasContent()&&this.enabled)){var c=this,d=this.tip(),e=_.uniqueId(this.widgetName);this.setContent(),d.attr("id",e),this.element.attr("aria-describedby",e),this.options.animation&&d.addClass("fade");var f="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.element[0]):this.options.placement,g=/\s?auto?\s?/i,h=g.test(f);h&&(f=f.replace(g,"")||"top"),d.detach().css({top:0,left:0,display:"block"}).addClass(f),this.options.container?d.appendTo(this.options.container):d.insertAfter(this.element);var i=this.getPosition(),j=d[0].offsetWidth,k=d[0].offsetHeight;if(h){var l=f,m=this.options.container?$(this.options.container):this.element.parent(),n=this.getPosition(m);f="bottom"==f&&i.bottom+k>n.bottom?"top":"top"==f&&i.top-k<n.top?"bottom":"right"==f&&i.right+j>n.width?"left":"left"==f&&i.left-j<n.left?"right":f,d.removeClass(l).addClass(f)}var o=this.getCalculatedOffset(f,i,j,k);this.applyPlacement(o,f);var p=function(){c._trigger("show")};$.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",p).emulateTransitionEnd(a):p()}},applyPlacement:function(a,b){var c=this.tip(),d=c[0].offsetHeight,e=parseInt(c.css("margin-top"),10),f=parseInt(c.css("margin-left"),10);isNaN(e)&&(e=0),isNaN(f)&&(f=0),a.top=a.top+e,a.left=a.left+f,$.offset.setOffset(c[0],$.extend({using:function(a){c.css({top:Math.round(a.top),left:Math.round(a.left)})}},a),0),c.addClass("in");var g=c[0].offsetHeight;/top/.test(b)&&g!=d&&(a.top=a.top+d-g),c.offset(a)},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in "+this.options.placement)},hide:function(b){function c(){e.detach(),d.element.removeAttr("aria-describedby"),d._trigger("hide"),b&&b()}if(!this.isOpened())return this;var d=this,e=this.tip();return this.clickHide=!1,this._trigger("beforeHide")?(e.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",c).emulateTransitionEnd(a):c(),this):this},fixTitle:function(){var a=this.element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(a){a=a||this.element;var b=a[0],c="BODY"==b.tagName,d=b.getBoundingClientRect();null==d.width&&(d=$.extend({},d,{width:d.right-d.left,height:d.bottom-d.top}));var e=c?{top:0,left:0}:a.offset(),f={scroll:c?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop()},g=c?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},d,f,g,e)},getCalculatedOffset:function(a,b,c,d){var e;switch(a){case"bottom":e={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case"top":e={top:b.top-d,left:b.left+b.width/2-c/2};break;case"left":e={top:b.top+b.height/2-d/2,left:b.left-c};break;case"right":e={top:b.top+b.height/2-d/2,left:b.left+b.width};break;case"bottom-right":e={top:b.top+b.height,left:b.left+b.width-c};break;case"bottom-left":e={top:b.top+b.height,left:b.left};break;case"top-right":e={top:b.top-d,left:b.left+b.width-c};break;case"top-left":e={top:b.top-d,left:b.left}}return e},getTitle:function(){var a=this.element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},tip:function(){return this.$tip||(this.$tip=$(this.options.template)),this.$tip},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggle:function(a){this.manualTriggers?this.isOpened()?this.hide():this.show(a):this.isOpened()?this.leave():this.enter(a)},isOpened:function(){return this.tip().hasClass("in")},_destroy:function(){this.onUs=!1,"undefined"!=typeof this.outTimeout&&clearTimeout(this.outTimeout),this.hide()}})}(),function(){"use strict";$.widget("ui.popedit",$.ui.formfield,{options:{url:"",buttonIcon:"new-window",dialogInstance:null,dialogOption:null,dataTextField:"name",dataValueField:"value",initialData:null,showClearIcon:!0},_createIcon:function(){var a=this.options,b=$(this.element);if(a.showClearIcon){var c=b.clearinput(),d={direct:"right",iconname:a.buttonIcon};c.clearinput("setIcon",d),b.nextAll(".input-group-addon").attr("tabindex","0")}else{for(var e=a.buttonIcon.split(" "),f="",g=0;g<e.length;g++)f+='<span class="input-group-addon" tabindex=0><span class="glyphicon glyphicon-'+e[g]+'"></span></span>';b.after(f)}this.component=b.nextAll(".input-group-addon").filter(function(a){return!$(this).children(".glyphicon").hasClass("glyphicon-remove")}),this.componentReset=b.nextAll(".input-group-addon").filter(function(a){return $(this).children(".glyphicon").hasClass("glyphicon-remove")}),this.component=!!this.component.length&&this.component,this.componentReset=!!this.componentReset.length&&this.componentReset},_getCreateOptions:function(){return{url:$(this.element).data("url")}},_create:function(){var a=this.options;this.element.attr("readonly",!0),a.buttonIcon&&this._createIcon(),this._attachEvents(),this.value=null,a.initialData&&this.setValue(a.initialData,!1,!0),this.dialog=null,a.dialogInstance&&this.dialogInstance(a.dialogInstance),this._super()},_onFormReset:function(){this.setValue(this.options.initialData,!0)},_onFormClear:function(){this.setValue(null,!0)},_formSetValue:function(a){this.setValue(a,!0)},_formGetValue:function(){var a=this.getValue();return a?a[this.options.dataValueField]:""},_validateHandler:function(){var a=this;this._on({"popedit:change":function(){a._getValidFlag()&&a.element.isValid()}})},_attachEvents:function(){this._on({change:"_clear"}),this._on(this.component,{click:"_openDialog",keyup:"_onKeyUp"}),this.componentReset&&this._on(this.componentReset,{click:"_clear"})},_onKeyUp:function(a){var b=$.ui.keyCode;a.keyCode===b.ENTER&&this._openDialog()},_openDialog:function(a){var b=this.dialog;if(b)b.dialog("open"),this._trigger("open");else{var c=this,d=this.options.url;d?0===d.indexOf("#")?this._initDialog($(d)):$.ajax({url:d,type:"get",dataType:"html"}).done(function(a){var b=$(a);$("body").append(b),b.attr("id")||b.uniqueId(),c._initDialog($("#"+b.attr("id")))}):this._trigger("open")}},_initDialog:function(a){var b=this;a.dialog(this.options.dialogOption).on({"dialog:change":function(a,c){b.setValue(c)}}),this._trigger("open"),this.dialog=a},_setOption:function(a,b){"url"===a&&this.dialog&&this.options.url!==b&&(this.dialog.dialog("destroy"),this.dialog=null),this._super(a,b),"dialogOption"===a&&this.dialog&&this.dialog.dialog("option",b),"disabled"===a&&this.element.prop("disabled",b)},_clear:function(a){this.setValue(null)},dialogInstance:function(a){var b;if(0===arguments.length)return this.dialog;this.dialog=a,this.dialog&&(b=_.bind(this._onDialogChange,this),this.dialog.on("dialogchange",b))},_onDialogChange:function(a,b){this.setValue(b)},setValue:function(a,b){var c,d=this.options,e=this.value||{},f=e[d.dataTextField]||"";this.value!=a&&("string"==typeof a&&(c=a,a={},a[d.dataTextField]=$.trim(c),a[d.dataValueField]=$.trim(c)),this.value=a,this.element.val(a?a[d.dataTextField]:""),this.element.attr("title",this.element.val()),b||(this._trigger("change",null,a),arguments[2]||this._pagePoint({eventType:"change",origValue:f})))},getValue:function(){return this.value},clear:function(){this.setValue(null)},hideWidget:function(){this.element.parent().hide()},showWidget:function(){this.element.parent().show()}})}(),function(){$.widget("ui.popover",$.ui.tooltip,{options:{placement:"bottom",trigger:"click",html:!0,content:"",delay:0,template:'<div class="popover" role="tooltip">\n                           <div class="arrow"></div>\n                           <h3 class="popover-title"></h3>\n                           <div class="popover-content"></div>\n                        </div>'},setContent:function(){var a=this.tip(),b=this.getContent(),c=this.getTitle();a.find(".popover-title")[this.options.html?"html":"text"](c),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof b?"html":"append":"text"](b),a.removeClass("fade in"+this.options.placement),a.find(".popover-title").html()||a.find(".popover-title").hide()},hasContent:function(){return this.getTitle()||this.element.attr("data-content")||this.options.content},getContent:function(){var a=this.element,b=this.options;return a.attr("data-content")||(_.isFunction(b.content)?b.content.call(a[0]):b.content)},fixTitle:$.noop,arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")}})}(),function(){function a(a){var b=e.get(a).value,c=$(document.body);e.remove(a),$(window).off("resize."+b.popupId),b.$modalElement.off(".data-api"),b.$modalElement.remove();for(var f=!1,g=e.keys(),h=0;h<g.length;h++){var i=e.get(g[h]);if(i.value.$modalElement.is(":visible")&&i.value.modal){f=!0;break}}c.toggleClass(d,f),fish.modalStack.removeBackdrop()}function b(a){if(e.get(a).value.modal){for(var b,c=e.keys(),d=c.length-1;d>=0;d--){var f=e.get(c[d]);if(f.value.$modalElement.is(":visible")&&f.value.modal){b=c[d];break}}fish.modalStack.changeBackdrop(b),$("body").toggleClass("modal-open",null!=b)}}function c(a){a.value.modalOpener&&(!fish.browser.msie||fish.browser.version>8)?a.value.modalOpener.focus():$("body").focus()}var d="modal-open",e=fish.modalStack.openedWindows,f={content:"",modal:!0,keyboard:!0,draggable:!0,resizable:!1,autoDismiss:!1,canClose:!0,destroyOnClose:!0,autoResizable:!0,width:"auto",height:"auto",openerFocus:!0,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=$(this).css(a).offset().top;b<0&&$(this).css("top",a.top-b)}}},g=$.ui.keyCode,h={open:function(a,b){var c,f,g,i,j=document.activeElement,k=$(document.body),l=fish.uniqueId("ui-popup-");e.add(a,{popupId:l,deferred:b.deferred,modal:b.modal,keyboard:b.keyboard,openerFocus:b.openerFocus}),fish.modalStack.addBackdrop(),b.modal&&k.addClass(d),c=$(b.content),g=c.find(".modal-body"),i=c.find(".modal-header"),!0===b.canClose&&0===i.find(".close").length&&i.prepend('<button type="button" class="close" '+(b.destroyOnClose?"data-dismiss":"data-hide")+' aria-label="Close"> <span aria-hidden="true">&times;</span></button>'),c.on("click.dismiss.data-api","[data-dismiss]",function(b){h.dismiss(a,"dismiss click")}).on("click.close.data-api","[data-close]",function(b){h.close(a,"close click")}).on("click.hide.data-api","[data-hide]",function(b){h.hide(a)}),f={"z-index":1050+10*(e.length()-1),display:"block"},"auto"!==b.width&&(f.width=b.width),"auto"!==b.height&&(isNaN(b.height)?f.height=Number(b.height.substr(0,b.height.length-1))/100*$(window).height():f.height=b.height),c.css(f),k.append(c),"auto"!==b.height&&(g.css("overflow","auto"),g.outerHeight(c.height()-i.outerHeight()-c.find(".modal-footer").outerHeight())),c.position(b.position).data("position",b.position),c.find("[autofocus]").focus(),b.draggable&&c.draggable({handle:".modal-header",containment:"document",stop:function(a,b){$(this).data("new-position",!0)}}),b.resizable&&(c.css("position","absolute"),c.resizable({alsoResize:g,start:function(a,b){var d=g.data("ui-resizable-alsoresize");d.width=b.size.width,d.height=b.size.height-i.outerHeight()-c.find(".modal-footer").outerHeight(),g.data("ui-resizable-alsoresize",d)}})),b.autoResizable&&$(window).on("resize."+l,fish.debounce(function(){c.data("new-position")||c.is(":visible")&&c.position(c.data("position"))},300)),e.top().value.$modalElement=c,e.top().value.modalOpener=j},close:function(b,d){var f=e.get(b);return f?(a(b),f.value.openerFocus&&c(f),f.value.deferred.resolve(d),!0):!f},dismiss:function(b,d){var f=e.get(b);return f?(a(b),f.value.openerFocus&&c(f),f.value.deferred.reject(d),!0):!f},show:function(a){var c=e.get(a);c&&(c.value.$modalElement.show(),b(a))},hide:function(a){var c=e.get(a);c&&(c.value.$modalElement.hide(),b(a))},isOpen:function(a){var b=e.get(a);return!!b&&b.value.$modalElement.is(":visible")},isDestroy:function(a){return!e.get(a)},center:function(a){var b=e.get(a);b&&b.value.$modalElement.position({my:"center",at:"center",of:window,collision:"fit"})}};$(document).on("keydown",function(a){var b;a.keyCode===g.ESCAPE&&(b=e.top())&&b.value.keyboard&&(a.preventDefault(),h.dismiss(b.key,"escape key press"))}),fish.popup=function(a){function b(a){$.contains(e.get(d).value.$modalElement[0],a.target)||d.dismiss("click outside")}var c=$.Deferred(),d={result:c.promise(),close:function(a){return h.close(d,a)},dismiss:function(a){return h.dismiss(d,a)},show:function(){h.show(d)},hide:function(){h.hide(d)},isOpen:function(){return h.isOpen(d)},isDestroy:function(){return h.isDestroy(d)},center:function(){h.center(d)}};return h.open(d,$.extend({deferred:c},f,a)),a.autoDismiss&&(fish.defer(function(){$(document).on("click",b)}),d.result.always(function(){$(document).off("click",b)})),d}}(),function(){"use strict";$.widget("ui.progressbar",{options:{max:100,value:0,progressbarClass:"",label:"",change:null,complete:null},min:0,_getCreateEventData:function(){return{progressbar:this.element}},_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar"+this.options.progressbarClass).attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=$("<div class='ui-progressbar-value'>"+(0==this.options.value?"":this.options.value+"%")+"</div>").appendTo(this.element),this.label(this.options.label),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.labelDiv&&this.labelDiv.remove(),this.valueDiv.remove()},value:function(a){if(a===undefined)return this.options.value;this.options.value=this._constrainedValue(a),this._refreshValue()},label:function(a){a&&(this.labelDiv=this.labelDiv||$('<div class="progress-label"></div>').prependTo(this.element)),this.labelDiv&&this.labelDiv.text(a)},_constrainedValue:function(a){return a===undefined&&(a=this.options.value),this.indeterminate=!1===a,"number"!=typeof a&&(a=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,b=this._percentage();this.valueDiv.text(0==this.options.value?"":this.options.value+"%"),this.valueDiv.toggle(this.indeterminate||a>this.min).css("width",b.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=$("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==a&&(this.oldValue=a,this._trigger("change",null,{progressbar:this.element})),a===this.options.max&&this._trigger("complete",null,{progressbar:this.element})}})}(),function(){$.widget("ui.slider",$.ui.mouse,{options:{sliderClass:"",animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" "+this.options.sliderClass),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var a,b,c=this.options,d=this.element.find(".ui-slider-handle"),e=[];for(b=c.values&&c.values.length||1,d.length>b&&(d.slice(b).remove(),d=d.slice(0,b)),a=d.length;a<b;a++)e.push("<span class='ui-slider-handle' tabindex='0'></span>");this.handles=d.add($(e.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(a){$(this).data("ui-slider-handle-index",a)})},_createRange:function(){var a=this.options,b="";a.range?(!0===a.range&&(a.values?a.values.length&&2!==a.values.length?a.values=[a.values[0],a.values[0]]:$.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=$("<div></div>").appendTo(this.element),b="ui-slider-range"),this.range.addClass(b+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical"),this._mouseDestroy()},_mouseCapture:function(a){var b,c,d,e,f,g,h,i=this,j=this.options;return!j.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b),d=this._valueMax()-this._valueMin()+1,this.handles.each(function(a){var b=Math.abs(c-i.values(a));(d>b||d===b&&(a===i._lastChangedValue||i.values(a)===j.min))&&(d=b,e=$(this),f=a)}),!1!==this._start(a,f)&&(this._mouseSliding=!0,this._handleIndex=f,e.addClass("ui-state-active").focus(),g=e.offset(),h=!$(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:a.pageX-g.left-e.width()/2,top:a.pageY-g.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,f,c),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&!0===this.options.range&&(0===b&&c>d||1===b&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),!1!==f&&this.values(b,c))):c!==this.value()&&!1!==(f=this._trigger("slide",a,{handle:this.handles[b],value:c}))&&this.value(c)},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(a,b){var c,d,e;if(arguments.length>1)return this.options.values[a]=this._trimAlignValue(b),this._refreshValue(),void this._change(null,a);if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();for(c=this.options.values,d=arguments[0],e=0;e<c.length;e+=1)c[e]=this._trimAlignValue(d[e]),this._change(null,e);this._refreshValue()},_setOption:function(a,b){var c,d=0;switch("range"===a&&!0===this.options.range&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),$.isArray(this.options.values)&&(d=this.options.values.length),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b),this._super(a,b),a){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===b?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),c=0;c<d;c+=1)this._change(null,c);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step;a=Math.floor(+(a-b).toFixed(this._precision())/c)*c+b,this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshTick:function(){this._createTicks()},_refreshValue:function(){var a,b,c,d,e,f=this.options.range,g=this.options,h=this,i=!this._animateOff&&g.animate,j={};this.options.values&&this.options.values.length?this.handles.each(function(c){b=(h.values(c)-h._valueMin())/(h._valueMax()-h._valueMin())*100,j["horizontal"===h.orientation?"left":"bottom"]=b+"%",$(this).stop(1,1)[i?"animate":"css"](j,g.animate),!0===h.options.range&&("horizontal"===h.orientation?(0===c&&h.range.stop(1,1)[i?"animate":"css"]({left:b+"%"},g.animate),1===c&&h.range[i?"animate":"css"]({width:b-a+"%"},{queue:!1,duration:g.animate})):(0===c&&h.range.stop(1,1)[i?"animate":"css"]({bottom:b+"%"},g.animate),1===c&&h.range[i?"animate":"css"]({height:b-a+"%"},{queue:!1,duration:g.animate}))),a=b}):(c=this.value(),d=this._valueMin(),e=this._valueMax(),b=e!==d?(c-d)/(e-d)*100:0,j["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[i?"animate":"css"](j,g.animate),"min"===f&&"horizontal"===this.orientation&&this.range.stop(1,1)[i?"animate":"css"]({width:b+"%"},g.animate),"max"===f&&"horizontal"===this.orientation&&this.range[i?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:g.animate}),"min"===f&&"vertical"===this.orientation&&this.range.stop(1,1)[i?"animate":"css"]({height:b+"%"},g.animate),"max"===f&&"vertical"===this.orientation&&this.range[i?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:g.animate}))},_handleEvents:{keydown:function(a){var b,c,d,e,f=$(a.target).data("ui-slider-handle-index");switch(a.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding&&(this._keySliding=!0,$(a.target).addClass("ui-state-active"),!1===this._start(a,f)))return}switch(d=this.options.step,e=this.options.numPages,b=c=this.options.values&&this.options.values.length?this.values(f):this.value(),a.keyCode){case $.ui.keyCode.HOME:c=this._valueMin();break;case $.ui.keyCode.END:c=this._valueMax();break;case $.ui.keyCode.PAGE_UP:c=this._trimAlignValue(b+(this._valueMax()-this._valueMin())/e);break;case $.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(b-(this._valueMax()-this._valueMin())/e);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(b===this._valueMax())return;c=this._trimAlignValue(b+d);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(b===this._valueMin())return;c=this._trimAlignValue(b-d)}this._slide(a,f,c)},click:function(a){a.preventDefault()},keyup:function(a){var b=$(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,b),this._change(a,b),$(a.target).removeClass("ui-state-active"))}}})}(),function(){function a(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&(this._trigger("change"),this._pagePoint({eventType:"change",origValue:b}))}}$.widget("ui.spinner",$.ui.formfield,{defaultElement:"<input>",SPIN_TEMPLATE:'<div class="input-group"></div>',BUTTON_TEMPLATE:'\n            <span class="input-group-addon btn-group-vertical btn-group-stepper">\n                <button type="button" class="btn btn-stepper js-increase" tabindex="-1">\n                    <span class="glyphicon glyphicon-triangle-top"></span>\n                    <span class="sr-only">Increase</span>\n                </button>\n                <button type="button" class="btn btn-stepper" tabindex="-1">\n                    <span class="glyphicon glyphicon-triangle-bottom"></span>\n                    <span class="sr-only">Decrease</span>\n                </button>\n            </span>',options:{incremental:!0,max:null,min:null,page:10,step:1,change:null,spin:null,start:null,stop:null,loop:!1},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}}),this._super()},_getCreateOptions:function(){var a={},b=this.element;return $.each(["min","max","step"],function(c,d){var e=b.attr(d);e!==undefined&&e.length&&(a[d]=e)}),a},_validateHandler:function(){var a=this.element,b=this;a.on("spinstop.valid",function(){b._getValidFlag()&&a.isValid()})},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:"_focus",blur:function(a){if(this.cancelBlur)return void this.element.focus();this._stop(),this._refresh(),this.previous!==this.element.val()&&(this._trigger("change",a),this._pagePoint({eventType:"change",origValue:this.previous}))},"mousewheel .form-control:focus":function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .btn-stepper":function(a){!1!==this._start(a)&&(this.element.is(":focus")||(this._focus(),this.element.focus()),this.cancelBlur=!0,this._repeat(null,$(a.currentTarget).hasClass("js-increase")?1:-1,a))},"mouseup .btn-stepper":"_stop","mouseenter .btn-stepper":function(a){if($(a.currentTarget).hasClass("ui-state-active"))return!1!==this._start(a)&&void this._repeat(null,$(a.currentTarget).hasClass("js-increase")?1:-1,a)},"mouseleave .btn-stepper":"_stop"},_focus:function(a){this.cancelBlur?this.cancelBlur=!1:this.previous=this.element.val()},_draw:function(){var a=this,b=this.uiSpinner=this.element.attr("autocomplete","off").wrap(a.SPIN_TEMPLATE).parent().append(a.BUTTON_TEMPLATE);this.element.attr("role","spinbutton"),this.buttons=b.find(".btn-stepper"),this.options.disabled&&this.disable()},_keydown:function(a){var b=this.options,c=$.ui.keyCode;switch(a.keyCode){case c.UP:return this._repeat(null,1,a),!0;case c.DOWN:return this._repeat(null,-1,a),!0;case c.PAGE_UP:return this._repeat(null,b.page,a),!0;case c.PAGE_DOWN:return this._repeat(null,-b.page,a),!0}return!1},_start:function(a){return!(!this.spinning&&!1===this._trigger("start",a))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",b,{value:c})||(this._value(c),this.counter++)},_increment:function(a){var b=this.options.incremental;return b?$.isFunction(b)?b(a):Math.floor(a*a*a/5e4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;if(b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&null!==d.min&&d.loop){if(a>d.max)return d.min;if(a<d.min)return d.max}return null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){"max"!==a&&"min"!==a&&"step"!==a||"string"==typeof b&&(b=this._parse(b)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.prop("disabled",!0)):(this.element.prop("disabled",!1),this.buttons.prop("disabled",!1)))},_setOptions:a(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=+a),a=""===a||isNaN(a)?null:a,this.options.max&&a>=this.options.max&&(a=this.options.max),this.options.min&&a<=this.options.min&&(a=this.options.min),a},_refresh:function(){
this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())}),this.element.val(this._parse(this.element.val()))},_value:function(a,b){var c;""!==a&&null!==(c=this._parse(a))&&(b||(c=this._adjustValue(c))),this.element.val(c),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:a(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:a(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:a(function(a){this._stepDown((a||1)*this.options.page)}),value:function(b){if(!arguments.length)return this._parse(this.element.val());a(this._value).call(this,b)},widget:function(){return this.uiSpinner}})}(),function(){"use strict";var a="ui-switch";$.widget("ui.switchbutton",$.ui.formfield,{options:{state:!0,size:null,animate:!0,disabled:!1,readonly:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",customClass:"",radioAllOff:!1,change:$.noop},_getCreateOptions:function(){return{state:this.element.is(":checked"),disabled:this.element.is(":disabled"),readonly:this.element.is("[readonly]")}},_create:function(){this.$wrapper=$("<div>",{"class":function(b){return function(){var c=[a];return c.push(a+(b.options.state?"-on":"-off")),b.options.size&&c.push("ui-switch-"+b.options.size),b.options.animate&&c.push("ui-switch-animate"),b.options.disabled&&c.push("ui-switch-disabled"),b.options.readonly&&c.push("ui-switch-readonly"),c.push(b.options.customClass),c.join(" ")}}(this)()}),this.$container=$("<div>",{"class":"ui-switch-container"}),this.$on=$("<span>",{html:this.options.onText,"class":"ui-switch-handle-on ui-switch-"+this.options.onColor}),this.$off=$("<span>",{html:this.options.offText,"class":"ui-switch-handle-off ui-switch-"+this.options.offColor}),this.$label=$("<label>",{html:this.options.labelText,"class":"ui-switch-label"}),this.$container=this.element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent().attr({role:"switch",tabindex:0,"aria-checked":this.options.state}),this.element.before(this.$on).before(this.$label).before(this.$off).addClass("_formIngoreValue"),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._super()},_setOption:function(a,b){this["_"+a](b),this._super(a,b)},_formSetValue:function(a){!0===a?(this.element.prop("checked",!0),this.$wrapper.attr("aria-checked",!0)):!1===a?(this.element.prop("checked",!1),this.$wrapper.attr("aria-checked",!1)):this.element.val(a),this.element.trigger("change",!0)},_onFormReset:function(){this.element.trigger("change",!0)},state:function(a,b){this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.element.is(":radio")||(a=!!a,this.element.prop("checked",a).trigger("change",b),this.$wrapper.attr("aria-checked",a))},toggle:function(a){this.options.disabled||this.options.readonly||(this.element.prop("checked",!this.options.state).trigger("change",a),this.$wrapper.attr("aria-checked",!this.options.state))},_state:function(a){return this.state(a)},value:function(a){if(a===undefined)return this.element.val();this.element.val(a)},_size:function(a){null!=this.options.size&&this.$wrapper.removeClass("ui-switch-"+this.options.size),a&&this.$wrapper.addClass("ui-switch-"+a)},_animate:function(a){a=!!a,this.$wrapper[a?"addClass":"removeClass"]("ui-switch-animate")},_disabled:function(a){a=!!a,this.$wrapper[a?"addClass":"removeClass"]("ui-switch-disabled").attr("aria-disabled",a),this.element.prop("disabled",a)},_readonly:function(a){a=!!a,this.$wrapper[a?"addClass":"removeClass"]("ui-switch-readonly").attr("aria-readonly",a),this.element.prop("readonly",a)},_onColor:function(a){var b;b=this.options.onColor,null!=b&&this.$on.removeClass("ui-switch-"+b),this.$on.addClass("ui-switch-"+a)},_offColor:function(a){var b;b=this.options.offColor,null!=b&&this.$off.removeClass("ui-switch-"+b),this.$off.addClass("ui-switch-"+a)},_onText:function(a){this.$on.html(a)},_offText:function(a){this.$off.html(a)},_labelText:function(a){this.$label.html(a)},_destroy:function(){this.$container.children().not(this.element).remove(),this.element.unwrap().unwrap(),this.element.off()},_elementHandlers:function(){var a=this;this._on({change:function(b,c){var d;b.preventDefault(),b.stopImmediatePropagation(),(d=a.element.is(":checked"))!==a.options.state&&(a.options.state=d,a.$wrapper.removeClass(d?"ui-switch-off":"ui-switch-on").addClass(d?"ui-switch-on":"ui-switch-off"),c||(a.element.is(":radio")&&$("[name='"+a.element.attr("name")+"']").not(a.element).prop("checked",!1).trigger("change",!0),a._trigger("change",b,[d])))},focus:function(b){if(!a.options.disabled)return a.$wrapper.addClass("ui-switch-focused")},blur:function(b){if(!a.options.disabled)return a.$wrapper.removeClass("ui-switch-focused")},keydown:function(b){if(b.which&&!a.options.disabled&&!a.options.readonly)switch(b.which){case 37:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!1);case 39:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!0)}}})},_handleHandlers:function(){var a=this;this.$on.on("click",function(b){return b.preventDefault(),b.stopPropagation(),a.state(!1),a.options.disabled?"":a.element.focus()}),this.$off.on("click",function(b){return b.preventDefault(),b.stopPropagation(),a.state(!0),a.options.disabled?"":a.element.focus()})},_labelHandlers:function(){var a=this;this._on(this.$label,{mousemove:function(b){var c,d,e,f;a.isLabelDragging&&(b.preventDefault(),a.isLabelDragged=!0,d=b.pageX||b.originalEvent.touches[0].pageX,e=(d-a.$wrapper.offset().left)/a.$wrapper.width()*100,c=25,f=75,a.options.animate&&a.$wrapper.removeClass("ui-switch-animate"),e<c?e=c:e>f&&(e=f),a.$container.css("margin-left",e-f+"%"))},mousedown:function(b){if(!(a.isLabelDragging||a.options.disabled||a.options.readonly))return b.preventDefault(),a.isLabelDragging=!0,a.element.focus()},mouseup:function(b){if(a.isLabelDragging)return b.preventDefault(),a.isLabelDragged?(a.isLabelDragged=!1,a.state(parseInt(a.$container.css("margin-left"),10)>-a.$container.width()/6),a.options.animate&&a.$wrapper.addClass("ui-switch-animate"),a.$container.css("margin-left","")):a.state(!a.options.state),a.isLabelDragging=!1},mouseleave:function(b){return a.$label.trigger("mouseup")}})}})}(),function(){$.widget("ui.searchbar",{options:{target:null,filterFields:[],autocomplete:!0,query:$.noop,placeholder:"",displayMode:"head",filterContainer:null,showCaseSensitive:!1},_create:function(){var a="tail"===this.options.displayMode,b={};if(b.showCaseSensitive=this.options.showCaseSensitive,this.target=this.options.target,a&&this.element.addClass("search-group-tail"),this.target?this._parseTargetGrid(this.target):this.filterFields=this.options.filterFields,this.element.append(fish.compile('\n        {{#ifCond displayMode "===" "head"}}\n            {{#if filterFields}}\n                <span class="input-group-btn">\n                    <button type="button" class="btn btn-default" data-toggle="dropdown">\n                        <span class="glyphicon glyphicon-search"></span>\n                        <span class="js-filter">{{filterFields.[0].[label]}}</span>\n                        {{#ifCond filterFields.length ">" 1}}\n                            <span class="caret"></span>\n                        {{/ifCond}}\n                    </button>\n                    {{#ifCond filterFields.length ">" 1}}\n                        <ul class="dropdown-menu js-filter-menu" role="menu">\n                            {{#each filterFields}}\n                                <li><a href="javascript:;">{{label}}</a></li>\n                            {{/each}}\n                        </ul>\n                    {{/ifCond}}\n                </span>\n            {{/if}}\n        {{else}}\n            {{#ifCond filterFields.length ">" 1}}\n                <span class="input-group-btn">\n                    <button type="button" class="btn btn-default" data-toggle="dropdown">\n                        <span class="js-filter">{{filterFields.[0].[label]}}</span>\n                        <span class="caret"></span>\n                    </button>\n                    <ul class="dropdown-menu js-filter-menu" role="menu">\n                        {{#each filterFields}}\n                            <li><a href="javascript:;">{{label}}</a></li>\n                        {{/each}}\n                    </ul>\n                </span>\n            {{/ifCond}}\n        {{/ifCond}}\n        <input type="text" class="form-control">')({filterFields:this.filterFields,displayMode:this.options.displayMode})),this.filterFields.length>1||1===this.filterFields.length&&"head"===this.options.displayMode?(this.$filter=this.element.find(".js-filter"),this.$filter[0].scrollWidth>this.$filter[0].clientWidth&&this.$filter.parent().attr("title",this.$filter.html()),this._filterField=this.filterFields[0],this.$input=this.element.find("input").clearinput(b),this.filterFields.length>1&&(this.$filterList=this.element.find(".js-filter-menu")),a&&this.$input.clearinput("setIcon",{direct:"right",iconname:"search"}),this._setOption("autocomplete",this.options.autocomplete)):a&&(this._filterField=this.filterFields.length?this.filterFields[0]:{label:this.options.placeholder,value:this.options.placeholder},this.$input=this.element.find("input").clearinput(b),this.$input.clearinput("setIcon",{direct:"right",iconname:"search"}),this.$input.attr("placeholder",this._filterField.label),this._setOption("autocomplete",this.options.autocomplete)),this.options.filterContainer){this.element.find("button[data-toggle]").dropdown({container:this.options.filterContainer})}},_setOption:function(a,b){this._super(a,b),"autocomplete"===a&&(b?this.$input.autocomplete({select:_.bind(this._onSelect,this),source:_.bind(this._sourceHandler,this)}):this.$input.autocomplete("destroy")),this._delegateEvents()},_destroy:function(){this.options.autocomplete&&this.$input.autocomplete("destroy"),this.element.children().remove()},_delegateEvents:function(){this._on(this.$filterList,{"click li":"_onFilterClick"}),this._on(this.$input,{keydown:"_doSearch"}),"tail"===this.options.displayMode&&this._on(this.element,{"click .clear-input-icon-right":"_doSearch","click .form-clear-input":"_doSearch"})},_doSearch:function(a){if(13===a.keyCode||"click"===a.type){var b=this._filterField,c=this.$input.data("ignoreCase"),d=this.$input.val();this._trigger("search",a,[b,d,c])}},_parseTargetGrid:function(a){var b=a.grid("option","colModel");this.filterFields=_.chain(b).filter(function(a){return!a.hidden&&a.search}).map(function(a){return{label:a.label,value:a.name}}).value()},_sourceHandler:function(a,b){this.target?b(this._filter(this._getSource(),a.term)):this.options.query({qs:a.term,filter:_.clone(this._filterField)},function(a){b(a)})},_onFilterClick:function(a){var b=this.$filterList.find("li").index(a.currentTarget);this._updateFilter(this.filterFields[b]),this.$input.val("")},_updateFilter:function(a){a.label!==this._filterField.label&&(this.$filter&&(this.$filter.text(a.label),this.$filter.parent().attr("title",""),this.$filter[0].scrollWidth>this.$filter[0].clientWidth&&this.$filter.parent().attr("title",this.$filter.html())),this._filterField=a,this._trigger("filterChange",null,this._filterField))},_onSelect:function(a,b){this._trigger("select",a,b.item),this.target&&this.target.grid("setSelection",b.item.rowId)},_getSource:function(){var a=this.target,b=a.grid("getRowData"),c=this._filterField.value,d=_.findIndex(a.grid("option","colModel"),{name:c});return _.chain(b).map(function(b){var e=a.grid("getRowid",b),f=fish.getAccessor(b,c),g=$("<div>"+a.grid("formatter",e,f,d,b)+"</div>").text();return g="&#160;"===g?"":g,{label:g,rowId:e}}).filter(function(a){return""!=$.trim(a.label)}).value()},_filter:function(a,b){var c=new RegExp($.ui.autocomplete.escapeRegex(b),"i");return $.grep(a,function(a){return c.test(fish.isObject(a)?a.label||a.value:a)})},value:function(a){if(!a)return this.options.autocomplete?this.$input.autocomplete("value"):this.$input.val();this.options.autocomplete?this.$input.autocomplete("value",a):this.$input.val(a)},filterField:function(a){if(!a)return this._filterField;var b=fish.findIndex(this.filterFields,function(b){return b.value==a});-1!=b&&this._updateFilter(this.filterFields[b])}})}(),function(){"use strict";$.widget("ui.tabs",{delay:300,options:{fixedHeight:!1,active:null,collapsible:!1,event:"click",heightStyle:"content",activate:null,activateOnce:!1,beforeActivate:null,beforeRemove:null,remove:null,add:null,paging:!1,hide:null,show:null,autoResizable:!1,placement:"top",fixTabCount:5,fixTabWidth:8},_isLocal:function(){var a=/#.*$/;return function(b){var c,d;b=b.cloneNode(!1),c=b.href.replace(a,""),d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(e){}try{d=decodeURIComponent(d)}catch(e){}return b.hash.length>1&&c===d}}(),_create:function(){var a=this,b=this.options;if(this.running=!1,this.element.addClass("ui-tabs").toggleClass("ui-tabs-collapsible",b.collapsible),"bottom"===b.placement){var c=this.element.children("ul");this.element.addClass("ui-tabs-bottom"),this.element.append(c.clone(!0)),c.remove()}"left"===b.placement&&this.element.addClass("ui-tabs-left"),"right"===b.placement&&this.element.addClass("ui-tabs-right"),this._processTabs(),this.fixCount=this.tabs.not(this.unfixTabs).length,b.active=this._initialActive(),$.isArray(b.disabled)&&(b.disabled=$.unique(b.disabled.concat($.map(this.tabs.filter(".ui-tabs-disabled"),function(b){return a.tabs.index(b)}))).sort()),this.active=$(),this._refresh(),this._activate(b.active,!1),b.canClose&&this._bindCloseEvent(!0)},_initialActive:function(){var a=this.options.active,b=this.options.collapsible,c=location.hash.substring(1);return null===a&&(c&&this.tabs.each(function(b,d){if($(d).attr("aria-controls")===c)return a=b,!1}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==a&&-1!==a||(a=!!this.tabs.length&&0)),!1!==a&&-1===(a=this.tabs.index(this.tabs.eq(a)))&&(a=!b&&0),!b&&!1===a&&this.anchors.length&&(a=0),a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):$()}},_tabKeydown:function(a){var b=$(this.document[0].activeElement).closest("li"),c=this.tabs.index(b),d=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:c++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:d=!1,c--;break;case $.ui.keyCode.END:c=this.anchors.length-1;break;case $.ui.keyCode.HOME:c=0;break;case $.ui.keyCode.SPACE:return a.preventDefault(),clearTimeout(this.activating),void this._activate(c);case $.ui.keyCode.ENTER:return a.preventDefault(),clearTimeout(this.activating),void this._activate(c!==this.options.active&&c);default:return}a.preventDefault(),clearTimeout(this.activating),c=this._focusNextTab(c,d),a.ctrlKey||a.metaKey||(b.attr("aria-selected","false"),this.tabs.eq(c).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",c)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===$.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===$.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===$.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(a,b){for(var c=this.tabs.length-1;-1!==$.inArray(function(){return a>c&&(a=0),a<0&&(a=c),a}(),this.options.disabled);)a=b?a+1:a-1;return a},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?!1===(b=this._getIndex(b))?this:void this._activate(b,!1):("canClose"===a&&this._bindCloseEvent(b),"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b))))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,b=this.tablist.children(":has(a[href])");a.disabled=$.map(b.filter(".ui-tabs-disabled"),function(a){return b.index(a)}),this._processTabs(),!1!==a.active&&this.anchors.length?this.active.length&&!$.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=$()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=$()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).addClass("ui-tabs-hide").attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?this.active.hasClass("ui-tabs-hidden")||(this.active.addClass("ui-tabs-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).removeClass("ui-tabs-hide").attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0),this.options.paging&&this._paging(),this.options.autoResizable&&this.options.paging&&(this._resizeHandler=fish.onResize(fish.bind(this._resize,this)))},_processTabs:function(){var a=this,b=this.tabs,c=this.anchors,d=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(a){$(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){$(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.lastTablistWidth=this.tablist.width(),this.tabs=this.tablist.find("> li:has(a)").not(".ui-tabs-paging-prev,.ui-tabs-paging-next").addClass("ui-state-default").attr({role:"tab",tabIndex:-1}),this.unfixTabs=this.tabs.not(".ui-state-fixed"),this._visibleTabs=this.tabs.filter(function(a,b){return!$(b).hasClass("ui-tabs-hidden")}),this._unfixVisibleTabs=this._visibleTabs.not(".ui-state-fixed"),this.anchors=this.tabs.map(function(){return $("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=$(),this.anchors.each(function(b,c){var d,e,f,g=$(c).uniqueId().attr("id"),h=$(c).closest("li"),i=h.attr("aria-controls");a._isLocal(c)?(d=c.hash,f=d.substring(1),e=a.element.find(a._sanitizeSelector(d))):(e=a.element.children().siblings("div:eq("+b+")"),f=e.attr("id"),f||(f=h.attr("aria-controls")||$({}).uniqueId()[0].id,e.attr("id",f)),d="#"+f,$(c).attr("href",d),e.attr("aria-live","polite")),e.length&&(a.panels=a.panels.add(e)),i&&h.data("ui-tabs-aria-controls",i),h.attr({"aria-controls":f,"aria-labelledby":g}),e.attr("aria-labelledby",g)}),this.panels.addClass("ui-tabs-panel").attr("role","tabpanel"),b&&(this._off(b.not(this.tabs)),this._off(c.not(this.anchors)),this._off(d.not(this.panels))),this.options.fixedHeight&&this.panels.addClass("ui-tabs-panel-absolute")},_getList:function(){return this.tablist||this.element.children("ol,ul").eq(0)},_setupDisabled:function(a){$.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var b,c=0;b=this.tabs[c];c++)!0===a||-1!==$.inArray(c,a)?$(b).addClass("ui-tabs-disabled").attr("aria-disabled","true"):$(b).removeClass("ui-tabs-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var b={};a&&$.each(a.split(" "),function(a,c){b[c]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(a){a.preventDefault()}}),this._on(this.anchors,b),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(a){var b,c=this.element.parent();"fill"===a?(b=c.height(),b-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var a=$(this),c=a.css("position");"absolute"!==c&&"fixed"!==c&&(b-=a.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){b-=$(this).outerHeight(!0)}),this.panels.each(function(){$(this).height(Math.max(0,b-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===a&&(b=0,this.panels.each(function(){b=Math.max(b,$(this).height("").height())}).height(b))},_eventHandler:function(a,b){var c=this.options,d=this.active,e=$(a.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?$():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):$(),k={oldTab:d,oldPanel:j,newTab:h?$():f,newPanel:i};a.preventDefault(),f.hasClass("ui-tabs-disabled")||this.running||g&&!c.collapsible||!1===this._trigger("beforeActivate",a,k)||(c.active=!h&&this.tabs.index(f),this.active=g?$():f,j.length||i.length||$.error("jQuery UI Tabs: Mismatching fragment identifier."),this._toggle(a,k,b))},_triggerPagePoint:function(a){this._pagePoint(a)},_getPagePointInfo:function(a){var b={},c=Array.prototype.slice;if(a){var d=a.find("a");d.length>0&&d[0].childNodes&&c.call(d[0].childNodes).forEach(function(a){"#text"===a.nodeName&&(b.tabText=a.nodeValue)}),b.panelId=a.attr("aria-controls")}return b},_toggle:function(a,b,c){function d(){f.running=!1,f.options.activateOnce&&!0===g.data("loaded")||(f._trigger("activate",a,b),f._triggerPagePoint({eventType:"change",origValue:f._getPagePointInfo(b.oldTab),value:f._getPagePointInfo(b.newTab)}),g.data("loaded",!0)),fish.resize(f.element)}function e(){b.newTab.closest("li").addClass("ui-tabs-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.removeClass("ui-tabs-hide"),d())}var f=this,g=b.newPanel,h=b.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active"),e()}):(b.oldTab.closest("li").removeClass("ui-tabs-active"),h.addClass("ui-tabs-hide"),e()),h.attr("aria-hidden","true"),b.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&h.length?b.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false"),b.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(a,b){var c,d=this._findActive(a);if(d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:$.noop},b),this.options.paging)){var e=this,f=e.options.currentPage,g=e.options.pages,h=a;h>=this.fixCount&&(h-=this.fixCount);for(var i in g){var j=g[i].start,k=g[i].end;if(h>=j&&h<k){i!=f&&(e._unfixVisibleTabs.hide().slice(j,k).show(),e._delay(function(){e.active.focus()}),f=parseInt(i),0==f?(e._enableButton("next"),!e.options.cycle&&j<=0&&e._disableButton("prev")):(e._enableButton("prev"),!e.options.cycle&&k>=e.tabs.length&&e._disableButton("next")));break}}e.options.currentPage=f}},_findActive:function(a){return!1===a?$():this.tabs.eq(a)},_getIndex:function(a){return("string"!=typeof a||-1!==(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))))&&a},_resize:function(){this.lastTablistWidth!=this.tablist.width()&&(this.lastTablistWidth=this.tablist.width(),this._paging())},_destroy:function(){this.element.removeClass("ui-tabs ui-tabs-collapsible").removeClass("ui-tabs-left ui-tabs-right"),this.tablist.removeClass("ui-tabs-nav").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){$.data(this,"ui-tabs-destroy")?$(this).remove():$(this).removeClass("ui-tabs-hidden ui-tabs-disabled ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var a=$(this),b=a.data("ui-tabs-aria-controls");b?a.attr("aria-controls",b).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")}),this.panels.removeClass("ui-tabs-hide"),"content"!==this.options.heightStyle&&this.panels.css("height",""),this.options.autoResizable&&this.options.paging&&fish.offResize(this._resizeHandler)},_getPanelForTab:function(a){var b=$(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})}(),function(){"use strict";$.widget("ui.tabs",$.ui.tabs,{options:{canClose:!1,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>",tabCanCloseTemplate:"<li><a href='#{href}'><button type='button' class='ui-tabs-close close' role='button'><span aria-hidden='true' title='close'>&times;<span class='sr-only'>Close</span></span></button>#{label}</a></li>",panelTemplate:"<div></div>"},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_createPanel:function(a){return $(this.options.panelTemplate).attr("id",a)},add:function(a){a=a||{};var b=a.index,c=a.id,d=a.label;if(b===undefined&&(b=this.anchors.length),!(b<this.fixCount)){c=c||$({}).uniqueId()[0].id,d=d||c,this.options.paging&&this._pageReset();var e,f,g=this.options,h=$((g.canClose?g.tabCanCloseTemplate:g.tabTemplate).replace(/#\{href\}/g,"#"+c).replace(/#\{label\}/g,fish.escape(d)));return e=b>=this.tabs.length,(f=this.element.find("#"+c),f.length)?(this._activate(this._getIndex(c),!1),this):(f=this._createPanel(c),f.append(a.content),e?b>0?f.insertAfter(this.panels.eq(-1)):f.appendTo(this.element):f.insertBefore(this.panels[b]),f.addClass("ui-tabs-hide"),e?h.appendTo(this.tablist):h.insertBefore(this.tabs[b]),g.disabled=$.map(g.disabled,function(a){return a>=b?++a:a}),this.refresh(),1===this.tabs.length&&!1===g.active&&this._activate(0,!1),!0===a.active&&this._activate(b,!1),"bottom"==g.placement&&1===this.tabs.length&&this.element.append(this.tablist),this._trigger("add",null,this._ui(this.anchors[b],this.panels[b])),this._triggerPagePoint({eventType:"add",value:this._getPagePointInfo($(this.tabs[b]))}),this)}},remove:function(a){if(!1===(a=this._getIndex(a))||a<this.fixCount)return this;this.options.paging&&this._pageReset();var b=this.options,c=this.tabs.eq(a),d=this._getPanelForTab(c),e=this;this._triggerAsync("beforeRemove",null,this._ui(c,d)).then(function(f){if(f)return c.remove(),d.remove(),c.hasClass("ui-tabs-active")&&e.anchors.length>2&&e._activate(a+(a+1<e.anchors.length?1:-1)),b.disabled=$.map($.grep(b.disabled,function(b){return b!==a}),function(b){return b>=a?--b:b}),e.refresh(),e._trigger("remove",null,e._ui(c.find("a")[0],d[0])),e._triggerPagePoint({eventType:"remove",value:e._getPagePointInfo(c)}),e})},hideTab:function(a){if(!1===(a=this._getIndex(a))||a<this.fixCount)return this;this.options.paging&&this._pageReset();var b=this.options,c=this.tabs.eq(a),d=this._getPanelForTab(c);return!1!==this._trigger("beforeHide",null,this._ui(c,d))?(c.hide(),d.addClass("ui-tabs-hide"),c.hasClass("ui-tabs-active")&&this._visibleTabs.length>1&&this.anchors.length>2&&this._activate(a+(a+1<this.anchors.length?1:-1)),c.removeClass("ui-tabs-active"),c.addClass("ui-tabs-hidden"),b.disabled=$.map($.grep(b.disabled,function(b){return b!==a}),function(b){return b>=a?--b:b}),this.refresh(),this._trigger("hide",null,this._ui(c.find("a")[0],d[0])),this):void 0},showTab:function(a,b){if(this.options.paging&&this._pageReset(),!1===(a=this._getIndex(a)))return this;var c=this.options,d=this.tabs.eq(a),e=this._getPanelForTab(d);return!1!==this._trigger("beforeShow",null,this._ui(d,e))?(d.removeClass("ui-tabs-hidden"),d.show(),e.removeClass("ui-tabs-hide"),b&&(d.addClass("ui-tabs-active"),this._activate(a)),c.disabled=$.map($.grep(c.disabled,function(b){return b!==a}),function(b){return b>=a?--b:b}),this.refresh(),this._trigger("show",null,this._ui(d.find("a")[0],e[0])),this):void 0},getAllTabs:function(a,b){!0!==a&&(a=!1),!0!==b&&(b=!1);var c=this.tabs,d=[];return c.each(function(a,b){var c=$(this);d.push(c)}),a||$.each(d,function(a,b){$(b).hasClass("ui-tabs-hidden")&&(d[a]=null)}),b||$.each(d,function(a,b){$(b).hasClass("ui-tabs-disabled")&&(d[a]=null)}),d=fish.compact(d)},getFixTabs:function(){var a=this.tabs.not(this.unfixTabs),b=[];return a.each(function(a,c){var d=$(this);b.push(d)}),b},enable:function(a){var b=this.options.disabled;if(!1!==b){if(a===undefined)b=!1;else{if(!1===(a=this._getIndex(a)))return;b=$.isArray(b)?$.map(b,function(b){return b!==a?b:null}):$.map(this.tabs,function(b,c){return c!==a?c:null})}this._setupDisabled(b)}},disable:function(a){var b=this.options.disabled;if(!0!==b){if(a===undefined)b=!0;else{if(!1===(a=this._getIndex(a))||a<this.fixCount)return;if(-1!==$.inArray(a,b))return;b=$.isArray(b)?$.merge([a],b).sort():[a]}this._setupDisabled(b)}},update:function(a,b){if(!1===(a=this._getIndex(a)))return this;var c=this.tabs.eq(a),d=c.find(">a>span");if(d.length||(d=c.find(">a")),b.label){var e=a<this.fixCount?b.label.substr(0,this.options.fixTabWidth):b.label;if(d.find(".close").length>0){var f=d.find(".close");d.text(e).prepend(f)}else d.text(e);a<this.fixCount&&c.attr("title",b.label)}if(b.cssprop!==undefined&&("string"==typeof b.cssprop?d.addClass(b.cssprop):"object"==typeof b.cssprop&&d.css(b.cssprop)),!fish.isUndefined(b.canClose)&&!c.hasClass("ui-state-fixed")){var g=c.find("button.close");if(b.canClose){if(!g.length){var f=$(this.options.tabCanCloseTemplate).find("button.close");c.find("a").append(f),this._bindCloseEvent()}}else g.remove()}return this},setPosition:function(a,b){if(!1===(a=this._getIndex(a))||a<this.fixCount)return this;if(!1===(b=this._getIndex(b))||b<this.fixCount)return this;b>=this.anchors.length&&(b=this.anchors.length-1);var c=$(this.anchors[a]).parent();return b<a?$(this.anchors[b]).parent().before(c):$(this.anchors[b]).parent().after(c),this.refresh(),this},fixTab:function(a){if(!1===(a=this._getIndex(a))||this.fixCount===this.options.fixTabCount||a<this.fixCount)return this;var b=$(this.anchors[a]).parent();if(this.update(a,{canClose:!1}),b.addClass("ui-state-fixed"),b.children().text()){var c=b.children().text();b.children().text(c.substr(0,this.options.fixTabWidth)),b.attr("title",c)}return this.unfixTabs.eq(0).before(b),this.fixCount++,this.refresh(),this},unfixTab:function(a){if(!1===(a=this._getIndex(a))||0===this.fixCount||a>=this.fixCount)return this;var b=$(this.anchors[a]).parent();if(b.removeClass("ui-state-fixed"),b.attr("title")){var c=b.attr("title");b.children().text(c),b.removeAttr("title")}return this.options.canClose&&this.update(a,{canClose:!0}),this.unfixTabs.eq(0).before(b),this.fixCount--,this.refresh(),this},_bindCloseEvent:function(a){var b=this;b.hasBindCloseEvent||(this.element.on("click","button.ui-tabs-close",function(a){var c=b.tabs.index($(this).closest("li"));b.remove(c),a.preventDefault(),a.stopPropagation()}),b.hasBindCloseEvent=!0)}})}(),function(){"use strict";$.widget("ui.tabs",$.ui.tabs,{_disableButton:function(a){$(".ui-tabs-paging-"+a,this.tablist).addClass("ui-tabs-paging-disabled")},_enableButton:function(a){$(".ui-tabs-paging-"+a,this.tablist).removeClass("ui-tabs-paging-disabled")},_pageReset:function(){$(".ui-tabs-paging-next",this.tablist).remove(),$(".ui-tabs-paging-prev",this.tablist).remove(),this._visibleTabs.show()},_paging:function(){var a={tabsPerPage:0,nextButton:"&#187;",prevButton:"&#171;",follow:!0,cycle:!1};a=$.extend(a,this.options.paging)
;var b,c=this;c._pageReset();var d=0,e=0,f=0,g=0,h=[],i=[],j=[],k=[],l=[],m=0,n=this.options.active;b=c.tablist.width();var o=0;c.tablist.children(".ui-state-fixed").each(function(a){a==n?(l[a]=$(this).outerWidth(!0),k[a]=c.tablist.children(".ui-state-fixed").eq(a).removeClass("ui-tabs-selected").outerWidth(!0),c.tablist.children(".ui-state-fixed").eq(a).addClass("ui-tabs-selected"),o=Math.min(o,Math.abs(l[a]-k[a])),m+=k[a],n=null):(k[a]=$(this).outerWidth(!0),l[a]=c.tablist.children(".ui-state-fixed").eq(a).addClass("ui-tabs-selected").outerWidth(!0),c.tablist.children(".ui-state-fixed").removeClass("ui-tabs-selected"),o=Math.max(o,Math.abs(l[a]-k[a])),m+=k[a])}),n>=this.fixCount&&(n-=this.fixCount);var p=0;if(c._unfixVisibleTabs.each(function(a){a==n?(j[a]=$(this).outerWidth(!0),i[a]=c.unfixTabs.eq(a).removeClass("ui-tabs-selected").outerWidth(!0),c.unfixTabs.eq(a).addClass("ui-tabs-selected"),p=Math.min(p,Math.abs(j[a]-i[a])),d+=i[a]):(i[a]=$(this).outerWidth(!0),j[a]=c.unfixTabs.eq(a).addClass("ui-tabs-selected").outerWidth(!0),c.unfixTabs.eq(a).removeClass("ui-tabs-selected"),p=Math.max(p,Math.abs(j[a]-i[a])),d+=i[a])}),d>b-m){var q=$("<li></li>").addClass("ui-tabs-paging-next").append($('<a href="#"></a>').click(function(){return!$(this).closest("li").hasClass("ui-tabs-paging-disabled")&&(c._page("next"),!1)}).html(a.nextButton));c.tabs.eq(c.tabs.length-1).after(q),g=q.outerWidth(!0),q=$("<li></li>").addClass("ui-tabs-paging-prev").append($('<a href="#"></a>').click(function(){return!$(this).closest("li").hasClass("ui-tabs-paging-disabled")&&(c._page("prev"),!1)}).html(a.prevButton)),c.tabs.eq(this.fixCount).before(q),g+=q.outerWidth(!0);for(var r=0,s=0,t=0,u=0;u<i.length;u++)(0==s||j[u]-i[u]>t)&&(t=j[u]-i[u]),null==h[r]?h[r]={start:u}:(u>0&&u%a.tabsPerPage==0||i[u]+s+g>b-m)&&(s+t>f&&(f=s+t),r++,h[r]={start:u},s=0),h[r].end=u+1,s+=i[u],u==n&&(e=r);s+t>f&&(f=s+t),c._unfixVisibleTabs.hide().slice(h[e].start,h[e].end).show(),e!=h.length-1||a.cycle||c._disableButton("next"),0!=e||a.cycle||c._disableButton("prev")}c.options.currentPage=e,c.options.pages=h,c.options.cycle=a.cycle,c.options.follow=a.follow},_page:function(a){var b=this,c=b.options.currentPage,d=b.options.pages,e=this.options.active;e>=this.fixCount&&(e-=this.fixCount),c+="prev"==a?-1:1,"prev"==a&&c<0&&b.options.cycle||"next"==a&&c>=d.length&&!b.options.cycle?c=d.length-1:("prev"==a&&c<0||"next"==a&&c>=d.length&&b.options.cycle)&&(c=0);var f=d[c].start,g=d[c].end;b._unfixVisibleTabs.hide().slice(f,g).show(),"prev"==a?(b._enableButton("next"),b.options.follow&&(e<f||e>g-1)&&b._activate(this.fixCount+g-1),!b.options.cycle&&f<=0&&b._disableButton("prev")):(b._enableButton("prev"),b.options.follow&&(e<f||e>g-1)&&b._activate(this.fixCount+f),!b.options.cycle&&g>=b.tabs.length&&b._disableButton("next")),b.options.currentPage=c}})}(),function(){function a(a){b||(b=$('<div class="alert-toast"></div>').appendTo(document.body)),b.append(a)}var b,c=fish.compile('\n            <div class="alert {{type}} alert-dismissible fade in" role="alert">\n                <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                </button>\n                {{message}}\n            </div>');$.widget("ui.toast",{options:{duration:2e3,autoClose:!1},_create:function(){this._on({'click [data-dismiss="alert"]':"close"}),this.options.autoClose&&(this.timer=setTimeout($.proxy(this.close,this),this.options.duration))},close:function(a){function b(){c.remove()}var c=this.element;this.timer&&clearTimeout(this.timer),a&&a.preventDefault(),c.removeClass("in"),$.support.transition&&c.hasClass("fade")?c.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}}),fish.toast=function(b,d){"warn"===b?b="warning":"error"===b&&(b="danger"),a($(c({type:"alert-"+b,message:d})).toast({autoClose:"danger"!==b}))},fish.showToast=fish.toast}(),function(){"use strict";function a(c,d){var e=d?!0===d?this:d:a.prototype;if(_.isObject(c))for(var f in c)e[f]=b(c[f])}function b(a){switch($.type(a)){case"function":return a;case"array":return function(b){return a[0].test(b.value)||a[1]||!1};case"regexp":return function(b){return a.test(b.value)}}}function c(a,b){var d=b?!0===b?this:b:c.prototype;if(_.isObject(a))for(var e in a){if(!a[e])return;d[e]=a[e]}}function d(a){var b=encodeURIComponent(a).match(/%[89ABab]/g);return a.length+(b?b.length:0)}function e(a){var b="";return $.map(a.split(" "),function(a){b+=","+("#"===a.charAt(0)?a:'[name="'+a+'"]')}),b.substring(1)}function f(a){var b;if(a&&a.tagName){switch(a.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":b=a.form||$(a).closest(".ui-validator");break;case"FORM":b=a;break;default:b=$(a).closest(".ui-validator")}return $(b).data("ui-validator")||$(b).validator().data("ui-validator")}}function g(a,c){var d=$.trim($(a).attr("data-rule-"+c));if(d)return d=new Function("return "+d)(),d?b(d):void 0}function h(a,b,c,d){var e=b.msg,f=b._r,g=$(a);return _.isObject(e)&&(e=e[f]),_.isString(e)||(e=g.attr("data-msg-"+f)||g.attr("data-msg")||c||(d?_.isString(d)?d:d[f]:"")),e}function i(a){return"INPUT"===a.tagName&&("checkbox"===a.type||"radio"===a.type)}new a({required:function(a,b){var c=$.trim(a.value),d=!0;if(b)if(1===b.length){if(!c&&!this.test(a,b[0]))return $(a).attr("aria-required",null),null;$(a).attr("aria-required",!0)}else"not"===b[0]&&$.map(b.slice(1),function(a){c===$.trim(a)&&(d=!1)});return d&&!!c},digits:function(a){var b=$.trim(a.value);return!isNaN(b)||this.messages.digits},integer:function(a,b){var c,d="0|",e="[1-9]\\d*",f=b?b[0]:"*";switch(f){case"+":c=e;break;case"-":c="-"+e;break;case"+0":c=d+e;break;case"-0":c="0|-"+e;break;default:c="0|-?"+e}return c="^(?:"+c+")$",new RegExp(c).test(a.value)||this.messages.integer[f]},"float":function(a,b){var c,d=b?b[0]:"*";switch(d){case"+":c=/^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$/;break;case"+0":c=/^\d+(\.\d+)?$/;break;case"-":c=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;break;case"-0":c=/^((-\d+(\.\d+)?)|(0+(\.0+)?))$/;break;default:c=/^(-?\d+)(\.\d+)?$/}return c.test(a.value)||this.messages["float"][d]},match:function(a,b,c){if(b){var d,e,f,g,h,i,j,k=this,l="eq",m=!1;if(1===b.length?f=b[0]:(l=b[0],f=b[1]),h="#"===f.charAt(0)?f:':input[name="'+f+'"]',i=k.element.find(h)[0]){if(j=k.getField(i),"date"===b[2]||"datetime"===b[2]?(d=$(a).datetimepicker("value"),e=$(i).datetimepicker("value"),m=!0):(d=a.value,e=i.value),c._match||(k.element.on("valid.field",h,function(){$(a).trigger("validate")}),c._match=j._match=1),""===d||""===e)return null;switch(isNaN(d)||isNaN(e)||(d=+d,e=+e),g=m?k.messages.match["date"+l]||k.messages.match[l]:k.messages.match[l],g=g.replace("{1}",k._getDisplay(a,j.display||f)),l){case"lt":return d<e||g;case"lte":return d<=e||g;case"gte":return d>=e||g;case"gt":return d>e||g;case"neq":return d!==e||g;default:return d===e||g}}}},range:function(a,b){return this.getRangeMsg(+a.value,b,"range")},checked:function(a,b,c){if(i(a)){var d,e,f=this;return e=f.element.find('input[name="'+a.name+'"]').filter(function(){var a=this;return!d&&i(a)&&(d=a),!a.disabled&&a.checked&&$(a).is(":visible")}).length,b?f.getRangeMsg(e,b,"checked"):!!e||h(d,c,"")||f.messages.required}},length:function(a,b){var c=a.value,e=d(c);return this.getRangeMsg(e,b,"length",b[1]?"_2":"")},filter:function(a,b){a.value=a.value.replace(b?new RegExp("["+b[0]+"]","gm"):/<|>/g,"")}}),$.expr[":"].verifiable=function(a){var b=a.nodeName.toLowerCase(),c=!fish.isUndefined($(a).attr("data-rule-ignore"));return("input"===b&&!{submit:1,button:1,reset:1,image:1}[a.type]||"select"===b||"textarea"===b)&&!c},$.widget("ui.validator",{options:{stopOnError:!1,timely:1,ignore:"",focusCleanup:!0,focusInvalid:!1,placement:"top-left",display:"",messages:{},rules:{},fields:{},groups:[],invalid:null,valid:$.noop,hideMessage:!1},_create:function(){var a=this;this.element.is("form")?this.element.attr("novalidate","novalidate"):this.element.addClass("ui-validator"),this.elements={},this.errors={},this.fields={},this.deferred={},this.allDeferred={},a.msgOpt={type:"error",pos:"bottom"},this._on({"focusin :verifiable":"_focusin","click :verifiable":"_focusin","focusout :verifiable":"_focusout","validate :verifiable":"_focusout"}),this.options.timely>=2&&this._on({"keyup :verifiable":"_focusout","paste :verifiable":"_focusout","click :radio,:checkbox":"_focusout",'change select,input[type="file"]':"_focusout"})},_init:function(){var b=this;this.rules=new a(this.options.rules,!0),this.messages=new c(this.options.messages,!0),this._initFields(this.options.fields),$.isArray(this.options.groups)&&$.map(this.options.groups,function(a){if(!_.isString(a.fields)||!$.isFunction(a.callback))return null;a.$elems=b.element.find(e(a.fields)),$.map(a.fields.split(" "),function(c){b.fields[c]=b.fields[c]||{},b.fields[c].group=a})})},_setOption:function(a,b){var c=this;"fields"===a&&(c.fields=[],c._initFields(b),$.each(c.elements,function(a,b){c._resetElement(b,!0)})),this._super(a,b)},_initFields:function(a){var b=this;this._processFields(a),b.element.find(":verifiable").each(function(){b._parse(this)})},_processFields:function(a){var b=this;b.element.off("valid.field").off("invalid.field"),_.isObject(a)&&$.each(a,function(a,c){if(null===c){var d=b.elements[a];d&&b._resetElement(d,!0),delete b.fields[a]}else b.fields[a]=_.isString(c)?{rule:c}:c})},_parse:function(a){var b,c=this,d=$(a),e=a.name,f=d.attr("data-rule");f&&d.attr("data-rule",null),!a.name&&(a.id||"#"+a.id in c.fields)&&(e="#"+a.id),e&&(b=c.fields[e]||{},b.key=e,b.rule=b.rule||f||"",b.rule&&(b.rule.match(/checked/)&&(b.must=!0),-1!==b.rule.indexOf("required")&&(b.required=!0,d.attr("aria-required",!0)),("timely"in b&&!b.timely||!c.options.timely)&&d.attr("notimely",!0),_.isString(b.target)&&d.attr("data-target",b.target),_.isString(b.tip)&&d.attr("data-tip",b.tip),c.fields[e]=c._parseRule(b)))},_parseRule:function(a){var b=/(?:([^:;]*):)?(.*)/.exec(a.rule),c=this.options;if(b)return a._i=0,b[1]&&(a.display=b[1]),!a.display&&c.display&&(a.display=c.display),b[2]&&(a.rules=[],b[2].replace(/(!?)\s?(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||&)?/g,function(){var b=arguments;b[3]=b[3]||b[4],a.rules.push({not:"!"===b[1],method:b[2],params:b[3]?b[3].split(/,\s*/):undefined,or:"|"===b[5]})})),a},_multiValidate:function(a,b){var c,d=this,e=d.options;d.hasError=!1,d.allDeferred={};var f=$.Deferred();if(e.ignore&&(a=a.not(e.ignore)),a.each(function(a,b){if(d.getField(b)&&(i(b)&&(b=d.element.find('input[name="'+b.name+'"]')[0]),d._validate(b),d.hasError&&e.stopOnError))return!1}),c=!d.hasError,!$.isEmptyObject(d.allDeferred)){if(!c)return f.reject(),f;f.resolve()}return $.when.apply(null,$.map(d.deferred,function(a){return a})).done(function(){b.call(d,c)}),$.isEmptyObject(d.allDeferred)?c:$.when.apply(null,$.merge($.map(d.allDeferred,function(a){return a}),[f]))},_reset:function(a){var b=this;b.errors={},a&&b.element.find(":verifiable").each(function(a,c){b._resetElement(c)})},_resetElement:function(a,b){var c=$(a);if(c.removeClass("n-valid").removeClass("n-invalid"),i(a)){var d=$(a).parent().parent();$(a).data("ui-icheck")&&(d=d.parent()),d.removeClass("has-error")}else c.parent().removeClass("has-error");this.hideMsg(a),b&&c.attr("aria-required",null)},_focusin:function(a){var b=this,c=b.options,d=a.target,e=$(d);"error"===e.attr("data-inputstatus")&&c.focusCleanup&&e.removeClass("n-invalid")},_focusout:function(a){var b,c,d=this,e=d.options,f=a.target,g=$(a.target),h=a.type,j={click:1,change:1,paste:1},k=0;if(!j[h]){if("validate"===h)c=!0;else{if(g.attr("notimely"))return;if(e.timely>=2&&"keyup"!==h)return}if(e.ignore&&g.is(e.ignore))return;if("keyup"===h){var l=a.keyCode,m={8:1,9:1,16:1,32:1,46:1};if(9===l&&!f.value)return;if(l<48&&!m[l])return;k=e.timely>=100?e.timely:500}}(b=d.getField(f))&&(i(f)&&(f=d.element.find('input[name="'+f.name+'"]')[0]),k?(b._t&&clearTimeout(b._t),b._t=setTimeout(function(){d._validate(f,b,c)},k)):b.group&&b.group.$elems&&b.group.$elems.length>0?b.group.$elems.each(function(a,b){var c=d.getField(b);if(c&&(i(b)&&(b=d.element.find('input[name="'+b.name+'"]')[0]),d._validate(b,c),d.hasError&&e.stopOnError))return!1}):d._validate(f,b,c))},_validatedField:function(a,b,c){var d=this,e=c.isValid=b.isValid=!!c.isValid,f=e?"valid":"invalid";if(c.key=b.key,c.rule=b._r,e?(c.type="ok",delete d.errors[b.key]):(d.errors[b.key]=c.msg,d.isValid=!1,d.hasError=!0),d.elements[b.key]=c.element=a,$.isFunction(b[f])&&b[f].call(d,a,c),$(a).attr("aria-invalid",!e||null).removeClass(e?"n-invalid":"n-valid").addClass(c.skip?"":e?"n-valid":"n-invalid").trigger(f+".field",[c,d]),i(a)){var g=$(a).parent().parent();$(a).data("ui-icheck")&&(g=g.parent()),g.toggleClass("has-error",!e)}else $(a).parent().toggleClass("has-error",!e);d._trigger("validation",null,[c,d]),d.options.hideMessage||d[c.msg?"showMsg":"hideMsg"](a,c,b)},_validatedRule:function(a,b,c,d){var e,f,g,i=this,j=b._r,k=!1;if(b=b||i.getField(a),d=d||{},null===c)return i._validatedField(a,b,{isValid:!0,skip:!0}),void(b._i=0);if(!0===c||c===undefined||""===c?k=!0:_.isString(c)?e=c:_.isObject(c)&&(c.error?e=c.error:(e=c.ok,k=!0)),b.rules&&(f=b.rules[b._i],f.not&&(e=undefined,k="required"===j||!k),f.or))if(k)for(;b._i<b.rules.length&&b.rules[b._i].or;)b._i++;else g=!0;g||(k?(d.isValid=k,$(a).trigger("valid.rule",[j,d.msg])):(d.msg=(h(a,b,e,i.messages[j])||i.messages.defaultMsg).replace("{0}",i._getDisplay(a,b.display||"")),$(a).trigger("invalid.rule",[j,d.msg]))),g||k&&b._i<b.rules.length-1?(b._i++,i._checkRule(a,b)):(b._i=0,i._validatedField(a,b,d))},_checkRule:function(a,b){var c,d=this,e=b.key,f=b.rules[b._i],h=f.method,i=f.params;b._r=h,c=(g(a,h)||d.rules[h]||$.noop).call(d,a,i,b),_.isObject(c)&&_.isFunction(c.then)?(d.deferred[e]=c,d.allDeferred[b._r+":"+h]=c,c.always(function(c){d._validatedRule(a,b,c),delete d.deferred[e]})):d._validatedRule(a,b,c)},_validate:function(a,b){if(!a.disabled){var c=this;if(b=b||c.getField(a)){if(b.ignore)return void c._resetElement(a,!0);var d,e={},f=b.group,g=b.isValid=!0;if(b.rules||c._parse(a),f&&(d=f.callback.call(c,f.$elems))!==undefined)if(c.hideMsg(f.target,{},b),!0===d){if(d=undefined,!b.rule)return void c._validatedField(a,b,{isValid:!0})}else b._i=0,b._r="group",g=!1,c.hideMsg(a,{},b),$.extend(e,f);if(g&&!b.required&&!b.must&&!a.value&&!i(a))return void c._validatedField(a,b,{isValid:!0});d!==undefined?c._validatedRule(a,b,d,e):b.rule&&c._checkRule(a,b)}}},getField:function(a){var b,c=this;if(!a.name&&(a.id||"#"+a.id in c.fields)?b="#"+a.id:a.name&&(b=a.name),b)return $(a).attr("data-rule")&&c._parse(a),c.fields[b]},test:function(a,b){var c,d,e,f=this,g=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/.exec(b);return g&&(d=g[1])in f.rules&&(e=g[2]||g[3],e=e?e.split(", "):undefined,c=f.rules[d].call(f,a,e)),!0===c||c===undefined||null===c},getRangeMsg:function(a,b,c,d){if(b){var e=this,f=e.messages[c+"["+b+"]"]||e.messages[c]||"",g=b[0].split("~"),h=g[0],i=g[1],j="rg",k=[""],l=+a==+a;if(2===g.length){if(h&&i){if(l&&a>=+h&&a<=+i)return!0;k=k.concat(g)}else if(h&&!i){if(l&&a>=+h)return!0;k.push(h),j="gte"}else if(!h&&i){if(l&&a<=+i)return!0;k.push(i),j="lte"}}else{if(a===+h)return!0;k.push(h),j="eq"}return f&&(d&&f[j+d]&&(j+=d),k[0]=f[j]||f),e.renderMsg.apply(null,k)}},renderMsg:function(){var a=arguments,b=a[0],c=a.length;if(b){for(;--c;)b=b.replace("{"+c+"}",a[c]);return b}},_getDisplay:function(a,b){return _.isString(b)?b:$.isFunction(b)?b.call(this,a):""},_getMsgOpt:function(a){return $.extend({},this.msgOpt,_.isString(a)?{msg:a}:a)},showMsg:function(a,b,c){var d,e=this,f=$(a);b=e._getMsgOpt(b),b.msg&&f.is(":verifiable")&&(f.attr("data-inputstatus",b.type),f.data("ui-multiselect")?f=$(f.data("ui-multiselect").container[0]):f.data("ui-combobox")?f=$(f.data("ui-combobox").$container[0]):f.data("ui-currencybox")?f=$(f.data("ui-currencybox").$container[0]):f.data("ui-combotree")?f=$(f.data("ui-combotree").comboTree.$container[0]):f.data("ui-combogrid")&&(f=$(f.data("ui-combogrid").comboGrid.$container[0])),d=f.data("ui-tooltip"),d?(d.enable(),d.options.title=b.msg):f.tooltip({placement:e.options.placement,template:'<div class="tooltip invalid" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:b.msg}))},hideMsg:function(a){var b=$(a);b.is(":verifiable")&&(b.attr("data-inputstatus",null),b.attr("aria-invalid",null),b.data("ui-multiselect")?b=$(b.data("ui-multiselect").container[0]):b.data("ui-combobox")?b=$(b.data("ui-combobox").$container[0]):b.data("ui-currencybox")?b=$(b.data("ui-currencybox").$container[0]):b.data("ui-combotree")?b=$(b.data("ui-combotree").comboTree.$container[0]):b.data("ui-combogrid")&&(b=$(b.data("ui-combogrid").comboGrid.$container[0])),b.data("ui-tooltip")&&b.tooltip("hide").tooltip("disable"))},setField:function(a,b){var c={};_.isString(a)?c[a]=b:_.isObject(a)&&(c=a),this._processFields(c)},cleanUp:function(){this._reset(1)},setIgnoreField:function(a,b){var c=this,d=a.split(",");fish.isEmpty(d)||$.each(d,function(a,d){fish.isUndefined(c.fields[d])||(c.fields[d].ignore=b)})}}),$.fn.isValid=function(a){var b,c,d=f(this[0]);if(!d)return!0;var e=d.getField(this[0]);return"combobox"===this[0].getAttribute("data-ui-role")&&e&&e.group&&(c=e.group.$elems),b=d.options,!0===a&&(b.hideMessage=a),d._multiValidate(this.is(":input:not([data-rule-ignore])")?c||this:this.find(":verifiable"),function(a){a||(b.focusInvalid&&!b.hideMessage&&d.element.find(':input[aria-invalid="true"]:first').focus(),$.isFunction(b.invalid)&&b.invalid.call(d,d.errors))})},$.fn.resetValid=function(){var a=f(this[0]);if(!a)return!0;a._reset(!0)},$.fn.resetElement=function(){var a=f(this[0]);if(!a)return!0;a._resetElement(this)},$.ui.validator.addRule=function(d,e,f){a.prototype[d]=b(f),c.prototype[d]=e},new a(fish.getResource("validator.rules")),new c(fish.getResource("validator.msg")),fish.addLangListener(function(){new a(fish.getResource("validator.rules")),new c(fish.getResource("validator.msg"))})}(),function(){$.widget("ui.panel",{options:{title:"",collapsible:!1,collapse:!1,collapsedBtnIcon:"glyphicon glyphicon-triangle-top",expandBtnIcon:"glyphicon glyphicon-triangle-bottom",canClose:!1,headingButton:[],slideUp:$.noop,slideDown:$.noop,beforeClose:$.noop,close:$.noop},_create:function(){this._createUI(),this._bindEvent()},_createUI:function(){var a=this.element;this.$heading=a.find(">.panel-heading"),this.$title=this.$heading.find(">.panel-title"),a.find(">.panel-heading>.panel-heading-button").length||this.$heading.append('<div class="panel-heading-button pull-right"></div>'),this.$headingButton=a.find(">.panel-heading>.panel-heading-button"),this._customHeadingButton(),this.options.collapsible&&this.$headingButton.append('<span class="'+(this.options.collapse?this.options.expandBtnIcon:this.options.collapsedBtnIcon)+' toggle"></span>'),this.options.canClose&&this.$headingButton.append('<span class="glyphicon glyphicon-remove remove"></span>'),this.options.collapse&&(a.addClass("panel-close"),a.find(">.panel-body").hide())},setTitle:function(a){this.options.title=a,this.$title.html(a)},toggle:function(a){this.element.hasClass("panel-close")?this.expand(a):this.collapse(a)},expand:function(a){this._slide(a,"down")},collapse:function(a){this._slide(a,"up")},_slide:function(a,b){var c=this,d=this.element,e=d.find(">.panel-body"),f=this.$headingButton.find(".toggle");this._animation||("up"!==b||d.hasClass("panel-close")?"down"===b&&d.hasClass("panel-close")&&(c._animation=!0,e.slideDown(200,function(){f.removeClass(c.options.expandBtnIcon).addClass(c.options.collapsedBtnIcon),d.removeClass("panel-close"),c._trigger("slideDown",a,{$el:d}),c._animation=!1})):(c._animation=!0,e.slideUp(200,function(){f.removeClass(c.options.collapsedBtnIcon).addClass(c.options.expandBtnIcon),d.addClass("panel-close"),c._trigger("slideUp",a,{$el:d}),c._animation=!1})))},close:function(a){!1!==this._trigger("beforeClose",a)&&(this.destroy(),this.element.remove(),this._trigger("close",a))},_customHeadingButton:function(){if(!fish.isEmpty(this.options.headingButton)){var a=this;fish.each(this.options.headingButton,function(b){var c=$('<span title="'+(b.title||"")+'" id="'+b.id+'" class="'+b.buttonIcon+'"></span>');fish.isString(b.cssProp)&&c.addClass(b.cssProp),fish.isObject(b.cssProp)&&c.css(b.cssProp),c.appendTo(a.$headingButton).on("click",$.proxy(b.onClick,a.element[0]))})}},_bindEvent:function(){this._on(this.$headingButton,{"click .toggle":"toggle","click .remove":"close"})},_destroy:function(){var a=this.element;a.hasClass("panel-close")&&a.find(">.panel-body").show(),this.$headingButton.remove()}})}(),function(){$.widget("ui.currencybox",$.ui.formfield,{options:{numeralDecimalScale:2,numeralDecimalMark:".",thousandsSeparator:"",prefix:"",suffix:"",placeholder:""},_create:function(a,b){this.options.initValue=this.options.initValue||this.element.val(),this.options.placeholder=this.element.attr("data-placeholder")||this.element.attr("placeholder")||this.options.placeholder,this._value=this.options.initValue.toString(),this.$container=$('<input type="text" class="form-control" spellcheck="false">'),this.options.placeholder&&this.$container.attr("placeholder",this.options.placeholder),this.element.hide().before(this.$container),this._transferAttributes(),this._delegateEvent(),this._onInput(this._value),this._super()},_transferAttributes:function(){var a={};fish.each(this.element[0].attributes,function(b){-1!==b.name.indexOf("aria")&&(a[b.name]=b.value)}),this.$container.attr(a)},_delegateEvent:function(){this._on(this.$container,{input:"_onCheck",blur:"_onChange"})},_setOption:function(a,b){this._super(a,b),"disabled"===a&&this.$container.prop("disabled",b)},_onCheck:function(){var a=this.$container.val();if(a.indexOf(this.options.numeralDecimalMark)>=0){var b=a.split(this.options.numeralDecimalMark),c=b[0];if(0===this.options.numeralDecimalScale)return void this.$container.val(c);if(b[1].length<=this.options.numeralDecimalScale)return;var d=this.options.numeralDecimalMark+b[1].slice(0,this.options.numeralDecimalScale);this.$container.val(c+d)}},_onInput:function(a){var b=this.options;this._value=fish.numberutil.format(a,{decimalPlaces:b.numeralDecimalScale}),this.text=fish.numberutil.format(this._value,{decimalSeparator:b.numeralDecimalMark,thousandsSeparator:b.thousandsSeparator,decimalPlaces:b.numeralDecimalScale,prefix:b.prefix,suffix:b.suffix}),this._updateValueState()},_updateValueState:function(){this.element.val(this._value),this.$container.val(this.text)},_onChange:function(a){this._setValue(this.$container.val()),this._getValidFlag()&&this.element.isValid()},_setValue:function(a){var b=a;if("string"==typeof a){var c=new RegExp("["+this.options.prefix+this.options.suffix+"]","g");b=a.replace(c,"")}var d=this._value;this._onInput(b),d!==this._value&&this._trigger("change")},value:function(a){if(fish.isUndefined(a))return this._value;this._setValue(a)},currencyValue:function(a){if(fish.isUndefined(a))return this._value?Math.round(this._value*Math.pow(10,this.options.numeralDecimalScale)):"";a?this._setValue(a/Math.pow(10,this.options.numeralDecimalScale)):this._setValue(a)},_destroy:function(){this.$container.remove(),this.element.show().val("")},hideWidget:function(){this.element.parent().hide()},showWidget:function(){this.element.parent().show()},_onFormClear:function(){this.value("")},_formGetValue:function(){return this.value()},_formSetValue:function(a){this.value(a)},_onFormReset:function(){var a=this.options.initValue||this.element.val();this._onInput(a.toString())},enable:function(){this._super(),this.$container.prop("disabled",!1)},disable:function(){this._super(),this.$container.prop("disabled",!0)}})}(),function(){"use strict";$.widget("ui.scrollspy",{options:{offset:10},_create:function(){this.$body=$("body");var a=this.element;this.$scrollElement=$(a).is("body")?$(window):$(a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll",$.proxy(this._process,this)),this.refresh(),this._process()},_getScrollHeight:function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},refresh:function(){var a="offset",b=0;$.isWindow(this.$scrollElement[0])||(a="position",b=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this._getScrollHeight();var c=this;this.$body.find(this.selector).map(function(){var c=$(this),d=c.data("target")||c.attr("href"),e=/^#./.test(d)&&$(d);return e&&e.length&&e.is(":visible")&&[[e[a]().top+b,d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},_process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this._getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this._activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this._activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this._activate(f[a])},_activate:function(a){this.activeTarget=a,$(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var b=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',c=$(b).parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),this._trigger("activate",null,{item:c})}})}(),function(){"use strict";$.jgrid=$.jgrid||{},$.each(["htmlDecode","htmlEncode","getAccessor","setAccessor"],function(a,b){$.jgrid[b]=fish[b]}),$.extend($.jgrid,{getCellIndex:function(a){var b=$(a);return b.is("tr")?-1:(b=(b.is("td")||b.is("th")?b:b.closest("td,th"))[0],fish.browser.msie?$.inArray(b,b.parentNode.cells):b.cellIndex)},guid:1,uidPref:"jqg",randId:function(a){return(a||$.jgrid.uidPref)+$.jgrid.guid++},template:function(a){var b,c=$.makeArray(arguments).slice(1),d=c.length;return null==a&&(a=""),a.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(a,e){if(!isNaN(parseInt(e,10)))return c[parseInt(e,10)];for(b=0;b<d;b++)if($.isArray(c[b]))for(var f=c[b],g=f.length;g--;)if(e===f[g].nm)return f[g].v})},stripHtml:function(a){a=String(a);var b=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return a?(a=a.replace(b,""),a&&"&nbsp;"!==a&&"&#160;"!==a?a.replace(/\"/g,"'"):""):a},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),!0===$.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},from:function(source){var QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(a){var b=[];return _trim&&b.push("jQuery.trim("),b.push("String("+a+")"),_trim&&b.push(")"),_usecase||b.push(".toLowerCase()"),b.join("")},this._strComp=function(a){return"string"==typeof a?".toString()":""},this._group=function(a,b){return{field:a.toString(),unique:b,items:[]}},this._toStr=function(a){return _trim&&(a=$.trim(a)),a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?a:a.toLowerCase()},this._funcLoop=function(a){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b},this._append=function(a){var b;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,b=0;b<_orDepth;b++)_query+="(";_negate&&(_query+="!"),_query+="("+a+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(a,b){_lastCommand=a,_lastField=b},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(a,b){return null===_lastCommand?self:null!==a&&null!==b?_lastCommand(a,b):null===_lastField?_lastCommand(a):_useProperties?_lastCommand(_lastField,a):_lastCommand(a)},this._equals=function(a,b){return 0===self._compare(a,b,1)},this._compare=function(a,b,c){var d=Object.prototype.toString;return c===undefined&&(c=1),a===undefined&&(a=null),b===undefined&&(b=null),null===a&&null===b?0:null===a&&null!==b?1:null!==a&&null===b?-1:"[object Date]"===d.call(a)&&"[object Date]"===d.call(b)?a<b?-c:a>b?c:0:(_usecase||"number"==typeof a||"number"==typeof b||(a=String(a),b=String(b)),a<b?-c:a>b?c:0)},this._performSort=function(){0===_sorting.length||fish.isNull(_sorting[0].dir)||(_data=self._doSort(_data,0))},this._doSort=function(a,b){var c=_sorting[b].by,d=_sorting[b].dir,e=_sorting[b].type,f=_sorting[b].datefmt;if(b===_sorting.length-1)return self._getOrder(a,c,d,e,f);b++;var g,h,i,j=self._getGroup(a,c,d,e,f),k=[];for(g=0;g<j.length;g++)for(i=self._doSort(j[g].items,b),h=0;h<i.length;h++)k.push(i[h]);return k},this._getOrder=function(a,b,c,d,e){var f,g,h,i,j=[],k=[],l="a"===c?1:-1;d===undefined&&(d="text"),i="float"===d||"number"===d||"currency"===d||"numeric"===d?function(a){var b=parseFloat(String(a).replace(_stripNum,""));return isNaN(b)?0:b}:"int"===d||"integer"===d?function(a){return a?parseFloat(String(a).replace(_stripNum,"")):0}:"date"===d||"datetime"===d?function(a){return fish.dateutil.parse(a,e)}:$.isFunction(d)?d:function(a){return a=a?$.trim(String(a)):"",_usecase?a:a.toLowerCase()},$.each(a,function(a,c){g=""!==b?$.jgrid.getAccessor(c,b):c,g===undefined&&(g=""),g=i(g,c),k.push({vSort:g,index:a})}),k.sort(function(a,b){return a=a.vSort,b=b.vSort,self._compare(a,b,l)}),h=0;for(var m=a.length;h<m;)f=k[h].index,j.push(a[f]),h++;return j},this._getGroup=function(a,b,c,d,e){var f,g=[],h=null,i=null;return $.each(self._getOrder(a,b,c,d,e),function(a,c){f=$.jgrid.getAccessor(c,b),null==f&&(f=""),self._equals(i,f)||(i=f,null!==h&&g.push(h),h=self._group(b,f)),h.items.push(c)}),null!==h&&g.push(h),g},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(a){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(a)){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(a,b,c){return _negate=!_negate,self.and(a,b,c)},this.orNot=function(a,b,c){return _negate=!_negate,self.or(a,b,c)},this.not=function(a,b,c){return self.andNot(a,b,c)},this.and=function(a,b,c){return _queuedOperator=" && ",a===undefined?self:self._repeatCommand(a,b,c)},this.or=function(a,b,c){return _queuedOperator=" || ",a===undefined?self:self._repeatCommand(a,b,c)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(a){return _negate=!_negate,self.is(a)},this.is=function(a){return self._append("this."+a),self._resetNegate(),self},this._compareValues=function(a,b,c,d,e){var f;f=_useProperties?"jQuery.jgrid.getAccessor(this,'"+b+"')":"this",c===undefined&&(c=null);var g=c,h=e.stype===undefined?"text":e.stype;if(null!==c)switch(h){case"int":case"integer":g=isNaN(Number(g))||""===g?"0":g,f="parseInt("+f+",10)",g="parseInt("+g+",10)";break;case"float":case"number":case"numeric":g=String(g).replace(_stripNum,""),g=isNaN(Number(g))||""===g?"0":g,f="parseFloat("+f+")",g="parseFloat("+g+")";break;case"date":case"datetime":
g=String(fish.dateutil.parse(g,e.newfmt||"yyyy-mm-dd").getTime()),f="fish.dateutil.parse("+f+',"'+e.srcfmt+'").getTime()';break;default:f=self._getStr(f),g=self._getStr('"'+self._toStr(g)+'"')}return self._append(f+" "+d+" "+g),self._setCommand(a,b),self._resetNegate(),self},this.equals=function(a,b,c){return self._compareValues(self.equals,a,b,"==",c)},this.notEquals=function(a,b,c){return self._compareValues(self.equals,a,b,"!==",c)},this.isNull=function(a,b,c){return self._compareValues(self.equals,a,null,"===",c)},this.greater=function(a,b,c){return self._compareValues(self.greater,a,b,">",c)},this.less=function(a,b,c){return self._compareValues(self.less,a,b,"<",c)},this.greaterOrEquals=function(a,b,c){return self._compareValues(self.greaterOrEquals,a,b,">=",c)},this.lessOrEquals=function(a,b,c){return self._compareValues(self.lessOrEquals,a,b,"<=",c)},this.startsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr(0,"+d+") == "+self._getStr('"'+self._toStr(b)+'"')):(d=_trim?$.trim(b.toString()).length:b.toString().length,self._append(self._getStr("this")+".substr(0,"+d+") == "+self._getStr('"'+self._toStr(a)+'"'))),self._setCommand(self.startsWith,a),self._resetNegate(),self},this.endsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".length-"+d+","+d+') == "'+self._toStr(b)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(a)+'".length,"'+self._toStr(a)+'".length) == "'+self._toStr(a)+'"'),self._setCommand(self.endsWith,a),self._resetNegate(),self},this.contains=function(a,b){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+self._toStr(b)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(a)+'",0) > -1'),self._setCommand(self.contains,a),self._resetNegate(),self},this.orContains=function(a,b,c){var d=[],e=[];if(_useProperties){e=b.split(c),d=fish.compact(e);for(var f=0;f<d.length;f++)0===f?(f===d.length-1?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+self._toStr(d[f])+'",0) > -1'):self._append("("+self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+self._toStr(d[f])+'",0) > -1'),_queuedOperator="||"):f===d.length-1?(self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+self._toStr(d[f])+'",0) > -1)'),_queuedOperator="||"):(self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+self._toStr(d[f])+'",0) > -1'),_queuedOperator="||")}else{e=a.split(c),d=fish.compact(e);for(var g=0;g<d.length;g++)0===g?(g===d.length-1?self._append("("+self._getStr("this")+'.indexOf("'+self._toStr(d[g])+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(d[g])+'",0) > -1'),_queuedOperator="||"):g===d.length-1?(self._append(self._getStr("this")+'.indexOf("'+self._toStr(d[g])+'",0) > -1)'),_queuedOperator="||"):(self._append(self._getStr("this")+'.indexOf("'+self._toStr(d[g])+'",0) > -1'),_queuedOperator="||")}return _queuedOperator="",self._setCommand(self.orContains,a),self._resetNegate(),self},this.groupBy=function(a,b,c,d){return self._hasData()?self._getGroup(_data,a,b,c,d):null},this.orderBy=function(a,b,c,d){return null==c&&(c="text"),null==d&&(d="Y-m-d"),"desc"!==b&&"descending"!==b||(b="d"),"asc"!==b&&"ascending"!==b||(b="a"),_sorting.push({by:a,dir:b,type:c,datefmt:d}),self},self};return new QueryObject(source,null)},createEl:function(a,b,c){var d="";switch(a){case"textarea":d=document.createElement("textarea"),b.cols||$(d).css({width:"98%"}),b.rows||(b.rows=2),("&nbsp;"===c||"&#160;"===c||1===c.length&&160===c.charCodeAt(0))&&(c=""),d.value=c,$(d).attr({id:b.id,name:b.name,role:"textbox",multiline:"true"});break;case"checkbox":if(d=document.createElement("input"),d.type="checkbox",b.value){var e=b.value.split(":");c===e[0]&&(d.checked=!0,d.defaultChecked=!0),d.value=e[0],$(d).attr("offval",e[1])}else{var f=(c+"").toLowerCase();f.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==f?(d.checked=!0,d.defaultChecked=!0,d.value=c):d.value="on",$(d).attr("offval","off")}$(d).attr({id:b.id,name:b.name,role:"checkbox"});break;case"select":d=document.createElement("select");var g,h=[];if(!0===b.multiple?(g=!0,d.multiple="multiple",$(d).attr("aria-multiselectable","true")):g=!1,b.value){var i;b.size===undefined&&(b.size=g?3:1),g&&(h=c.split(","),h=$.map(h,function(a){return $.trim(a)})),"function"==typeof b.value&&(b.value=b.value());var j,k,l,m=b.separator===undefined?":":b.separator,n=b.delimiter===undefined?";":b.delimiter;if("string"==typeof b.value)for(j=b.value.split(n),i=0;i<j.length;i++)k=j[i].split(m),k.length>2&&(k[1]=$.map(k,function(a,b){if(b>0)return a}).join(m)),l=document.createElement("option"),l.setAttribute("role","option"),l.value=k[0],l.innerHTML=k[1],d.appendChild(l),g||$.trim(k[0])!==$.trim(c)||(l.selected="selected"),g&&$.inArray($.trim(k[0]),h)>-1&&(l.selected="selected");else if("object"==typeof b.value){var o,p=b.value;for(o in p)p.hasOwnProperty(o)&&(l=document.createElement("option"),l.setAttribute("role","option"),l.value=o,l.innerHTML=p[o],d.appendChild(l),g||$.trim(o)!==$.trim(c)||(l.selected="selected"),g&&$.inArray($.trim(o),h)>-1&&(l.selected="selected"))}}d.size=b.size,$(d).attr({id:b.id,name:b.name,role:"select"});break;case"text":case"password":case"button":var q;q="button"===a?"button":"textbox",d=document.createElement("input"),d.type=a,d.value=c,"button"!==a&&(b.size||$(d).css({width:"98%"})),$(d).attr({id:b.id,name:b.name,role:q})}return d},validator:function(a,b,c){var d=this,e=d.element.attr("id"),f="#"+a+' td[aria-describedby="'+e+"_"+b+'"]';return $(f,d.element).hasClass("ui-validator")||$(f,d.element).addClass("ui-validator"),fish.isObject(c)?$(f,d.element).validator(c):$(f,d.element).validator("setField",b,c),$(f,d.element).isValid()},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")}})}(),function(a){"function"==typeof define&&define.amd?define("text!src/grid/grid.tpl",a):a()}(function(){"use strict";return $.jgrid=$.jgrid||{},$.jgrid.tpl='<div class="ui-jqgrid" id="{{id}}">\n  <div class="ui-jqgrid-view" id="gview_{{id}}">\n    {{#if showTitlebar}}\n    <div class="ui-jqgrid-titlebar clearfix">\n      {{#if caption}}\n      <span class="ui-jqgrid-title">{{caption}}</span>\n      {{/if}}\n      {{#if hidegrid}}\n      <a role="link" class="ui-jqgrid-titlebar-close HeaderButton">\n        <span class="glyphicon glyphicon-triangle-top"></span>\n      </a>\n      {{/if}}\n      {{#if searchbar}}\n      <div class="input-group search-group{{#if caption}} pull-right{{/if}}"></div>\n      {{/if}}\n    </div>\n    {{/if}}\n    {{#if topbar}}\n    <div class="ui-userdata ui-userdata-t" id="t_{{id}}"></div>\n    {{/if}}\n    <div class="ui-jqgrid-hdiv" {{#if colHide}}style="display:none;"{{/if}}>\n      <div class="ui-jqgrid-hbox">\n        <table class="ui-jqgrid-htable" role="grid" aria-labelledby="{{id}}" cellspacing="0" cellpadding="0" border="0">\n          <thead>\n            <tr class="ui-jqgrid-labels" role="rowheader">\n              {{#colModel}}\n              <th id="{{../id}}_{{name}}" role="columnheader" class="ui-state-default ui-th-column" title="{{headertitle}}">\n                {{#if resizable}}\n                  <span class="ui-jqgrid-resize">&nbsp;</span>\n                {{/if}}\n                <div id="jqgh_{{../id}}_{{name}}">\n                  {{#ifCond name \'===\' \'cb\'}}\n                  <input role="checkbox" id="cb_{{../../id}}" class="cbox" type="checkbox">\n                  {{else}}{{{headerformatter}}}{{/ifCond}}\n                  {{#if sortable}}\n                    <span class="s-ico" style="display:none">\n                      <span sort="asc" class="ui-grid-ico-sort ui-icon-asc ui-state-disabled glyphicon glyphicon-triangle-top"></span>\n                      <span sort="desc" class="ui-grid-ico-sort ui-icon-desc ui-state-disabled glyphicon glyphicon-triangle-bottom"></span>\n                    </span>\n                  {{/if}}\n                </div>\n                {{#ifCond ../showColumnsFeature \'||\' ../columnMenu}}\n                  {{#ifCond name \'!==\' \'cb\'}}\n                    {{#if hidedlg}}\n                    {{else if frozen}}\n                    {{else}}\n                      <span class="s-ico-menu js-columns">\n                        <span class="ui-grid-ico-menu glyphicon glyphicon-option-vertical"></span>\n                      </span>\n                    {{/if}}\n                  {{/ifCond}}\n                {{/ifCond}}\n              </th>\n              {{/colModel}}\n            </tr>\n          </thead>\n        </table>\n      </div>\n    </div>\n    <div class="ui-jqgrid-bdiv" style="height: {{height}}px;">\n      <div>\n        <div></div>\n        <table id="btable_{{id}}" tabindex="0" cellspacing="0" cellpadding="0" border="0" role="grid" aria-multiselectable="{{multiselect}}" aria-labelledby="{{id}}" class="ui-jqgrid-btable">\n          <tbody>\n            <tr class="jqgfirstrow" role="row" style="height:auto">\n              {{#colModel}}\n              <td role="gridcell" style="height:0.01px;"></td>\n              {{/colModel}}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    {{#if footerrow}}\n    <div class="ui-jqgrid-sdiv">\n      <div class="ui-jqgrid-hbox">\n        <table role="grid" class="ui-jqgrid-ftable" cellspacing="0" cellpadding="0" border="0">\n          <tbody>\n            <tr role="row" class="footrow">\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    {{/if}}\n    {{#if bottombar}}\n    <div class="ui-userdata ui-userdata-tb" id="tb_{{id}}"></div>\n    {{/if}}\n  </div>\n  <div class="ui-jqgrid-resize-mark" id="rs_m{{id}}">&nbsp;</div>\n  {{#if pagebar}}\n  <div id="{{id}}_pager" class="ui-jqgrid-pager">\n    <div id="{{id}}_pager_left" class="ui-pg-button"></div>\n    <div id="{{id}}_pager_right" class="ui-pg-control"></div>\n  </div>\n  {{/if}}\n</div>',$.jgrid.tpl}),function(){$.fmatter={},$.extend($.fmatter,{isBoolean:function(a){return"boolean"==typeof a},isObject:function(a){return a&&("object"==typeof a||$.isFunction(a))||!1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(a){return!(!this.isString(a)&&this.isValue(a))&&(!this.isValue(a)||""===(a=$.trim(a).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))}}),$.fn.fmatter=function(a,b,c,d,e){var f=b;c=$.extend({},$.jgrid.formatter,c);try{f=$.fn.fmatter[a].call(this,b,c,d,e)}catch(g){}return f},$.fmatter.util={NumberFormat:fish.numberutil.format},$.fn.fmatter.defaultFormat=function(a,b){return $.fmatter.isValue(a)&&""!==a?a:b.defaultValue||"&#160;"},$.fn.fmatter.checkbox=function(a,b){var c,d=$.extend({},b.checkbox);return b.colModel!==undefined&&b.colModel.formatoptions!==undefined?d=$.extend({},d,b.colModel.formatoptions):b.colModel!==undefined&&b.colModel.editoptions!==undefined&&(d=$.extend({},d,b.colModel.editoptions)),c=!0===d.disabled?'disabled="disabled"':"",($.fmatter.isEmpty(a)||a===undefined)&&(a=$.fn.fmatter.defaultFormat(a,d)),'<input type="checkbox" '+(a==(d.value?d.value.split(":"):["Yes","No"])[0]?" checked='checked' ":"")+' value="'+a+'" offval="no" '+c+"/>"},$.fn.fmatter.integer=function(a,b){var c=$.extend({},b.integer);return b.colModel!==undefined&&b.colModel.formatoptions!==undefined&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a)?c.defaultValue:$.fmatter.util.NumberFormat(a,c)},$.fn.fmatter.number=function(a,b){var c=$.extend({},b.number);return b.colModel!==undefined&&b.colModel.formatoptions!==undefined&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a)?c.defaultValue:$.fmatter.util.NumberFormat(a,c)},$.fn.fmatter.currency=function(a,b){var c=$.extend({},b.currency);return b.colModel!==undefined&&b.colModel.formatoptions!==undefined&&(c=$.extend({},c,b.colModel.formatoptions)),$.fmatter.isEmpty(a)?c.defaultValue:(c.transform&&(a/=Math.pow(10,c.decimalPlaces)),$.fmatter.util.NumberFormat(a,c))},$.fn.fmatter.date=function(a,b,c,d){var e=$.extend({},b.date);if(b.colModel!==undefined&&b.colModel.formatoptions!==undefined&&(e=$.extend({},e,b.colModel.formatoptions)),!$.fmatter.isEmpty(a)){var f=fish.config.get("dateParseFormat.date"),g=fish.config.get("dateDisplayFormat.date"),h=fish.config.get("dateParseFormat.datetime"),i=fish.config.get("dateDisplayFormat.datetime");a.length===h.length&&(f=h,g=i);var j=fish.dateutil.parse(a,e.srcformat||f);return fish.dateutil.format(j,e.newformat||g)}return $.fn.fmatter.defaultFormat(a,b)},$.fn.fmatter.select=function(a,b){a=String(a);var c,d,e=!1,f=[];if(b.colModel.formatoptions!==undefined?(e=b.colModel.formatoptions.value,c=b.colModel.formatoptions.separator===undefined?":":b.colModel.formatoptions.separator,d=b.colModel.formatoptions.delimiter===undefined?";":b.colModel.formatoptions.delimiter):b.colModel.editoptions!==undefined&&(e=b.colModel.editoptions.value,c=b.colModel.editoptions.separator===undefined?":":b.colModel.editoptions.separator,d=b.colModel.editoptions.delimiter===undefined?";":b.colModel.editoptions.delimiter),e){var g,h=!(!b.colModel.editoptions||!0!==b.colModel.editoptions.multiple),i=[];if(h&&(i=a.split(","),i=$.map(i,function(a){return $.trim(a)})),$.fmatter.isString(e)){var j,k=e.split(d),l=0;for(j=0;j<k.length;j++)if(g=k[j].split(c),g.length>2&&(g[1]=$.map(g,function(a,b){if(b>0)return a}).join(c)),h)$.inArray(g[0],i)>-1&&(f[l]=g[1],l++);else if($.trim(g[0])===$.trim(a)){f[0]=g[1];break}}else $.fmatter.isObject(e)&&(h?f=$.map(i,function(a){return e[a]}):f[0]=e[a]||"")}return a=f.join(", "),""===a?$.fn.fmatter.defaultFormat(a,b):a},$.fn.fmatter.rowactions=function(a,b){var c=$(this).closest("tr.jqgrow"),d=c.attr("id"),e=$(this).closest(".ui-jqgrid"),f=e.data("ui-grid"),g=f.p,h=g.colModel[$.jgrid.getCellIndex(this)],i={};switch(h.formatoptions!==undefined&&h.formatoptions.extraparam&&(i=$.extend(i,h.formatoptions.extraparam)),a){case"edit":e.jqGrid("editRow",d,i);break;case"save":e.jqGrid("saveRow",d,i);break;case"cancel":e.jqGrid("restoreRow",d,i);break;case"del":e.jqGrid("delRow",d)}b.preventDefault(),b.stopPropagation()},$.fn.fmatter.actions=function(a,b,c){function d(a,b){var c="";if(fish.isObject(a)){var d=fish.map(a,function(a,c){if(!fish.contains(b,c))return c+"='"+a+"'"});c=d.length?" "+d.join(" "):""}return c}var e,f,g,h,i,j={keys:!1,editbutton:!0,delbutton:!0},k=b.rowId,l="";if(b.colModel.formatoptions!==undefined&&(j=$.extend(j,b.colModel.formatoptions)),k===undefined||$.fmatter.isEmpty(k))return"";if($.isFunction(j.editbutton)&&(j.editbutton=j.editbutton.call(this,c)),$.isFunction(j.delbutton)&&(j.delbutton=j.delbutton.call(this,c)),$.isFunction(j.inlineButtonAdd)&&(j.inlineButtonAdd=j.inlineButtonAdd.call(this,c)),j.editbutton&&(i=["id","className"],f=j.editbutton.id?j.editbutton.id:"jEditButton_"+k,g=j.editbutton.className?" "+j.editbutton.className:"",h=d(j.editbutton,i),e="id='"+f+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit',event);"+h,l+="<div title='"+$.jgrid.nav.edittitle+"' class='ui-inline-operate ui-inline-edit"+g+"' "+e+"><span class='"+b.editIcons.edit+"'></span></div>",e="id='jSaveButton_"+k+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save',event);",l+="<div title='"+$.jgrid.edit.bSubmit+"' style='display:none;' class='ui-inline-operate ui-inline-save' "+e+"><span class='"+b.editIcons.save+"'></span></div>",e="id='jCancelButton_"+k+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel',event);",l+="<div title='"+$.jgrid.edit.bCancel+"' style='display:none;' class='ui-inline-operate ui-inline-cancel' "+e+"><span class='"+b.editIcons.cancel+"'></span></div>"),j.delbutton&&(i=["id","className"],f=j.delbutton.id?j.delbutton.id:"jDeleteButton_"+k,g=j.delbutton.className?" "+j.delbutton.className:"",h=d(j.delbutton,i),e="id='"+f+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del',event);"+h,l+="<div title='"+$.jgrid.nav.deltitle+"' class='ui-inline-operate ui-inline-del"+g+"' "+e+"><span class='"+b.editIcons.del+"'></span></div>"),j.inlineButtonAdd)for(var m=j.inlineButtonAdd,n=0;n<m.length;n++)i=["id","className","title","hidden","icon"],h=d(m[n],i),e=m[n].id?'id="'+m[n].id+"_"+k+'"':"",e+=m[n].title?' title="'+m[n].title+'"':"",e+=m[n].className?' class="ui-inline-operate '+m[n].className+'"':'class="ui-inline-operate"',e+=m[n].hidden?' style="display:none"':"",e+=h,l+="<div "+e+'><span class="'+m[n].icon+'"></span></div>';return"<div class ='ui-inline'>"+l+"</div>"},$.unformat=function(a,b,c,d){var e,f,g=b.colModel.formatter,h=b.colModel.formatoptions||{},i=/([\.\*\_\'\(\)\{\}\+\?\\])/g,j=b.colModel.unformat||$.fn.fmatter[g]&&$.fn.fmatter[g].unformat;if(j!==undefined&&$.isFunction(j))e=j.call(this,$(a).text(),b,a);else if(g!==undefined&&$.fmatter.isString(g)){var k,l=$.jgrid.formatter||{};switch(g){case"integer":h=$.extend({},l.integer,h),f=h.thousandsSeparator.replace(i,"\\$1"),k=new RegExp(f,"g"),e=$(a).text().replace(k,"");break;case"number":h=$.extend({},l.number,h),f=h.thousandsSeparator.replace(i,"\\$1"),k=new RegExp(f,"g"),e=$(a).text().replace(k,"").replace(h.decimalSeparator,".");break;case"currency":h=$.extend({},l.currency,h),f=h.thousandsSeparator.replace(i,"\\$1"),k=new RegExp(f,"g"),e=$(a).text(),h.prefix&&h.prefix.length&&(e=e.substr(h.prefix.length)),h.suffix&&h.suffix.length&&(e=e.substr(0,e.length-h.suffix.length)),e=e.replace(k,"").replace(h.decimalSeparator,".");break;case"checkbox":var m=b.colModel.editoptions?b.colModel.editoptions.value.split(":"):["Yes","No"];e=$("input",a).is(":checked")?m[0]:m[1];break;case"select":e=$.unformat.select(a,b,c,d);break;case"actions":return"";default:e=$(a).text()}}return e!==undefined?e:!0===d?$(a).text():$.jgrid.htmlDecode($(a).html())},$.unformat.select=function(a,b,c,d){var e=[],f=$(a).text(),g=$.extend({},b.colModel.formatoptions!==undefined?b.colModel.formatoptions:b.colModel.editoptions),h=g.separator===undefined?":":g.separator,i=g.delimiter===undefined?";":g.delimiter;if(g.value){var j,k=g.value,l=!0===g.multiple,m=[];if(l&&(m=f.split(","),m=$.map(m,function(a){return $.trim(a)})),$.fmatter.isString(k)){var n,o=k.split(i),p=0;for(n=0;n<o.length;n++)if(j=o[n].split(h),j.length>2&&(j[1]=$.map(j,function(a,b){if(b>0)return a}).join(h)),l)$.inArray(j[1],m)>-1&&(e[p]=j[0],p++);else if($.trim(j[1])===$.trim(f)){e[0]=j[0];break}}else($.fmatter.isObject(k)||$.isArray(k))&&(l||(m[0]=f),e=$.map(m,function(a){var b;if($.each(k,function(c,d){if(d===a)return b=c,!1}),b!==undefined)return b}));return e.join(", ")}return f||""},$.unformat.date=function(a,b){var c=b.formatoptions;if(!$.fmatter.isEmpty(a)){var d=fish.config.get("dateParseFormat.date"),e=fish.config.get("dateDisplayFormat.date"),f=fish.config.get("dateParseFormat.datetime"),g=fish.config.get("dateDisplayFormat.datetime");a.length===f.length&&(d=f,e=g);var h=fish.dateutil.parse(a,c.newformat||e);return fish.dateutil.format(h,c.srcformat||d)}return $.fn.fmatter.defaultFormat(a,b)}}(),function(){$.extend($.jgrid,fish.getResource("grid")),fish.addLangListener(function(){$.extend($.jgrid,fish.getResource("grid"))}),$.jgrid.MAXROWNUM=99999,$.jgrid.reader={id:"_id_"},$.widget("ui.grid",{options:{altRows:!1,minHeight:144,maxHeight:"",height:"",pager:"",page:1,autoPaged:!1,rowNum:$.jgrid.MAXROWNUM,displayNum:10,records:0,reccount:0,pgbuttons:!0,pgnumbers:!0,pginput:!0,pgtext:"Page {0} of {1}",viewrecords:!0,viewtotal:!0,recordtext:"View {0} - {1} of {2}",emptyrecords:"",rowList:[],lastpage:0,sortorder:"asc",sortname:"",multiSort:!1,lastsort:-1,preserveSelection:!1,datatype:"local",pageData:null,jsonReader:{root:"rows",page:"page",total:"total",records:"records",userdata:"userdata"},colModel:[],selrow:null,selarrrow:[],savedRow:[],caption:"",hidegrid:!1,searchbar:!1,ftoolbar:!1,hiddengrid:!1,userData:{},shrinkToFit:!0,autowidth:!1,width:"100%",forceFit:!1,gridstate:"visible",rownumbers:!1,rownumWidth:25,multiselect:!1,multiselectWidth:20,scrollOffset:18,footerrow:!1,userDataOnFooter:!1,cellEdit:!1,cellAutoSave:!0,toolbar:[!1,""],scrollrows:!0,gridview:!0,fixWidth:!1,showMask:!1,cmTemplate:{},data:[],_index:{},treeGrid:!1,treeReader:{level:"level",parentid:"parent",leaf:"isLeaf",expanded:"expanded",icon:"icon",children:"children"},expandColumn:null,expandColClick:!1,treeIcons:{plus:"glyphicon glyphicon-triangle-right",minus:"glyphicon glyphicon-triangle-bottom",leaf:"glyphicon glyphicon-file",folderClosed:"glyphicon glyphicon-folder-close",folderOpen:"glyphicon glyphicon-folder-open"},treeIconFunction:$.noop,leafChange:!1,checkParent:!1,checkChildren:!1,resizeclass:"",autoencode:!0,nv:0,remapColumns:[],autoResizable:!0,showColumnsFeature:!1,columnMenu:!1,pagebar:!1,cached:!1,exportFeature:!1,subGrid:!1,subGridWidth:20,subGridModel:[],subGridAjaxOptions:{url:null,type:"post",data:null,showMask:!1},subGridBeforeExpand:$.noop,subGridRowExpanded:null,subGridRowColapsed:$.noop,subGridOptions:{plusIcon:"glyphicon glyphicon-plus",minusIcon:"glyphicon glyphicon-minus",reloadOnExpand:!0,selectOnExpand:!1,selectOnCollapse:!1},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,groupCollapse:!1,plusicon:"glyphicon glyphicon-triangle-right",minusicon:"glyphicon glyphicon-triangle-bottom",displayField:[],groupSummaryPos:[],_locgr:!1},editIcons:{edit:"glyphicon glyphicon-pencil",del:"glyphicon glyphicon-remove-circle",save:"glyphicon glyphicon-floppy-disk",cancel:"glyphicon glyphicon-ban-circle"},curPageSort:!1,cellAutoRestore:!0,showSubgridBtn:$.noop,searchMode:"position",searchType:"precise",slimscrollOptions:{touchScrollStep:1,wheelStep:10},treeAltRows:!1,scroll:!1,scrollThrottle:400,rowattr:$.noop,columnResizable:!0},_getCreateOptions:function(){return $.jgrid.defaults},_create:function(){var a,b=this,c=this.element,d=c[0],e=this.options;b.p=e,d.id||c.uniqueId(),b.p.id=d.id,b.grid=this._innerParam(),b._formatOption(),b._buildHTML(),b.p.searchbar&&(b.p.filterGrid=!1,b.searchGrid()),this._initHeight(),this._initWidth(),b.$tb=a=$("#btable_"+d.id,c);var f=$(".ui-jqgrid-hdiv",c);b.grid.hDiv=f[0];var g=$(".ui-jqgrid-bdiv",c);b.grid.bDiv=g[0];var h=$("#btable_"+d.id,b.grid.bDiv).prev();b.grid.tDiv=h[0],b.rows=a[0].rows,b.grid.cols=b.rows[0].cells,this._renderCol(),this._setupEvents(),b.p.pager&&b.setPager(b.p.pageEl),b.p.footerrow&&this._setFooterRow(),(b.p.caption||b.p.searchbar)&&this._setCaption(),b.p.showColumnsFeature,b.p.exportFeature&&this._setupExportFeature(),this.p.autoPaged?b.populatePage():b.populate(),b.bindKeys(),g.slimscroll(fish.extend({height:"auto"===b.p.height?"content":g.outerHeight(),width:b.p.columnResizable?"auto":"100%",axis:"both",size:"7px"},b.p.slimscrollOptions)),(e.subGrid||e.grouping)&&c.addClass("no-resizable-bg"),b._reloadScroll(),b.$slimScroll=g,b.p.columnMenu&&(b.filterToolbar({searchOperators:!0}),$("thead tr.ui-search-toolbar").hide())},_init:function(){if(this._inited){var a=this.options;this.element.grid("destroy"),this.element.grid(a)}this._inited=!0},_setOption:function(a,b){return this.options[a]=b,this},_destroy:function(){var a=this;fish.offResize(a._resizeHanlder),a.p.pagebar&&($(a.p.pageEl).pagination("destroy"),this.element.find(".ui-jqgrid-pager").remove()),this.emptyRows(),$(document).unbind("mouseup.jqGrid"+a.p.id),this.element.unbind();var b,c=a.grid.headers.length;for(b=0;b<c;b++)a.grid.headers[b].el=null;this.element.find("#gview_"+a.p.id).remove(),this.element.find("#rs_m"+a.p.id).remove(),this.element.find(".columns-supernatant").remove(),this.element.removeClass("ui-jqgrid")},_innerParam:function(){var a=this,b=a.p.showColumnsFeature||a.p.columnMenu?65:33;return{headers:[],cols:[],footers:[],dragStart:function(b,c,d){var e=$(this.hDiv).offset().left;this.resizing={idx:b,startX:c.clientX-e,sOL:c.clientX-e},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+a.p.id,a.element),this.curGbox.css({display:"block",left:c.clientX-e,top:d[1],height:d[2]}),a._trigger("resizeStart",null,[c,b]),document.onselectstart=function(){return!1}},dragMove:function(c){if(this.resizing){var d,e,f=$(this.hDiv).offset().left,g=c.clientX-f-this.resizing.startX,h=this.headers[this.resizing.idx],i=h.width+g;i>b&&(this.curGbox.css({left:this.resizing.sOL+g}),!0===a.p.forceFit?(d=this.headers[this.resizing.idx+a.p.nv],(e=d.width-g)>b&&(h.newWidth=i,d.newWidth=e)):(this.newWidth=a.p.tblwidth+g,h.newWidth=i))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var b=this.resizing.idx,c=this.headers[b].newWidth||this.headers[b].width;c=parseInt(c,10),this.resizing=!1,$("#rs_m"+a.p.id).css("display","none"),a.p.colModel[b].width=c,this.headers[b].width=c,this.headers[b].el.style.width=c+"px",this.cols[b].style.width=c+"px",this.footers.length>0&&(this.footers[b].style.width=c+"px"),!0===a.p.forceFit?(c=this.headers[b+a.p.nv].newWidth||this.headers[b+a.p.nv].width,this.headers[b+a.p.nv].width=c,this.headers[b+a.p.nv].el.style.width=c+"px",this.cols[b+a.p.nv].style.width=c+"px",this.footers.length>0&&(this.footers[b+a.p.nv].style.width=c+"px"),a.p.colModel[b+a.p.nv].width=c):(a.p.tblwidth=this.newWidth||a.p.tblwidth,$("table:first",a.grid.bDiv).css("width",a.p.tblwidth+"px"),$("table:first",a.grid.hDiv).css("width",a.p.tblwidth+"px"),a.$slimScroll.slimscroll({scrollToX:a.grid.hDiv.scrollLeft,height:a.$slimScroll.outerHeight(),width:a.element.width()}),a.p.footerrow&&($("table:first",a.grid.sDiv).css("width",a.p.tblwidth+"px"),a.grid.sDiv.scrollLeft=a.grid.hDiv.scrollLeft)),a.options.cached&&a._writeCacheColumnsFeature(),a._trigger("resizeStop",null,[c,b])}this.curGbox=null,document.onselectstart=function(){return!0}},scrollGrid:function(b){a.p.scroll&&a.scrollLoadGridData();var c=a.$slimScroll.scrollLeft();a.grid.hDiv.scrollLeft=c,a.p.footerrow&&(a.grid.sDiv.scrollLeft=c),b&&(b.preventDefault(),b.stopPropagation())},populateVisible:function(){var b=a.grid,c=$(b.bDiv).height();if(c){var d,e,f=$("table:first",b.bDiv);if(f[0].rows.length)try{d=f[0].rows[1],e=d?$(d).outerHeight()||b.prevRowHeight:b.prevRowHeight}catch(l){e=b.prevRowHeight}if(e){b.prevRowHeight=e;var g=a.$slimScroll.scrollTop(),h=c+g,i=f[0].scrollHeight,j=i-h,k=a.p.page;return j<=e&&(k<a.p.lastpage?k++:k=a.p.lastpage),k!==a.p.page?(a.p.page=k,a.loading=$('<div class="grid-loading"></div>'),a.$slimScroll.append(a.loading),a.loading.html(fish.getResource("common.loading")),void a.populatePage()):void 0}}}}},_formatOption:function(){var a=this,b=a.element,c=a.p;c.height||(c.height=b.height(),c.height>0?b.height("auto"):c.height=b.parent().height(),c.height<c.minHeight&&(c.height=c.minHeight)),c.keyIndex=!1,c.keyName=!1;var d,e=[],f=[],g=[];if(c.subGrid&&c.colModel.unshift({name:"subgrid",label:"",width:c.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,align:"center",fixed:!0}),c.preserveSelection&&(c.preservedSelData=[]),c.multiSort)for(e=c.sortname.split(","),d=0;d<e.length;d++)g=$.trim(e[d]).split(" "),e[d]=$.trim(g[0]),f[d]=g[1]?$.trim(g[1]):c.sortorder||"asc";if(c.multiselect&&c.colModel.unshift({name:"cb",label:"",width:c.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,align:"center",fixed:!0}),c.rownumbers&&c.colModel.unshift({name:"rn",label:"",width:c.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,align:"center",fixed:!0}),c.showColumnsFeature){var h={};if(c.cached){var i=fish.store.get(this.p.id);i&&(h.colModel=JSON.parse(i)),this._trigger("columnsFeatureInit",null,h),h.colModel&&this._readCacheColumnsFeature(h.colModel)}}if($.each(c.colModel,function(b,d){$.extend(!0,d,c.cmTemplate,d.template||{},d),d.width=d.width?d.width:150,d.widthOrg=parseInt(d.width,10),void 0===d.label&&(d.label=d.name),!1!==d.title&&(d.title=!0),d.headertitle=d.headertitle||$.jgrid.stripHtml(d.label);var h;h=fish.isFunction(d.headerformatter)?d.headerformatter.call(a,d):d.headerformatter||d.label,d.headerformatter=h,d.hidden=!!d.hidden,!1!==d.resizable&&(d.resizable=!0),!1!==d.sortable&&(d.sortable=!0),!1===c.keyIndex&&!0===d.key&&(c.keyIndex=b,c.keyName=d.name),d.name===c.sortname&&(c.lastsort=b),a.p.multiSort&&-1!==(g=$.inArray(d.name,e))&&(d.lso=f[g]),c.columnResizable||(d.resizable=!1)}),c.columnResizable||!0!==c.shrinkToFit||(c.autoResizable=!1),!0===c.shrinkToFit&&!0===c.forceFit)for(d=c.colModel.length-1;d>=0;d--)if(!c.colModel[d].hidden){c.colModel[d].resizable=!1;break}c.sortorder=c.sortorder.toLowerCase(),!1===c.shrinkToFit&&(c.forceFit=!1),c.disableClick=!1,c.treeGrid&&a._setTreeGrid(),c.keyName||(c.keyName=$.jgrid.reader.id),c.expandColumn=c.expandColumn||c.ExpandColumn,c.expandColClick=c.expandColClick||c.ExpandColClick,c.pager&&(c.rowNum=c.rowNum===$.jgrid.MAXROWNUM?20:c.rowNum,!0===c.pager?(c.pagebar=!0,c.pager="#"+a.p.id+"_pager",c.pageEl="#"+a.p.id+"_pager_right",a.pagination=!0):c.pageEl=c.pager),c.scroll&&(c.pager=!1),c.emptyrecords||(c.emptyrecords=fish.getResource("common.emptyrecords")),c.columnMenu&&$.each(c.colModel,function(){this.searchoptions||"rn"===this.name||"cb"===this.name||"actions"===this.formatter||"subgrid"===this.name||(this.searchoptions={})})},_buildHTML:function(){var a=this.p,b=$.extend({},a);a.toolbar[0]&&("top"===a.toolbar[1]?b.topbar=!0:"bottom"===a.toolbar[1]?b.bottombar=!0:"both"===a.toolbar[1]&&(b.bottombar=!0,b.topbar=!0)),b.showTitlebar=b.caption||b.hidegrid||b.searchbar;var c=$.jgrid.tpl.replace(/\>\s+\</g,"><").replace(/\>\s+\{\{/g,">{{").replace(/\}\}\s+\</g,"}}<").replace(/\}\}\s+\{\{/g,"}}{{"),d=fish.compile(c)(b),e=$(d);this.element.addClass(e[0].className).append(e.html())},_initHeight:function(){var a=this.p;if(!isNaN(a.height)){var b=this.element.outerHeight();if(b<=a.height){var c=this.element.clone();b=c.appendTo("body").outerHeight(),c.remove()}a.height=a.height-(b-a.height)}$(".ui-jqgrid-bdiv",this.element).css({height:a.height})},_setEmptyReminder:function(){var a=this;a.p.data&&a.p.data.length>0?$(a.grid.tDiv).empty().removeClass("ui-jqgrid-tip").removeAttr("style"):($(a.grid.tDiv).html(a.p.emptyrecords).addClass("ui-jqgrid-tip"),$(a.grid.tDiv).css("width",a._getRealWidth()))},_initWidth:function(){var a,b,c=this,d=c.grid,e=0,f=0,g=0;if(!0===c.p.autowidth||"100%"===c.p.width){c.element.is("table")&&c.element.css("width","100%"),c.p.autowidth=!0;var h=$(this.element).outerWidth();c.p.width=h>0?h:"nw"}if($.each(c.p.colModel,function(){!1===this.hidden&&(e+=this.widthOrg,this.fixed?g+=this.width:f++)}),isNaN(c.p.width)&&(c.p.width=e,"auto"===c.p.width&&(c.p.initwidth=e)),d.width=c.p.width,c.p.tblwidth=e,!0===c.p.shrinkToFit)if(c.p.columnResizable&&f>0){b=d.width-g,e=0,$.each(c.p.colModel,function(d){!1!==this.hidden||this.fixed||(a=Math.round(b*parseInt(this.width,10)/(c.p.tblwidth-g)),this.width=a,e+=a,f=d)});var i=d.width-g-e-parseInt($(".ui-jqgrid-bdiv",c.element).css("border-right-width"),10)-parseInt($(".ui-jqgrid-bdiv",c.element).css("border-left-width"),10);c.p.colModel[f].width+=i,c.p.tblwidth=g+e+i,c._setGridInitWidth()}else c.p.columnResizable||(!0===c.p.autowidth||"100%"===c.p.width?$(c.element).css("width","100%"):$(c.element).css("width",d.width),$(".ui-jqgrid-htable",c.element).css({width:"100%"}),$(".ui-jqgrid-btable",c.element).css({width:"100%","table-layout":"fixed"}),$.each(c.p.colModel,function(b){!1!==this.hidden||this.fixed||-1===this.width.toString().indexOf("%")&&(this.width=parseInt(this.width,10),a=Math.round(100*this.width/(d.width-g)),this.width=a+"%")}));else c._setGridInitWidth()},_setGridInitWidth:function(){$(this.element).css("width",this.grid.width),$("#gview_"+this.p.id,this.element).css("width",this.grid.width),
$(".ui-jqgrid-hdiv",this.element).css({width:this.grid.width}),$(".ui-jqgrid-bdiv",this.element).css({width:this.grid.width}),$(".ui-jqgrid-btable",this.element).css({width:this.p.tblwidth,"table-layout":"fixed"}),$(".ui-jqgrid-htable",this.element).css({width:this.p.tblwidth}),this.lastParentWidth=this.grid.width},_renderCol:function(){var a,b,c=this,d=c.element,e=c.$tb,f=$("thead > tr:first",d),g=$("tbody > tr:first",e),h=null;$("th",f).each(function(e){h=g.find("td:eq("+e+")"),b=c.p.colModel[e].width,c.p.colModel[e].resizable&&$(this).addClass(c.p.resizeclass),$(this).css("width",b),h.css("width",b),c.p.colModel[e].hidden&&($(this).css("display","none"),h.css("display","none")),c.grid.headers[e]={width:b,el:this},a=c.p.colModel[e].sortable;var f=c.p.colModel[e].name,i=c.p.colModel[e].headerwordwrap,j=c.p.showColumnsFeature,k=c.p.columnMenu;"cb"!==f&&"rn"!==f&&($(">div",this).addClass("ui-jqgrid-sortable"),i?$(">div",this).css({"word-wrap":"break-word","white-space":"normal"}):$(">div",this).css({"white-space":"nowrap"})),a&&(c.p.multiSort?c.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+c.p.colModel[e].lso,this).removeClass("ui-state-disabled")):e===c.p.lastsort&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+c.p.sortorder,this).removeClass("ui-state-disabled"))),(j||k)&&($("div.columns-supernatant",d).hide(),$(">div",this).addClass("ui-jqgrid-sortable-selectable"),$("div span.s-ico",this).addClass("s-ico-selectable"))})},_addSelection:function(a){var b=this.p.selarrrow.length;this.p.selarrrow=_.union(this.p.selarrrow,[a]),this.p.preserveSelection&&b+1===this.p.selarrrow.length&&this.p.preservedSelData.push(this.p.data[this.p._index[a]])},_removeSelection:function(a){var b=$.inArray(a+"",this.p.selarrrow);this.p.selarrrow.splice(b,1),this.p.preserveSelection&&this.p.preservedSelData.splice(b,1)},_setupEvents:function(){var a=this,b=a.$tb,c=$("thead > tr:first",a.element);$("th",c).on("mousedown",function(b){if(1===$(b.target).closest("th>span.ui-jqgrid-resize").length){var c=a.getColumnHeaderIndex(this);return!0===a.p.forceFit&&(a.p.nv=a.nextVisible(c)),a.grid.dragStart(c,b,a.getOffset(c)),!1}}).on("click",function(b){if(a.p.disableClick)return a.p.disableClick=!1,!1;var c=$(b.target).closest("th>div.ui-jqgrid-sortable"),d=$(b.target).closest("th>span.s-ico-menu");if(1===c.length||1===d.length)if(1===c.length){var e;if(a.p.frozenColumns){var f=$(this)[0].id.substring(a.p.id.length+1);$(a.p.colModel).each(function(a){if(this.name===f)return e=a,!1})}else e=a.getColumnHeaderIndex(this);null!=e&&a.sortData($("div",this)[0].id,e)}else if(1===d.length)if(a.p.columnMenu){var g=a.getColumnHeaderIndex(this);a._onColumnsMenuClick(b,$("div",this)[0].id,g)}else a._onColumnsFeatureClick(b)}),a.p.multiselect&&$(a.element).on("click","#cb_"+a.p.id,function(b){a.p.preserveSelection||(a.p.selarrrow=[]);var c=!0===a.p.frozenColumns?a.p.id+"_frozen":"";this.checked?$(a.rows).each(function(b){if(b>0){var d=$(document.getElementById("jqg_"+a.p.id+"_"+this.id));d.prop("disabled")?d.is(":checked")&&a._addSelection(this.id):(d.prop("checked",!0),a._addSelection(this.id),c&&$("#jqg_"+a.p.id+"_"+this.id,a.grid.fbDiv).prop("checked",!0))}}):$(a.rows).each(function(b){if(b>0){var d=$(document.getElementById("jqg_"+a.p.id+"_"+this.id));d.prop("disabled")?d.is(":checked")&&a._addSelection(this.id):(d.prop("checked",!1),a.p.preserveSelection&&a._removeSelection(this.id),c&&$("#jqg_"+a.p.id+"_"+this.id,a.grid.fbDiv).prop("checked",!1))}}),a._trigger("onSelectAll",null,this.checked)}),a.scrollLoadGridData=_.debounce(function(){var b=a.grid.bDiv.scrollTop;a.grid.scrollTop===undefined&&(a.grid.scrollTop=0),b!==a.grid.scrollTop&&(a.grid.scrollTop=b,a.grid.populateVisible())},a.p.scrollThrottle),$(a.grid.bDiv).scroll(a.grid.scrollGrid);var d,e,f,g,h;if(b.click(function(b){if(g=b.target||b.srcElement,h=$(g,a.rows).closest("tr.jqgrow"),0===$(h).length)return this;var c=$(g).filter(":enabled").hasClass("cbox");c&&(a._trigger("onCheckRow",b,[h[0].id,g.checked]),$(g).prop("checked",!$(g).is(":checked")));var i=a._trigger("beforeSelectRow",b,h[0].id);("INPUT"!==g.tagName&&"TEXTAREA"!==g.tagName&&"OPTION"!==g.tagName&&"SELECT"!==g.tagName||c)&&!1!==i&&(d=h[0].id,e=$.jgrid.getCellIndex(g),f=$(g).closest("td,th").html(),a._trigger("onCellSelect",b,[d,e,f]),a.p.treeGrid&&($(g).hasClass("treeclick")||a.p.expandColClick&&$(g).hasClass("cell-wrapper"))?a._treeNodeClick(d):a.p.subGrid&&$(g).hasClass("ui-subgrid-btn")?a._subGridBtnHandler(b):a.setSelection(d,!0,b),!0!==a.p.cellEdit||c||"1"===h.attr("editable")||a.editCell(h[0].rowIndex,e,!0))}).dblclick(function(b){g=b.target,h=$(g,a.rows).closest("tr.jqgrow"),0!==$(h).length&&(d=h[0].rowIndex,e=$.jgrid.getCellIndex(g),a._trigger("onDblClickRow",b,[$(h).attr("id"),d,e]))}).bind("contextmenu",function(b){g=b.target,h=$(g,a.rows).closest("tr.jqgrow"),0!==$(h).length&&(d=h[0].rowIndex,e=$.jgrid.getCellIndex(g),a._trigger("onRightClickRow",b,[$(h).attr("id"),d,e]))}),a.element.on("reloadGrid",function(b,c){if(a._cleanUp(),c&&c.page){var d=c.page;d>a.p.lastpage&&(d=a.p.lastpage),d<1&&(d=1),a.p.page=d}return a.populate(),$("#"+a.p.id+"_pager_left",a.element).length>0&&a.p.pager&&a.navButtonRefresh(),a._reloadScroll(),a._trigger("reloadGrid"),!1}),$(a.grid.hDiv).mousemove(function(b){if(a.grid.resizing)return a.grid.dragMove(b),!1}),$(".ui-jqgrid-labels",a.grid.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+a.p.id,function(){return!a.grid.resizing||(a.grid.dragEnd(),!1)}),a.p.sortable&&$.fn.sortable)try{$(a.element).jqGrid("sortableColumns",c)}catch(i){}a.p.autoResizable&&(a._resizeHanlder=fish.onResize(fish.bind(a._resize,a)))},_resize:function(a,b){var c=this,d=c.element.parent().width(),e=c.p.initwidth;if($("#"+c.p.id).length,!c._gridVisible())return!1;isNaN(e)?(d!==c.lastParentWidth||b)&&c._resizeGrid(d):d<e?c._resizeGrid(d):d>=e&&c.lastParentWidth<e&&c._resizeGrid(e)},_resizeGrid:function(a){var b=this;b.setGridWidth(a),b.lastParentWidth=a,b.navButtonRefresh()},_gridVisible:function(){var a=this,b=a.element.parent().width(),c=a.element.parents().filter(function(){return $(this).width()<1||$(this).is(":hidden")});return!(b<1||c.length>0)},_setFooterRow:function(){var a=this,b="";$("thead > tr > th",a.element).each(function(c){b+="<td role='gridcell' "+a._formatCol(c)+" width="+a.grid.headers[c].width+">&#160;</td>"}),a.grid.sDiv=$(".ui-jqgrid-sdiv",a.element)[0],$(a.grid.sDiv).css("width",a.grid.width),$("table",a.grid.sDiv).width(a.p.tblwidth),$(".footrow",a.grid.sDiv).html(b),a.grid.footers=$(".ui-jqgrid-ftable",a.grid.sDiv)[0].rows[0].cells,a.p.rownumbers&&(a.grid.footers[0].className="jqgrid-rownum")},_setCaption:function(){var a=this,b=$(".ui-jqgrid-titlebar",a.element);a.grid.cDiv=b[0],!0===a.p.hidegrid&&($(".ui-jqgrid-titlebar-close",a.grid.cDiv).click(function(b){var c,d=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv ,.ui-userdata, .slimScrollDiv",e=this;return c=$(d,"#gview_"+a.p.id).length,"visible"===a.p.gridstate?$(d,a.element).slideUp("fast",function(){0===--c&&($("span",e).addClass("glyphicon").removeClass("glyphicon-triangle-top").addClass("glyphicon-triangle-bottom"),a.p.gridstate="hidden",$(a.element).hasClass("ui-resizable")&&$(".ui-resizable-handle",a.element).hide(),a._trigger("onHeaderClick",b,a.p.gridstate))}):"hidden"===a.p.gridstate&&$(d,a.element).slideDown("fast",function(){0===--c&&($("span",e).addClass("glyphicon").removeClass("glyphicon-triangle-bottom").addClass("glyphicon-triangle-top"),a.p.gridstate="visible",$(a.element).hasClass("ui-resizable")&&$(".ui-resizable-handle",a.element).show(),a._trigger("onHeaderClick",b,a.p.gridstate))}),!1}),!0===a.p.hiddengrid&&$(".ui-jqgrid-titlebar-close",a.grid.cDiv).trigger("click"))},_bind:function(a,b){return a=this.widgetEventPrefix+":"+a.toLowerCase(),this.element.bind(a,b)},_formatCol:function(a,b,c,d){var e,f=this,g=f.p.colModel[a],h=g.align,i=g.wordwrap,j='style="',k=g.classes,l=g.name,m=f.options,n=[];if(h&&(j+="text-align:"+h+";"),i||g.variablerowheight?j+="word-wrap:break-word;white-space:pre-wrap;":j+="white-space:nowrap;",m.grouping&&m.groupingView.groupIndent&&0===a){j+="padding-left:"+(27+12*(m.groupingView.groupField.length-1))+"px;"}return!0===g.hidden&&(j+="display:none;"),g.cellattr&&$.isFunction(g.cellattr)&&(e=g.cellattr.call(f,d,b,c,g))&&"string"==typeof e&&(e=e.replace(/style/i,"style").replace(/title/i,"title"),e.indexOf("title")>-1&&(g.title=!1),e.indexOf("class")>-1&&(k=undefined),n=e.replace("-style","-sti").split(/style/),2===n.length?(n[1]=$.trim(n[1].replace("-sti","-style").replace("=","")),0!==n[1].indexOf("'")&&0!==n[1].indexOf('"')||(n[1]=n[1].substring(1)),j+=n[1].replace(/'/gi,'"')):j+='"'),n.length||(n[0]="",j+='"'),j+=(k!==undefined?' class="'+k+'"':"")+(g.title&&b?' title="'+$.jgrid.stripHtml(b)+'"':""),j+=' aria-describedby="'+f.p.id+"_"+l+'"',(j+=' aria-labelledby="jqh_'+f.p.id+"_"+l+'"')+n[0]},_cellVal:function(a){var b=this;return null==a||""===a?"&#160;":b.p.autoencode?$.jgrid.htmlEncode(a):String(a)},formatter:function(a,b,c,d,e){var f,g=this,h=g.p.colModel[c];if(h.formatter!==undefined){var i={rowId:a,colModel:h,gid:g.p.id,pos:c,editIcons:g.p.editIcons};f=$.isFunction(h.formatter)?h.formatter.call(g,b,i,d,e):$.fmatter?$.fn.fmatter.call(g,h.formatter,b,i,d,e):g._cellVal(b)}else f=g._cellVal(b);return f},addCell:function(a,b,c,d){var e,f=this;return e=f.formatter(a,b,c,d,"add"),'<td role="gridcell" '+f._formatCol(c,e,d,a)+">"+e+"</td>"},addMulti:function(a,b){var c=this,d='<input type="checkbox" id="jqg_'+c.p.id+"_"+a+'" class="cbox">';return'<td role="gridcell" '+c._formatCol(b)+' class="jqgrid-cbox">'+d+"</td>"},addRowNum:function(a,b,c,d){var e=this,f=(parseInt(c,10)-1)*parseInt(d,10)+1+b;return'<td role="gridcell" class="jqgrid-rownum" '+e._formatCol(a)+">"+f+"</td>"},emptyRows:function(){var a=this.rows.length>0?this.rows[0]:null;$(this.$tb[0].children[0]).empty().append(a)},refreshIndex:function(){var a,b,c,d=this,e=d.p.data.length;for(a=d.p.keyName,b=0;b<e;b++)c=$.jgrid.getAccessor(d.p.data[b],a),c===undefined&&(c=$.jgrid.randId(),d.p.data[b][a]=c),d.p._index[c]=b},_constructTr:function(a,b,c){var d,e=this,f="-1",g="",h=c?"display:none;":"",i="jqgrow",j=e._trigger("rowAttr",null,[b,a]);if(e.options.altRows&&(i+=" row-striped"),"object"!=typeof j&&(j=$.isFunction(e.p.rowattr)?e.p.rowattr.call(e,b,a):{}),!$.isEmptyObject(j)){j.hasOwnProperty("id")&&(a=j.id,delete j.id),j.hasOwnProperty("tabindex")&&(f=j.tabindex,delete j.tabindex),j.hasOwnProperty("style")&&(h=j.style,delete j.style),j.hasOwnProperty("class")&&(i+=" "+j["class"],delete j["class"]),delete j.role;for(d in j)j.hasOwnProperty(d)&&(g+=" "+d+"="+j[d])}return'<tr role="row" id="'+fish.escape(a)+'" tabindex="'+f+'" class="'+i+'"'+(""===h?"":' style="'+h+'"')+g+">"},addJSONData:function(a){var b=this;if(a){b.p.scroll||b.emptyRows(),"json"!==b.p.datatype||b.p.scroll&&(!b.p.scroll||_.isArray(b.p.data))||(b.p.data=[],b.p._index={}),b.p.reccount=0,b.p.page=$.jgrid.getAccessor(a,b.p.jsonReader.page)||b.p.page,b.p.records=$.jgrid.getAccessor(a,b.p.jsonReader.records);var c=Math.ceil(b.p.records/b.p.rowNum);b.p.lastpage=$.jgrid.getAccessor(a,b.p.jsonReader.total)||c,b.p.userData=$.jgrid.getAccessor(a,b.p.jsonReader.userdata)||{};var d=$.jgrid.getAccessor(a,b.p.jsonReader.root)||[],e=d.length;e>0&&b.p.page<=0&&(b.p.page=1);var f,g,h,i,j=parseInt(b.p.rowNum,10),k=[],l=0,m=[],n=[],o=0,p=!1;for(b.p.grouping&&(p=!0===b.p.groupingView.groupCollapse);l<e;){g=d[l],f=$.jgrid.getAccessor(g,b.p.keyName),f===undefined&&(f=$.jgrid.randId(),g[b.p.keyName]=f),k[k.length]=b._constructTr(f,g,p);var q;for(h=0;h<b.p.colModel.length;h++)q=b.p.colModel[h],"rn"===q.name?k.push(b.addRowNum(0,l,b.p.page,b.p.rowNum)):"cb"===q.name?k.push(b.addMulti(f,h)):"subgrid"===q.name?k.push(b._addSubGridCell(f,h,g)):(i=$.jgrid.getAccessor(g,q.name),n[q.name]=i,k.push(b.addCell(f,i,h,g)));if(k.push("</tr>"),b.p.grouping&&(m.push(k),b.p.groupingView._locgr||$(b.element).jqGrid("groupingPrepare",n,l),k=[]),"json"===b.p.datatype&&(b.p.data.push(g),b.p._index[$.jgrid.getAccessor(g,b.p.keyName)]=b.p.data.length-1),!1===b.p.gridview&&($("tbody:first",b.$tb).append(k.join("")),b._trigger("afterInsertRow",null,[f,g]),k=[]),o++,l++,o===j)break}!0===b.p.gridview&&$("tbody:first",b.$tb).append(k.join("")),!0===b.p.treeGrid&&b._setTreeNode(1,o+1),b.p.reccount=o,b.p.userDataOnFooter&&$(b.element).jqGrid("footerData","set",b.p.userData,!0),b.updatepager(!1,!0),b.p.grouping&&(b.p.groupingView._locgr="json"!==b.p.datatype,$(b.element).jqGrid("groupingRender",m,b.p.colModel.length,b.p.page,j),m=null),b.p.treeGrid?$("tr.jqgrow",b.element).eq(0).attr("tabindex","0"):$("tr.jqgrow",b.element).eq(0).find("td:visible:eq(0)").attr("tabindex","0"),b.p.localSearch||"json"!=b.p.datatype||(b.originalData=b.p.data,$("#"+b.options.id+"totalNum").text(b.p.data.length)),"json"==b.p.datatype&&!b.p.scroll&&this.ftoolbar&&b._goFilter(),b.p.localSearch=!1}},addLocalData:function(){var a,b,c,d,e,f=this,g=f.p.multiSort?[]:"",h=[],i=!1,j={},k=[],l=[],m=!!f.p.grouping&&f.p.groupingView;if($.isArray(f.p.data)){if(f.refreshIndex(),$.each(f.p.colModel,function(){if(b=this.sorttype||"text","date"===b||"datetime"===b?(a=fish.config.get("dateParseFormat."+b),c=fish.config.get("dateDisplayFormat."+b),j[this.name]={stype:b,srcfmt:a,newfmt:c}):j[this.name]={stype:b,srcfmt:"",newfmt:""},f.p.grouping)for(e=0,d=m.groupField.length;e<d;e++)this.name===m.groupField[e]&&(k[e]=j[this.name],l[e]=this.name);if(f.p.multiSort){if(this.lso){g.push(this.name);var n=this.lso.split("-");h.push(n[n.length-1])}}else i||this.name!==f.p.sortname||(g=this.name,i=!0)}),f.p.treeGrid&&f.p._sort)return void f.sortTree(g,f.p.sortorder,j[g].stype||"text",j[g].srcfmt||"");var n=$.jgrid.from(f.p.data);if(f.p.grouping&&!fish.isNull(m.groupOrder))for(e=0;e<d;e++)n.orderBy(l[e],m.groupOrder[e],k[e].stype,k[e].srcfmt);f.p.multiSort?$.each(g,function(a){n.orderBy(this,h[a],j[this].stype,j[this].srcfmt)}):g&&f.p.sortorder&&i&&n.orderBy(f.p.sortname,f.p.sortorder,j[g].stype,j[g].srcfmt);var o=n.select(),p=parseInt(f.p.rowNum,10),q=o.length,r=parseInt(f.p.page,10),s=Math.ceil(q/p),t={};if(f.p.grouping&&f.p.groupingView._locgr){var u;for(f.p.groupingView.groups=[],u=0;u<q;u++)$(f.element).jqGrid("groupingPrepare",o[u],u)}return n=null,j=null,f.p.localSearch&&"json"==f.p.datatype?(t[f.p.jsonReader.total]=f.p.lastpage,t[f.p.jsonReader.page]=f.p.page):(t[f.p.jsonReader.total]=s,r>s&&(r=s),t[f.p.jsonReader.page]=r,o=o.slice((r-1)*p,r*p)),t[f.p.jsonReader.records]=q,t[f.p.jsonReader.root]=o,t[f.p.jsonReader.userdata]=f.p.userData,o=null,t}},_cleanUp:function(){var a=this;a.p.selrow=null,a.p.multiselect&&(a.setHeadCheckBox(!1),a.p.preserveSelection||(a.p.selarrrow=[])),a.p.savedRow=[]},updatepager:function(a,b){var c=this;if(c.p.pager&&c.pagination.pagination("update",{records:c.p.records,rowNum:c.p.rowNum,total:c.p.lastpage,start:c.p.page}),!0===a&&!0===c.p.rownumbers){var d=parseInt(c.p.page,10)-1;d<0&&(d=0),$(">td.jqgrid-rownum",c.rows).each(function(a){$(this).html(d+1+a)})}b&&c.p.jqgdnd&&$(c.element).jqGrid("gridDnD","updateDnD"),c._trigger("gridComplete")},populate:function(a){var b=this;this.p.showMask&&$.blockUI?($(this.element).blockUI(),_.delay(function(){b._populate(a),$(b.element).unblockUI()},0)):b._populate(a)},_populate:function(){var a=this;switch(a.p.page<=0&&(a.p.page=Math.min(1,a.p.lastpage)),a.p.grouping&&$(a.element).jqGrid("groupingSetup"),a.p.datatype.toLowerCase()){case"json":if(a.p.localSearch){!0===a.p.treeGrid&&(a.p.data=a._childrenDataFormat(a.p.data));var b=a.addLocalData();a.addJSONData(b)}else!0===a.p.treeGrid&&a.p.data&&(a.p.data[a.p.jsonReader.root]=a._childrenDataFormat(a.p.data[a.p.jsonReader.root])),a.addJSONData(a.p.data);break;case"local":!0===a.p.treeGrid&&(a.p.data=a._childrenDataFormat(a.p.data));var c=a.addLocalData();a.addJSONData(c)}a.p._sort=!1,a._setEmptyReminder()},setHeadCheckBox:function(a){var b=this;$("#cb_"+b.p.id,b.grid.hDiv).prop("checked",a),(b.p.frozenColumns?b.p.id+"_frozen":"")&&$("#cb_"+b.p.id,b.grid.fhDiv).prop("checked",a)},populatePage:function(){var a,b=this;if("json"===b.p.datatype){var c=[b.p.page,b.p.rowNum,b.p.sortname,b.p.sortorder];if(c=b.p.filterGrid?c.concat([b.p.filterCol,b.p.filterVal]):c,!$.isFunction(b.p.pageData))return alert("please support pageData function to fetch per page data!"),!1;a=$.promisify(b.p.pageData.apply(b,c)),a.then(function(a){if(b.loading&&b.loading.remove(),!a)return!1;b.p.scroll?(b.addJSONData(a),$(".grid-loading").remove(),b._setEmptyReminder()):b.reloadData(a)})}else b._cleanUp(),b.populate()},setPager:function(a){var b,c=this,d=function(a,b){var d={},e=$(".ui-pagination",c.p.pageEl).val();return d.eventType=b,d.newRowNum=e,!1!==c._trigger("onPaging",null,[a,d])};b="json"===c.p.datatype?c.p.data&&c.p.data.length>0?c.p.data[c.p.jsonReader.root]:[]:c.p.data,b&&b.length||(b=[]),c.pagination?c.pagination=$(a,c.element):c.pagination=$(a);var e={records:b.length,displayNum:c.p.displayNum,rowNum:c.p.rowNum,rowList:c.p.rowList,pgButton:c.p.pgbuttons,pgNumber:c.p.pgnumbers,pgInput:c.p.pginput,pgTotal:c.p.viewtotal,pgRecText:!!c.p.viewrecords,recordtext:c.p.recordtext,pgtext:c.p.pgtext,rowtext:c.p.rowtext,pgMultipleTurn:c.p.pgMultipleTurn,pgSingleTurn:c.p.pgSingleTurn,onPageClick:function(a,b){var e=b.page,f=b.eventType,g=[];return g=c.p.selarrrow,!!d(e,f)&&("select"===f&&(c.p.rowNum=c.pagination.pagination("option","rowNum"),c.p.lastpage=parseInt((c.p.records-1)/c.p.rowNum+1)),!(e<1||e>c.p.lastpage)&&(c.p.page=e,c.populatePage(),void("local"===c.p.datatype&&g.length>0&&c.setCheckRows(g,!0))))}};c.pagination.pagination(e)},_multiSort:function(a,b){var c,d,e=this,f="",g=e.p.colModel,h=!1,i="";$("span.ui-grid-ico-sort",b).addClass("ui-state-disabled"),$(b).attr("aria-selected","false"),g[a].lso?"asc"===g[a].lso?(g[a].lso+="-desc",i="desc"):"desc"===g[a].lso?(g[a].lso+="-asc",i="asc"):"asc-desc"!==g[a].lso&&"desc-asc"!==g[a].lso||(g[a].lso=""):g[a].lso=i="asc",i?($("span.s-ico",b).show(),$("span.ui-icon-"+i,b).removeClass("ui-state-disabled"),$(b).attr("aria-selected","true")):$("span.s-ico",b).hide(),e.p.sortorder="",$.each(g,function(a){this.lso&&(a>0&&h&&(f+=", "),c=this.lso.split("-"),f+=g[a].name,f+=" "+c[c.length-1],h=!0,e.p.sortorder=c[c.length-1])}),d=f.lastIndexOf(e.p.sortorder),f=f.substring(0,d),e.p.sortname=f},sortData:function(a,b,c,d){var e=this,f=[];if((e.p.colModel[b].sortable||d)&&!(e.p.savedRow.length>0)){if(f=e.p.selarrrow,c){if(e.p.lastsort===b&&e.p.sortorder===c)return;e.p.sortorder=c}else e.p.lastsort===b?"asc"===e.p.sortorder?e.p.sortorder="desc":"desc"===e.p.sortorder&&(e.p.sortorder="asc"):e.p.sortorder="asc";var g=-1===e.p.lastsort?e.grid.headers[0].el:e.grid.headers[e.p.lastsort].el,h=e.grid.headers[b].el;if(e.p.multiSort?e._multiSort(b,h):($("span.ui-grid-ico-sort",g).addClass("ui-state-disabled"),$(g).attr("aria-selected","false"),e.p.frozenColumns&&(e.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),e.grid.fhDiv.find("th").attr("aria-selected","false")),$("span.ui-icon-"+e.p.sortorder,h).removeClass("ui-state-disabled"),$(h).attr("aria-selected","true"),e.p.lastsort!==b&&(e.p.frozenColumns&&e.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",g).hide(),$("span.s-ico",h).show()),e.p.sortname=a.substring(5+e.p.id.length+1)),!1===e._trigger("onSortCol",null,[e.p.sortname,b,e.p.sortorder]))return void(e.p.lastsort=b);e.p.pager&&e.p.curPageSort?e._curPageSortData(e.p.sortname,e.p.sortorder,b):(e.p._sort=!0,e.p.page=1,e.populatePage()),e.p.lastsort=b,"local"===e.p.datatype&&f.length>0&&e.setCheckRows(f,!0)}},_curPageSortData:function(a,b,c){var d,e,f,g=this,h=[],i="",j=this.getRowData(),k=$.jgrid.from(j),l=g.p.colModel[c].sorttype||"text";if("date"!==l&&"datetime"!==l||(i=fish.config.get("dateParseFormat."+l)),g.p.treeGrid)return void g.sortTree(a,b,l,i);for(k.orderBy(a,b,l,i),f=k.select(),d=0;d<f.length;d++){var m=f[d][g.p.keyName];for(e=0;e<j.length&&m!==j[e][g.p.keyName];e++);var n=$(".ui-jqgrid-bdiv",g.element).find("tr").eq(e+1);h.push(n.clone()[0])}for(d=0;d<h.length;d++){$(".ui-jqgrid-bdiv",g.element).find("tr").eq(d+1).after(h[d]).remove()}},nextVisible:function(a){var b,c=this,d=a,e=a;for(b=a+1;b<c.p.colModel.length;b++)if(!0!==c.p.colModel[b].hidden){e=b;break}return e-d},getOffset:function(a){var b=this,c=$(b.grid.headers[a].el),d=[c.position().left+c.outerWidth()],e=b.$slimScroll[0].scrollLeft;return d[0]-=e,d.push($(b.grid.hDiv).position().top),d.push($(b.grid.bDiv).offset().top-$(b.grid.hDiv).offset().top+$(b.grid.bDiv).height()),d},getColumnHeaderIndex:function(a){var b,c=this,d=c.grid.headers,e=$.jgrid.getCellIndex(a);for(b=0;b<d.length;b++)if(a===d[b].el){e=b;break}return e},getGridParam:function(a){var b=this;return a?b.p[a]!==undefined?b.p[a]:null:b.p},setGridParam:function(a){this.grid&&"object"==typeof a&&$.extend(!0,this.p,a)},getGridRowById:function(a){var b;try{b=this.rows.namedItem(a)}catch(c){}return b},getDataIDs:function(){var a,b=[],c=0,d=0;if((a=this.rows.length)&&a>0)for(;c<a;)$(this.rows[c]).hasClass("jqgrow")&&(b[d]=this.rows[c].id,d++),c++;return b},getCheckRows:function(){var a=[],b=this,c=b.p.selarrrow;if(b.p.preserveSelection)a=b.p.preservedSelData;else for(var d=0;d<c.length;d++)b.p.data[b.p._index[c[d]]]&&a.push(b.p.data[b.p._index[c[d]]]);return a},setCheckDisabled:function(a,b){var c,d=this;if($.isArray(a))for(var e=0;e<a.length;e++)c=a[e],$("[id='jqg_"+d.p.id+"_"+c+"']",d.element).prop("disabled",b);else c=a,$("[id='jqg_"+d.p.id+"_"+c+"']",d.element).prop("disabled",b)},setAllCheckDisabled:function(a){$("#gview_"+this.p.id).find("input[type='checkbox']").prop("disabled",a)},setAllCheckRows:function(a){var b=this;return!1!==a&&!0!==a&&(a=!$("#cb_"+b.p.id).prop("checked")),b.p.frozenColumns?$("#cb_"+b.p.id,b.grid.fhDiv).prop("checked",!a).trigger("click"):$("#cb_"+b.p.id,b.grid.hDiv).prop("checked",!a).trigger("click"),this},setCheckRows:function(a,b){for(var c,d,e,f=this,g=0;g<a.length;g++)d=a[g]+"",e=$.inArray(d,f.p.selarrrow),c=!0===b||!1===b?b:-1===e,!1===c&&-1!==e?(f.setHeadCheckBox(!1),f._removeSelection(d),$("[id='jqg_"+f.p.id+"_"+d+"']",f.element).prop("checked",!1)):!0===c&&-1===e?(f._addSelection(d),$("[id='jqg_"+f.p.id+"_"+d+"']",f.element).prop("checked",!0)):!0===c&&e>-1&&$("[id='jqg_"+f.p.id+"_"+d+"']",f.element).prop("checked",!0)},getSelection:function(){var a={},b=this;return b.p.selrow&&(a=$(b.element).jqGrid("getRowData",b.p.selrow)),a},setSelection:function(a,b,c){var d,e,f,g,h,i,j=this;if(a!==undefined&&("object"===$.type(a)&&(a=a[j.p.keyName]),b=!1!==b,f=this.getGridRowById(a))){!0===j.p.frozenColumns&&(i=j.p.id+"_frozen"),j.p.selrow!==f.id?(j.p.selrow&&$(this.getGridRowById(j.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),$(f).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),i&&($("#"+j.p.selrow,"#"+i).removeClass("ui-state-highlight"),$("#"+a,"#"+i).addClass("ui-state-highlight")),d=!0):d=!1;var k=j.p.selrow;j.p.selrow=f.id;var l=null!=c&&null!=c.target&&$(c.target).hasClass("cbox");if(j.p.multiselect&&l&&(j.setHeadCheckBox(!1),h=$.inArray(j.p.selrow,j.p.selarrrow),-1===h?(j._addSelection(j.p.selrow),$("[id='jqg_"+j.p.id+"_"+f.id+"']",j.element).prop("checked",!0)):(j._removeSelection(j.p.selrow),$("[id='jqg_"+j.p.id+"_"+f.id+"']",j.element).prop("checked",!1))),h=$.inArray(j.p.selrow,j.p.selarrrow),e=-1!==h,j.p.treeGrid&&(j._setVisibleNode(f.id),j.p.multiselect&&l&&j._cascadeChecked(e)),!0===j.p.scrollrows){g=f.rowIndex,g>=0&&function(a){var b=j.grid.bDiv.clientHeight,c=$(j.rows[a]).position().top,d=$(j.rows[a]).height();(c<0||c+d>b)&&j.$slimScroll.slimscroll({scrollToY:j.$slimScroll.scrollTop()+c+d-b})}(g);var m=$(f).position();$(f).focus(),j.$slimScroll.slimscroll({scrollToX:-m.left})}b&&(j._trigger("onSelectRow",c,[f.id,d,e]),d&&(j._trigger("onChangeRow",c,[f.id,k]),j._triggerPagePoint({eventType:"onChangeRow",rowid:f.id,oldrowid:k}))),this.element.closest(".ui-subgrid").length&&c.stopPropagation()}},_triggerPagePoint:function(a){var b=function(a){var b=a.rowid,c=a.oldrowid;return b&&!a.value&&(a.value=this.getRowData(b)),c&&!a.origValue&&(a.origValue=this.getRowData(c)),{value:a.value,origValue:a.origValue}};this._pagePoint(a,b.bind(this))},resetSelection:function(){var a,b=this;!0===b.p.frozenColumns&&(a=b.p.id+"_frozen"),b.p.selrow&&($(this.getGridRowById(b.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),a&&$("#"+b.p.selrow,"#"+a).removeClass("ui-state-highlight"),b.p.selrow=null),!0===b.p.cellEdit&&parseInt(b.p.iCol,10)>=0&&parseInt(b.p.iRow,10)>=0&&($("td:eq("+b.p.iCol+")",b.rows[b.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(b.rows[b.p.iRow]).removeClass("selected-row ui-state-hover")),b.p.savedRow=[]},getPrevSelection:function(a){var b=this;if(fish.isEmpty(a))return null;"object"===$.type(a)&&(a=a[b.p.keyName].toString());var c=b.p._index[a];if(isNaN(c))return null;var d="#"+a.replace(/\./g,"\\.").replace(/\ /,"\\ "),e=b.$tb.find(d).prev();if(0===e.length||"jqgfirstrow"===e.attr("class"))return null;var f=e.attr("id"),g=b.p._index[f];return b.p.treeGrid?$(this.element).jqGrid("getPrevNode",b.p.data[c]):b.p.data[g]},getNextSelection:function(a){var b=this;if(fish.isEmpty(a))return null;"object"===$.type(a)&&(a=a[b.p.keyName].toString());var c=b.p._index[a];if(isNaN(c))return null;var d="#"+a.replace(/\./g,"\\.").replace(/\ /,"\\ "),e=b.$tb.find(d).next();if(0===e.length)return null;var f=e.attr("id"),g=b.p._index[f];return b.p.treeGrid?$(this.element).jqGrid("getNextNode",b.p.data[c]):b.p.data[g]},setPrevSelection:function(a,b){var c=$(this.element).jqGrid("getPrevSelection",a);c&&$(this.element).jqGrid("setSelection",c,b)},setNextSelection:function(a,b){var c=$(this.element).jqGrid("getNextSelection",a);c&&$(this.element).jqGrid("setSelection",c,b)},getRowid:function(a){return a?a[this.p.keyName]:this.p.selrow?this.getSelection()[this.p.keyName]:null},getKeyName:function(){return this.p.keyName},getRowData:function(a,b){var c,d,e,f,g={},h=!1,i=0,j=this;if(null==a)h=!0,c=[],d=j.rows.length;else{if(!(f=this.getGridRowById(a)))return g;d=2}if(!(j.p.data.length>0))return c||g;for(b=!1!==b;i<d;)h&&(f=j.rows[i]),$(f).hasClass("jqgrow")&&(b?g=j.p.data[j.p._index[f.id]]:$('td[role="gridcell"]',f).each(function(a){if("cb"!==(e=j.p.colModel[a].name)&&"rn"!==e)if(!0===j.p.treeGrid&&e===j.p.expandColumn)g[e]=$.jgrid.htmlDecode($("span:first",this).html());else try{g[e]=$.unformat.call(j,this,{rowId:f.id,colModel:j.p.colModel[a]},a)}catch(b){g[e]=$.jgrid.htmlDecode($(this).html())}}),h&&(c.push(g),g={})),i++;return c||g},delRowData:function(a){var b,c=!1,d=this;"object"===$.type(a)&&(a=a[d.p.keyName]);var e=d.p._index[a];return!fish.isUndefined(e)&&("filter"===d.p.searchMode&&d.delDataUpdate(a),d.p.records--,d.p.reccount--,d.updatepager(!0,!1),c=!0,d.p.multiselect&&-1!==$.inArray(a+"",d.p.selarrrow)&&d._removeSelection(a+""),d.p.selrow==a&&(d.p.selrow=null),d.p.data.splice(e,1),d.refreshIndex(),0===d.p.data.length&&($(d.grid.tDiv).html(d.p.emptyrecords).addClass("ui-jqgrid-tip"),$(d.grid.tDiv).css("width",d._getRealWidth())),b=this.getGridRowById(a),b&&($(b).remove(),d._reloadScroll()),d._trigger("gridComplete.setFrozenColumns"),c)},setRowData:function(a,b,c,d){var e,f,g,h,i=this;if("object"==typeof a&&(d=c,c=b,b=a,a=b[i.p.keyName]),b=d?$.extend(fish.clone(this.getRowData(a)),b):b,!(e=this.getGridRowById(a)))return!1;if(b){$(i.p.colModel).each(function(c){f=this.name;var j=$.jgrid.getAccessor(b,f);(j!==undefined||d)&&(g=i.formatter(a,j,c,b,"edit"),h=this.title?{title:$.jgrid.stripHtml(g)}:{},!0===i.p.treeGrid&&f===i.p.expandColumn?$("td[role='gridcell']:eq("+c+") > span:first",e).html(g).attr(h):$("td[role='gridcell']:eq("+c+")",e).html(g).attr(h))});var j=i.p._index[a];j!==undefined&&(i.p.data[j]=$.extend(!1,i.p.data[j],b))}return"string"==typeof c?$(e).addClass(c):"object"==typeof c&&$(e).css(c),!0},addRowData:function(a,b,c,d){var e=this;"object"==typeof a&&(d=c,c=b,b=a,a=undefined),c||(c="last");var f,g,h,i,j,k,l,m=!1,n=e.p.keyName;if(b){$.isArray(b)||(a!==undefined&&(b[n]=a),b=[b]);var o=b.length;i=!0===e.p.rownumbers?1:0,h=!0===e.p.multiselect?1:0,j=!0===e.p.subGrid?1:0;for(var p=0,q=d;p<o;){for(l=b[p],a=l[n],a===undefined&&(a=$.jgrid.randId(),l[n]=a),g=[],i&&(g[g.length]=e.addRowNum(0,0,1,0)),h&&(g[g.length]=e.addMulti(a,i)),j&&(g[g.length]=e._addSubGridCell(a,i,l)),t=h+i+j;t<e.p.colModel.length;t++)f=e.p.colModel[t].name,g[g.length]=e.addCell(a,$.jgrid.getAccessor(l,f),t,l);if(g.unshift(e._constructTr(a,l,!1)),g[g.length]="</tr>",0===e.rows.length)$("table:first",e.grid.bDiv).append(g.join(""));else switch(c){case"last":$(e.rows[e.rows.length-1]).after(g.join(""));break;case"first":$(e.rows[0]).after(g.join(""));break;case"after":k=this.getGridRowById(q),k&&($(k).after(g.join("")),q=a);break;case"before":k=this.getGridRowById(d),k&&$(k).before(g.join(""))}e.p.records++,e.p.reccount++,e._trigger("afterInsertRow",null,[a,l]),p++}var r=[];"first"===c&&(r=r.concat(b));for(var s=e.p._index[d],t=0;t<e.p.data.length;t++)"before"===c&&s==t&&(r=r.concat(b)),r.push(e.p.data[t]),"after"===c&&s==t&&(r=r.concat(b));"last"===c&&(r=r.concat(b)),e.p.data=r,e.refreshIndex(),e.updatepager(!0,!0),m=!0,$(e.grid.tDiv).html()&&$(e.grid.tDiv).empty().removeClass("ui-jqgrid-tip").removeAttr("style"),e._reloadScroll()}return m},footerData:function(a,b,c){var d,e,f=!1,g={};a===undefined&&(a="get"),"boolean"!=typeof c&&(c=!0),a=a.toLowerCase();var h,i=this;return!(!i.grid||!i.p.footerrow)&&(("set"!==a||!$.isEmptyObject(b))&&(f=!0,$(this.p.colModel).each(function(j){d=this.name,"set"===a?b[d]!==undefined&&(h=c?i.formatter("",b[d],j,b,"edit"):b[d],e=this.title?{title:$.jgrid.stripHtml(h)}:{},$("tr.footrow td:eq("+j+")",i.grid.sDiv).html(h).attr(e),f=!0):"get"===a&&(g[d]=$("tr.footrow td:eq("+j+")",i.grid.sDiv).html())}),"get"===a?g:f))},_showHideCol:function(a,b,c){var d,e=this,f=!1;"string"==typeof a&&(a=[a]);var g=""===b,h=e.p.groupHeader;if(h&&$(e.element).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(h){if(-1!==$.inArray(this.name,a)&&this.hidden===g){if(!0===e.p.frozenColumns&&!e.p.frozenReverse&&!0===this.frozen)return!0;$("tr[role=rowheader]",e.grid.hDiv).each(function(){$(this.cells[h]).css("display",b)}),$(e.rows).each(function(){$(this).hasClass("jqgroup")?$(this).find("td").attr("colspan",g?parseInt($(this).find("td").attr("colspan"))+1:parseInt($(this).find("td").attr("colspan"))-1):$(this.cells[h]).css("display",b)}),e.p.footerrow&&$("tr.footrow td:eq("+h+")",e.grid.sDiv).css("display",b),d=parseInt(this.width,10),"none"===b?e.p.tblwidth-=d:e.p.tblwidth+=d,this.hidden=!g,c!==undefined&&(this.hidedlg=!c),f=!0,e._trigger("showHideCol",null,[g,this.name,h]),fish.browser.msie&&8===fish.browser.version&&e.setGridWidth(e.p.width)}}),e.p.shrinkToFit){var i=[],j=$("tr.ui-jqgrid-labels",e.grid.hDiv);$("th[role='columnheader']",j).each(function(){i.push($(this)[0].offsetWidth)});for(var k=0;k<i.length;k++)0!==i[k]&&(e.grid.headers[k].width=i[k],e.grid.headers[k].el.style.width=i[k]+"px",e.grid.cols[k].style.width=i[k]+"px")}else $("table:first",e.grid.bDiv).css("width",e.p.tblwidth+"px"),$("table:first",e.grid.hDiv).css("width",e.p.tblwidth+"px"),e.$slimScroll.slimscroll({scrollToX:e.grid.hDiv.scrollLeft,height:e.$slimScroll.outerHeight(),width:e.element.width()}),e.p.footerrow&&($("table:first",e.grid.sDiv).css("width",e.p.tblwidth+"px"),e.grid.sDiv.scrollLeft=e.grid.hDiv.scrollLeft);!0===f&&e.p.fixWidth&&$(e.element).jqGrid("setGridWidth",!0===e.p.shrinkToFit?e.p.tblwidth:e.p.width),h&&$(e.element).jqGrid("setGroupHeaders",e.p.groupHeader),e._trigger("showHideColumn")},hideCol:function(a,b){return this._showHideCol(a,"none",b)},showCol:function(a){return this._showHideCol(a,"")},setGridWidth:function(a,b){var c=this,d=c.grid;if("boolean"!=typeof b&&(b=c.p.shrinkToFit),c.p.shrinkToFit=b,!isNaN(a)&&(!0!==c.p.shrinkToFit||c.p.columnResizable)){
var e,f,g=0,h=-1,i=0;if(c.grid.width=c.p.width=a,$(c.element).css("width",a+"px"),$("#gview_"+c.p.id).css("width",a+"px"),$(c.grid.bDiv).css("width",a+"px"),$(c.grid.hDiv).css("width",a+"px"),c.p.footerrow&&$(c.grid.sDiv).css("width",a+"px"),!1===b&&!0===c.p.forceFit&&(c.p.forceFit=!1),!0===b){if($.each(c.p.colModel,function(){!1===this.hidden&&(e=this.widthOrg,g+=e,this.fixed?i+=e:h++)}),-1===h)return;c.p.tblwidth=g,f=a-i,g=0;var j=c.grid.cols.length>0;if($.each(c.p.colModel,function(a){!1!==this.hidden||this.fixed||(e=this.widthOrg,e=Math.round(f*e/(c.p.tblwidth-i)),this.width=e,g+=e,c.grid.headers[a].width=e,c.grid.headers[a].el.style.width=e+"px",c.p.footerrow&&(c.grid.footers[a].style.width=e+"px"),j&&(c.grid.cols[a].style.width=e+"px"),h=a)}),-1===h)return;var k=d.width-i-g;if(c.p.colModel[h].width+=k-2,c.p.tblwidth=g+(k-2)+i,c.p.tblwidth>a){var l=c.p.tblwidth-parseInt(a,10);c.p.tblwidth=a,e=c.p.colModel[h].width=c.p.colModel[h].width-l}else e=c.p.colModel[h].width;c.grid.headers[h].width=e,c.grid.headers[h].el.style.width=e+"px",j&&(c.grid.cols[h].style.width=e+"px"),c.p.footerrow&&(c.grid.footers[h].style.width=e+"px")}c.p.tblwidth&&($("table:first",c.grid.bDiv).css("width",c.p.tblwidth+"px"),$("table:first",c.grid.hDiv).css("width",c.p.tblwidth+"px"),c.grid.hDiv.scrollLeft=c.$slimScroll[0].scrollLeft,c.p.footerrow&&$("table:first",c.grid.sDiv).css("width",c.p.tblwidth+"px")),c.p.subGrid&&this.setSubGridWidth(a),$(c.grid.bDiv).slimscroll({width:a,axis:"both"})}},setGridHeight:function(a){var b=this;if(b.grid){var c=$(b.element);isNaN(b.p.height)||(a-=c.outerHeight()-b.p.height);var d=$(b.grid.bDiv);d.css({height:a+(isNaN(a)?"":"px")}),!0===b.p.frozenColumns&&$("#"+b.p.id+"_frozen").parent().height(d.height()-16),b.p.height=a,d.slimscroll({height:d.height(),width:b.element.width()})}},setCaption:function(a){this.p.caption=a,$("span.ui-jqgrid-title",this.grid.cDiv).html(a),$(this.grid.cDiv).show()},setLabel:function(a,b,c,d){var e=this,f=-1;if(a!==undefined&&($(e.p.colModel).each(function(b){if(this.name===a)return f=b,!1}),f>=0)){var g=$("tr.ui-jqgrid-labels th:eq("+f+")",e.grid.hDiv);if(b){var h=$(".s-ico",g);$("[id^=jqgh_]",g).empty().html(b).append(h),e.p.colModel[f].label=b}c&&("string"==typeof c?$(g).addClass(c):$(g).css(c)),"object"==typeof d&&$(g).attr(d)}},setCell:function(a,b,c,d,e,f){var g,h,i=this,j=-1;if(isNaN(b)?$(i.p.colModel).each(function(a){if(this.name===b)return j=a,!1}):j=parseInt(b,10),j>=0){var k=this.getGridRowById(a),l=this.getRowData(a);if(k){var m=$("td:eq("+j+")",k);if(""!==c||!0===f){g=i.formatter(a,c,j,l,"edit"),h=i.p.colModel[j].title?{title:$.jgrid.stripHtml(g)}:{},i.p.treeGrid&&$(".tree-wrap",$(m)).length>0?$("span",$(m)).html(g).attr(h):$(m).html(g).attr(h);var n,o=i.p.colModel[j];c=o.formatter&&"string"==typeof o.formatter&&"date"===o.formatter?$.unformat.date.call(i,c,o):c,n=i.p._index[a],n!==undefined&&(i.p.data[n][o.name]=c)}"string"==typeof d?$(m).addClass(d):d&&$(m).css(d),"object"==typeof e&&$(m).attr(e)}}},getCell:function(a,b){var c=!1,d=this,e=-1;if(isNaN(b)?$(d.p.colModel).each(function(a){if(this.name===b)return e=a,!1}):e=parseInt(b,10),e>=0){var f=this.getGridRowById(a);if(f)try{c=$.unformat.call(d,$("td:eq("+e+")",f),{rowId:f.id,colModel:d.p.colModel[e]},e,!0)}catch(g){c=$.jgrid.htmlDecode($("td:eq("+e+")",f).html())}}return c},reloadData:function(a,b){a&&($(this.element).jqGrid("clearData"),$(this.element).jqGrid("setGridParam",{data:a})),!b&&this.originData&&"local"===this.p.datatype&&(this.originData=a),$(this.element).trigger("reloadGrid"),this.p.multiselect&&this.p.preserveSelection&&this.setCheckRows(this.p.selarrrow,!0)},clearGridData:function(){this.clearData()},clearData:function(a){var b=this;"boolean"!=typeof a&&(a=!1);var c=$("tbody:first tr:first",b.grid.bDiv)[0];$("tbody:first",b.grid.bDiv).empty().append(c),b.p.footerrow&&a&&$(".ui-jqgrid-ftable td",b.grid.sDiv).html("&#160;"),$(b.grid.tDiv).html(b.p.emptyrecords).addClass("ui-jqgrid-tip"),$(b.grid.tDiv).css("width",b._getRealWidth()),b.$slimScroll&&b.$slimScroll.slimscroll({scrollToX:b.grid.tDiv.scrollLeft}),b.p.selrow=null,b.p.preserveSelection||(b.p.selarrrow=[]),b.p.savedRow=[],b.p.records=0,b.p.localSearch||(b.p.page=1,b.p.lastpage=0),b.p.reccount=0,b.p.data=[],b.p._index={},b.updatepager(!0,!1)},getInd:function(a,b){var c,d=!1;return c=this.getGridRowById(a),c&&(d=!0===b?c:c.rowIndex),d},bindKeys:function(){var a=this;$("body").is("[role]")||$("body").attr("role","application"),$(a.$tb).keydown(function(b){var c,d=a._getRowWithFocus(),e=a.p.treeReader.leaf;d&&(c=a.p._index[d.id],37===b.keyCode||38===b.keyCode||39===b.keyCode||40===b.keyCode?(38===b.keyCode&&(a._moveByRow(-1),b.preventDefault()),40===b.keyCode&&(a._moveByRow(1),b.preventDefault()),37===b.keyCode&&(a.p.treeGrid&&a._isRowFocused()&&!a.p.data[c][e]&&a.p.data[c].expanded?a.collapseNode(a.p.data[c],!0):a._moveByCol(-1),a._trigger("onLeftKey",null,a.p.selrow)),39===b.keyCode&&(a.p.treeGrid&&a._isRowFocused()&&!a.p.data[c][e]&&!a.p.data[c].expanded?a.expandNode(a.p.data[c],!0):a._moveByCol(1),a._trigger("onRightKey",null,a.p.selrow))):13===b.keyCode?a._trigger("onEnter",null,a.p.selrow):32===b.keyCode&&a._trigger("onSpace",null,a.p.selrow))})},_isRowFocused:function(){return this._getRowWithFocus()===document.activeElement},_getRowWithFocus:function(){return this._getContainingRow(document.activeElement)},_getContainingRow:function(a){var b=this.$tb[0],c=a;if(b.contains(c))for(;c!==b;){if("tr"===c.localName)return c;c=c.parentElement}},_moveByCol:function(a){var b=this._getRowWithFocus();if(b){this.p.selrow===b.id&&this.resetSelection(b.id,!0,event);var c=$(b).find("td:visible"),d=this._getColWithFocus(b),e=c.index(d),f=d?e+a:0;if(d&&d.removeAttribute("tabindex"),f<0&&this.p.treeGrid)return void this.setSelection(b.id,!0,event);(d||this.p.treeGrid)&&(f=this._restrictIndex(f,c.length),this._focusCell(c[f]))}},_getColWithFocus:function(a){if(a){var b=document.activeElement;if(a.contains(b))for(;b!==a;){if("td"===b.localName)return b;b=b.parentElement}}},_focusCell:function(a){a.tabIndex=0,a.focus()},_restrictIndex:function(a,b){return a<0?0:a>=b?a-1:a},_moveByRow:function(a){var b=this._getRowWithFocus(),c=this.$tb.find("tbody > tr:visible:gt(0)"),d=b?c.index(b):-1;d=this._restrictIndex(d+a,c.length),this._focusSameColInDiffRow(b,c[d])||(this.setSelection(c[d].id,!0,event),0===b.tabIndex&&(b.tabIndex=-1))},_focusSameColInDiffRow:function(a,b){var c=this._getColWithFocus(a);if(c){c.removeAttribute("tabindex");var d=$(a).find("td:visible"),e=d.index(c);if(!(d.index(c)<0)){var f=$(b).find("td:visible");return this._focusCell(f[e]),!0}}},unbindKeys:function(){$(this.$tb).unbind("keydown")},navButtonAdd:function(a){a&&($.isArray(a)||(a=[a]));for(var b,c=this,d=0,e=0;e<a.length;e++){if(b=$.extend({caption:""},a[e]||{}),b.navpos||(b.navpos=this.p.navpos||"pager"),"topbar"===b.navpos?b.navpos="#t_"+c.p.id:"bottombar"===b.navpos?b.navpos="#tb_"+c.p.id:"pager"===b.navpos&&(b.navpos=this.p.pagebar?"#"+c.p.id+"_pager_left":""),!b.navpos)return;var f=$(b.navpos,c.element).find(".ui-nav-btn-group")[0];if(f||(f=$("<div class='btn-group ui-nav-btn-group'></div>")[0],$(b.navpos,c.element).append(f)),b.id&&$("#"+b.id,f).length>0)return;var g=$("<button class='ui-nav-button' type='button'>"+b.caption+"</button>");"string"==typeof b.cssprop?g.addClass(b.cssprop):"object"==typeof b.cssprop&&g.css(b.cssprop),b.buttonicon&&g.prepend("<span class='"+b.buttonicon+"'></span>"),b.title&&g.attr("title",b.title),b.id&&g.attr("id",b.id),g.appendTo(f).click(function(a){return function(b){$.isFunction(a.onClick)&&a.onClick.call(c,b)}}(b))}var h=$("#"+c.p.id+"_pager",c.element).width(),i=$("#"+c.p.id+"_pager_right",c.element).width();if(c.options.showColumnsFeature||c.options.columnMenu){d=h-i-$("#"+c.p.id+"_pager_left .js-columns",c.element).outerWidth(!0)}else d=h-i;var j=$("#"+c.p.id+"_pager_left",c.element);if(j&&j.length>0){var k=j.find(".btn-group.ui-nav-btn-group .dropdown-toggle")[0];if(!k){k=$("<div class='ui-nav-btn-group'></div>");var l=$("<button class='ui-nav-button dropdown-toggle' data-toggle='dropdown' type='button'><span class='glyphicon glyphicon-option-horizontal'></span></button>");k.append(l),j.find(".btn-group.ui-nav-btn-group").append(k)}var m=j.find(".btn-group.ui-nav-btn-group");m.outerWidth(!0)-d<=0?m.find(".ui-nav-btn-group").remove():this._arrangeBtn(m,d)}},_arrangeBtn:function(a,b){if(!(b<=0)){var c,d,e=this,f=a.outerWidth(!0)-b,g=a.children(".ui-nav-btn-group"),h=$(".dropdown-menu-btn",g)[0];if(e._gridVisible()){if(h)c=$(h).children().children(),c=c.toArray().reverse(),$(c).each(function(a,b){$(b).clone(!0).insertBefore(g),$(b).parent().remove()}),f=a.outerWidth(!0)-b;else{if(g&&0==g.length){g=$("<div class='ui-nav-btn-group'></div>");var i=$("<button class='ui-nav-button dropdown-toggle' data-toggle='dropdown' type='button'><span class='glyphicon glyphicon-option-horizontal'></span></button>");g.append(i),a.append(g)}h=$("<ul class='dropdown-menu dropdown-menu-btn'></ul>"),h.appendTo(g)}for(;f>0;){c=a.children(),d=c.length;var j=$("<li></li>"),k=$(c[d-2]).clone(!0);j.append(k).appendTo(h),$(c[d-2]).remove(),f=a.outerWidth(!0)-b}0==$(h).children().length&&$(h).parent().remove()}}},navButtonRefresh:function(){var a=this,b=$("#"+a.p.id+"_pager_left .btn-group.ui-nav-btn-group",a.element);if(b&&b.length>0){var c,d=a.element.parent().width(),e=$("#"+a.p.id+"_pager_right",a.element).width();if(a.options.showColumnsFeature||a.options.columnMenu){c=d-e-$("#"+a.p.id+"_pager_left .js-columns",a.element).outerWidth(!0)}else c=d-e;a._arrangeBtn(b,c)}},moveUpRow:function(a){this.moveRow(a,-1)},moveDownRow:function(a){this.moveRow(a,1)},moveRow:function(a,b){if(b&&0!=b&&a){var c=this,d=c.getRowData(a);if(d){var e,f;!0===c.p.treeGrid?(e=c.getSiblingNodes(d),f=_.indexOf(e,d)):(e=c.getRowData(),f=c.p._index[a]);var g=f+b;if(g>-1&&g<e.length){var h=e[g],i=b<0?"before":"after";if(!0===c.p.treeGrid){var j=c.getFullTreeNode(d);c.delTreeNode(d),c.addTreeNodes(j,h.parent,i,h[c.p.keyName])}else c.delRowData(d),c.addRowData(d,i,h[c.p.keyName]);c.setSelection(d)}}}},_getRealWidth:function(){var a=this;return a.options.shrinkToFit?$(a.$tDiv).width():$(a.$tb).width()},_reloadScroll:function(){var a=this;if("auto"===a.p.height&&a.p.maxHeight){var b=a.$tb.height(),c=$(a.grid.hDiv).outerHeight(),d=a.grid.cDiv?$(a.grid.cDiv).outerHeight():0,e=a.p.maxHeight<b+c+d,f=a.p.maxHeight-c-d;$(".ui-jqgrid-bdiv",a.element).css({height:e?f:"auto"}),$(a.grid.bDiv).slimscroll({height:e?f:"content"})}},jumpPage:function(a){var b=this;b.p.pager&&(b.p.rowNum=a.rowNum||b.p.rowNum,b.p.page=a.page,b.populate())}}),$.fn.jqGrid=$.fn.grid}(),function(){"use strict";$.extend($.ui.grid.prototype,{bindEv:function(a,b){var c=this;$.isFunction(b.dataInit)&&b.dataInit.call(c,a,b),b.dataEvents&&$.each(b.dataEvents,function(){this.data!==undefined?$(a).bind(this.type,this.data,this.fn):$(a).bind(this.type,this.fn)})},_filterReloadData:function(a){a&&($(this.element).jqGrid("clearData"),$(this.element).jqGrid("setGridParam",{data:a})),$(this.element).trigger("reloadGrid")},_goFilter:function(){function a(b){var c,d,e,f,g,h,j=0;if(null!=b.groups){for(d=b.groups.length&&"OR"===b.groupOp.toString().toUpperCase(),d&&n.orBegin(),c=0;c<b.groups.length;c++){j>0&&d&&n.or();try{a(b.groups[c])}catch(k){alert(k)}j++}d&&n.orEnd()}if(null!=b.rules)try{for(e=b.rules.length&&"OR"===b.groupOp.toString().toUpperCase(),e&&n.orBegin(),c=0;c<b.rules.length;c++)g=b.rules[c],f=b.groupOp.toString().toUpperCase(),h=g.fieldCase,m[g.op]&&g.field&&(j>0&&f&&"OR"===f&&(n=n.or()),n="true"===h?n.ignoreCase():n.useCase(),n="oc"===g.op?m[g.op](n,f)(g.field,g.data,g.fieldSeparator):m[g.op](n,f)(g.field,g.data,i[g.field])),j++;e&&n.orEnd()}catch(l){alert(l)}}var b,c,d,e=this,f=e.p.multiSort?[]:"",g=[],h=!1,i={},j=[],k=[],l=!!e.p.grouping&&e.p.groupingView;if(!0!==e.p.localSearch&&"undefined"!=typeof e.p.localSearch){e.originalData&&0!==e.originalData.length||(e.originalData=e.p.data),$.each(e.p.colModel,function(){if(c=this.sorttype||"text","date"===c||"datetime"===c?(b=fish.config.get("dateParseFormat."+c),d=fish.config.get("dateDisplayFormat."+c),i[this.name]={stype:c,srcfmt:b,newfmt:d}):i[this.name]={stype:c,srcfmt:"",newfmt:""},e.p.grouping)for(var a=0,m=l.groupField.length;a<m;a++)this.name===l.groupField[a]&&(j[a]=i[this.name],k[a]=this.name);if(e.p.multiSort){if(this.lso){f.push(this.name);var n=this.lso.split("-");g.push(n[n.length-1])}}else h||this.name!==e.p.sortname||(f=this.name,h=!0)});var m={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return"OR"===b?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return"OR"===b?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return"OR"===b?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return"OR"===b?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return"OR"===b?a.orNot().isNull:a.andNot().isNull},oc:function(a){return a.orContains}},n=$.jgrid.from(this.originalData);if(e.p.postData){var o=e.p.postData.filters;if(o)"string"==typeof o&&(o=$.jgrid.parse(o)),a(o);else try{n=m[e.p.postData.searchOper](n)(e.p.postData.searchField,e.p.postData.searchString,i[e.p.postData.searchField])}catch(q){throw q}}var p=n.select();e.p.localSearch=!0,$("#"+e.options.id+"filterNum").text(p.length),e._filterReloadData(p)}},filterToolbar:function(a){a=$.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",ignoreCase:!1,customSeparator:",",searchOperators:!1,resetIcon:"<span class='glyphicon glyphicon-remove-circle'></span>",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#",oc:"~~"}},$.jgrid.search,a||{});var b=this;if(!this.ftoolbar){var c,d=function(){b.p.postData||(b.p.postData={});var c,d,e,f,g,h={},i={},j={},k={};$.each(b.p.colModel,function(){var l=$("#gs_"+$.jgrid.jqID(this.name),!0===this.frozen&&!0===b.p.frozenColumns?b.grid.fhDiv:b.grid.hDiv);if(d=this.index||this.name,f=this.searchoptions&&this.searchoptions.ignoreCase!==undefined?this.searchoptions.ignoreCase:a.ignoreCase,g=this.searchoptions&&this.searchoptions.customSeparator!==undefined?this.searchoptions.customSeparator:a.customSeparator,e=a.searchOperators?l.parent().parent().prev().children("a").attr("soper")||a.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":a.defaultSearch,(c="custom"===this.stype&&$.isFunction(this.searchoptions.custom_value)&&l.length>0&&"SPAN"===l[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(b,l.children(".customelement:first"),"get"):l.val())||"nu"===e||"nn"===e)h[d]=c,i[d]=e,j[d]=f,k[d]=g;else try{delete b.p.postData[d]}catch(m){throw m}});var l='{"groupOp":"'+a.groupOp+'","rules":[',m=0;$.each(h,function(a,b){m>0&&(l+=","),l+='{"field":"'+a+'",',l+='"op":"'+i[a]+'",',l+='"fieldCase":"'+j[a]+'",',l+='"fieldSeparator":"'+k[a]+'",',b+="",l+='"data":"'+b.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',m++}),l+="]}",$.extend(b.p.postData,{filters:l}),b.p.filters=l,$.each(["searchField","searchString","searchOper"],function(a,c){b.p.postData.hasOwnProperty(c)&&delete b.p.postData[c]});var n;b.p.searchurl&&(n=b.p.url,$(b).jqGrid("setGridParam",{url:b.p.searchurl}));var o="stop"===$(b).triggerHandler("jqGridToolbarBeforeSearch");!o&&$.isFunction(a.beforeSearch)&&(o=a.beforeSearch.call(b)),b.p.scroll||b._goFilter();var p=[{page:b.p.page,rowNum:b.p.rowNum,sortname:b.p.sortname,sortorder:b.p.sortorder,filters:b.p.filters}];b._trigger("onFilter",null,p),n&&$(b).jqGrid("setGridParam",{url:n}),$(b).triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(a.afterSearch)&&a.afterSearch.call(b)},e=function(c){var d,e={};if(c="boolean"!=typeof c||c,$.each(b.p.colModel,function(){var a,c=$("#gs_"+$.jgrid.jqID(this.name),!0===this.frozen&&!0===b.p.frozenColumns?b.grid.fhDiv:b.grid.hDiv);switch(this.searchoptions&&this.searchoptions.defaultValue!==undefined&&(a=this.searchoptions.defaultValue),d=this.index||this.name,this.stype){case"select":if(c.find("option").each(function(b){if(0===b&&(this.selected=!0),$(this).val()===a)return this.selected=!0,!1}),a!==undefined)e[d]=a;else try{delete b.p.postData[d]}catch(f){throw f}break;case"text":if(c.val(a||""),a!==undefined)e[d]=a;else try{delete b.p.postData[d]}catch(g){throw g}break;case"custom":$.isFunction(this.searchoptions.custom_value)&&c.length>0&&"SPAN"===c[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(b,c.children(".customelement:first"),"set",a||"")}}),b.p.resetsearch=!0,!0===a.stringResult||"local"===b.p.datatype){var f='{"groupOp":"'+a.groupOp+'","rules":[',g=0;$.each(e,function(a,b){g>0&&(f+=","),f+='{"field":"'+a+'",',f+='"op":"eq",',b+="",f+='"data":"'+b.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',g++}),f+="]}",$.extend(b.p.postData,{filters:f}),$.each(["searchField","searchString","searchOper"],function(a,c){b.p.postData.hasOwnProperty(c)&&delete b.p.postData[c]})}else $.extend(b.p.postData,e);var h;b.p.searchurl&&(h=b.p.url,$(b).jqGrid("setGridParam",{url:b.p.searchurl})),$.isEmptyObject(e)&&(b.originalData=b.p.data);var i="stop"===$(b).triggerHandler("jqGridToolbarBeforeClear");!i&&$.isFunction(a.beforeClear)&&(i=a.beforeClear.call(b)),b._goFilter(),h&&$(b).jqGrid("setGridParam",{url:h}),$(b).triggerHandler("jqGridToolbarAfterClear"),$.isFunction(a.afterClear)&&a.afterClear()},f=function(){var a=$("tr.ui-search-toolbar",b.grid.hDiv),c=!0===b.p.frozenColumns&&$("tr.ui-search-toolbar",b.grid.fhDiv);"none"===a.css("display")?(a.show(),c&&c.show()):(a.hide(),c&&c.hide())},g=function(c,e,f){$("#sopt_menu").remove(),e=parseInt(e,10),f=parseInt(f,10)+18;for(var g,i,j=$(".ui-jqgrid-view").css("font-size")||"11px",k='<ul id="sopt_menu" class="ui-search-menu" role="menu" tabindex="0" style="font-size:'+j+";left:"+e+"px;top:"+f+'px;">',l=$(c).attr("soper"),m=[],n=0,o=$(c).attr("colname"),p=b.p.colModel.length;n<p&&b.p.colModel[n].name!==o;)n++;var q=b.p.colModel[n],r=$.extend({},q.searchoptions);for(r.sopt||(r.sopt=h(q)),r.sopt||(r.sopt=[],r.sopt[0]="select"===q.stype?"eq":a.defaultSearch),$.each(a.odata,function(){m.push(this.oper)}),n=0;n<r.sopt.length;n++)-1!==(i=$.inArray(r.sopt[n],m))&&(g=l===a.odata[i].oper?"ui-state-highlight":"",k+='<li class="ui-menu-item '+g+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+a.odata[i].oper+'" oper="'+a.operands[a.odata[i].oper]+'"><table cellspacing="0" cellpadding="0" border="0"><tr><td width="25px">'+a.operands[a.odata[i].oper]+"</td><td>"+a.odata[i].text+"</td></tr></table></a></li>");k+="</ul>",$("body").append(k),$("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").css("position","absolute"),$("#sopt_menu > li > a").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).click(function(e){var f=$(this).attr("value"),g=$(this).attr("oper");if($(b).triggerHandler("jqGridToolbarSelectOper",[f,g,c]),$("#sopt_menu").hide(),$(c).text(g).attr("soper",f),!0===a.autosearch){var h=$(c).parent().next().find("input")[0];($(h).val()||"nu"===f||"nn"===f)&&d()}})},h=function(a){var b;return"date"===a.sorttype||"float"===a.sorttype?b=["eq","ne","le","lt","gt","ge"]:"text"===a.stype&&(b=["eq","ne","bw","bn","cn","nc","ew","en","oc"]),b},i=$("<tr class='ui-search-toolbar' role='rowheader'></tr>");if($.each(b.p.colModel,function(e){var f,g,j,k=this,l="",m="=",n=$("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+b.p.direction+"'></th>"),o=$("<div style='position:relative;height:100%;padding-right:0.3em;padding-left:0'></div>"),p=$("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td><td class='ui-search-clear'></td></tr></table>");if(!0===this.hidden&&$(n).css("display","none"),this.searchoptions&&(this.search=!1!==this.search,this.stype===undefined&&(this.stype="text"),f=$.extend({},this.searchoptions||{}),f.sopt||(f.sopt=h(k)),this.search)){if(a.searchOperators){for(g=f.sopt?f.sopt[0]:"select"===k.stype?"eq":a.defaultSearch,j=0;j<a.odata.length;j++)if(a.odata[j].oper===g){m=a.operands[g]||"";break}l="<a title='"+(null!=f.searchtitle?f.searchtitle:a.operandTitle||"Click to select search operation.")+"' style='padding-right: 0.5em;' soper='"+g+"' class='soptclass' colname='"+this.name+"'>"+m+"</a>"}if($("td:eq(0)",p).attr("colindex",e).append(l),f.clearSearch===undefined&&(f.clearSearch=!0),f.clearSearch){var q=a.resetTitle||"Clear Search Value";$("td:eq(2)",p).append("<a title='"+q+"' style='padding-right: 0.3em;padding-left:0.3em' class='clearsearchclass hidden'>"+a.resetIcon+"</a>")}else $("td:eq(2)",p).hide();switch(this.stype){case"text":var r=f.defaultValue!==undefined?f.defaultValue:"";$("td:eq(1)",p).append("<div class='input-group'><input class='form-control' type='text' style='width:100%;' name='"+(k.index||k.name)+"' id='gs_"+k.name+"' value='"+r+"'/></div>"),$(o).append(p),f.attr&&$("input",o).attr(f.attr);var s=$("input",o)[0];b.bindEv.call(b,s,f),"datetimepicker"==$(s).attr("data-ui-role")?$(s).on("datetimepicker:hide",function(a){$(s)[0].value&&$(s).closest("tr").find(".clearsearchclass").removeClass("hidden"),d()}):"combobox"==$(s).attr("data-ui-role")&&$(s).on("combobox:change",function(a){$(s)[0].value&&$(s).closest("tr").find(".clearsearchclass").removeClass("hidden"),d()}),!0===a.autosearch&&(a.searchOnEnter?$("input",o).keypress(function(a){return 13===(a.charCode||a.keyCode||0)?($(s)[0].value&&$(s).closest("tr").find(".clearsearchclass").removeClass("hidden"),d(),!1):this}):$("input",o).keydown(function(a){switch(a.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:c&&clearTimeout(c),c=setTimeout(function(){d()},500)}}));break;case"custom":$("td:eq(1)",p).append("<span style='width:95%;padding:0px;' name='"+(k.index||k.name)+"' id='gs_"+k.name+"'/>"),$(o).append(p);try{if(!$.isFunction(f.custom_element))throw"e1";var t=f.custom_element.call(b,f.defaultValue!==undefined?f.defaultValue:"",f);if(!t)throw"e2";t=$(t).addClass("customelement"),$(o).find(">span").append(t)}catch(u){"e1"===u&&$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_element' "+$.jgrid.edit.msg.nodefined,$.jgrid.edit.bClose),"e2"===u?$.jgrid.info_dialog($.jgrid.errors.errcap,"function 'custom_element' "+$.jgrid.edit.msg.novalue,$.jgrid.edit.bClose):$.jgrid.info_dialog($.jgrid.errors.errcap,"string"==typeof u?u:u.message,$.jgrid.edit.bClose)}}}$(n).append(o),$(i).append(n),a.searchOperators||$("td:eq(0)",p).hide()}),"json"==b.p.datatype){var j=$("#"+b.options.id+"_pager_left",b.element),k=b.options.id+"filterNum",l=b.options.id+"totalNum";j.append("<a><span class='glyphicon glyphicon-filter' style='margin-left:3px'></span> <span id="+k+">"+b.p.data.length+"</span>/<span id="+l+">0</span></a>")}$("table thead",b.grid.hDiv).append(i),a.searchOperators&&($(".soptclass",i).click(function(a){var b=$(this).offset(),c=b.left,d=b.top;g(this,c,d),a.stopPropagation()}),$("body").on("click",function(a){"soptclass"!==a.target.className&&$("#sopt_menu").hide()})),$(".clearsearchclass",i).click(function(c){var e=$(this).parents("tr:first"),f=parseInt($("td.ui-search-oper",e).attr("colindex"),10),g=$.extend({},b.p.colModel[f].searchoptions||{}),h=g.defaultValue?g.defaultValue:"";$(this).addClass("hidden"),"select"===b.p.colModel[f].stype?h?$("td.ui-search-input select",e).val(h):$("td.ui-search-input select",e)[0].selectedIndex=0:$("td.ui-search-input input",e).val(h),!0===a.autosearch&&d()}),this.ftoolbar=!0,this.triggerToolbar=d,this.clearToolbar=e,this.toggleToolbar=f}}})}(),function(){"use strict";$.extend($.ui.grid.prototype,{getColProp:function(a){var b,c={},d=this,e=d.p.colModel;for(b=0;b<e.length;b++)if(e[b].name===a){c=e[b];break}return c},setColProp:function(a,b,c){if(b){var d,e=this.p.colModel;for(d=0;d<e.length;d++)if(e[d].name===a){this.p.colModel[d]=$.extend(!1!==c,this.p.colModel[d],b);break}}},sortGrid:function(a,b){var c,d=this,e=-1;for(c=0;c<d.p.colModel.length;c++)if(d.p.colModel[c].name===a){e=c;break}if(-1!==e){d.p.colModel[e].sortable&&d.sortData("jqgh_"+d.p.id+"_"+a,e,b)}},setGridState:function(a){var b=this;"hidden"===a?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+b.p.id).slideUp("fast"),b.p.pager&&$(b.p.pager).slideUp("fast"),b.p.toppager&&$(b.p.toppager).slideUp("fast"),!0===b.p.toolbar[0]&&("both"===b.p.toolbar[1]&&$(b.grid.ubDiv).slideUp("fast"),$(b.grid.uDiv).slideUp("fast")),b.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+b.p.id).slideUp("fast"),$(".ui-jqgrid-titlebar-close span",b.grid.cDiv).removeClass("glyphicon-triangle-top").addClass("glyphicon-triangle-bottom"),b.p.gridstate="hidden"):"visible"===a&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+b.p.id).slideDown("fast"),b.p.pager&&$(b.p.pager).slideDown("fast"),b.p.toppager&&$(b.p.toppager).slideDown("fast"),!0===b.p.toolbar[0]&&("both"===b.p.toolbar[1]&&$(b.grid.ubDiv).slideDown("fast"),$(b.grid.uDiv).slideDown("fast")),b.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+b.p.id).slideDown("fast"),$(".ui-jqgrid-titlebar-close span",b.grid.cDiv).removeClass("glyphicon-triangle-bottom").addClass("glyphicon-triangle-top"),b.p.gridstate="visible")},setGroupHeaders:function(a){a=$.extend({useColSpanStyle:!1,groupHeaders:[]},a||{}),this.p.groupHeader=a;var b,c,d,e,f=this,g=0,h=f.p.colModel,i=f.grid.headers,j=i.length,k=$("table.ui-jqgrid-htable",f.grid.hDiv),l=k.find("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),m=k.find(".jqg-first-row-header");m[0]===undefined?m=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):m.empty(),e=$("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header");for(var n=0;n<j;n++){var o=i[n].el,p=$(o),q=h[n];$("<th>",{role:"gridcell"}).css({height:"0px",width:i[n].width+"px",display:q.hidden?"none":""}).appendTo(m);var r=_.indexOf(_.pluck(a.groupHeaders,"startColumnName"),q.name);if(r>=0){var s=a.groupHeaders[r];for(b=s.numberOfColumns,d=s.titleText,c=0,r=0;r<b&&n+r<j;r++)h[n+r].hidden||c++;var t=$("<th>").attr({role:"columnheader"}).addClass("ui-th-column-header").html(d);c>0&&t.attr("colspan",String(c)),t.attr("title",t.text()),0===c&&t.hide(),p.before(t),e.append(o),g=b-1}else if(0===g)if(a.useColSpanStyle){var u=p.parent().siblings("tr").length;0===u?u=2:u++,p.attr("rowspan",u)}else $("<th>&nbsp;</th>",{role:"columnheader"}).addClass("ui-th-column-header").css({display:q.hidden?"none":""}).insertBefore(p),e.append(o);else e.append(o),g--}e.find("th").length<j&&e.find("th:last-child").css("border-right-width","1px"),l.parent().prepend(m),l.after(e),!a.useColSpanStyle||fish.browser.msie&&8===fish.browser.version||(k.find("span.ui-jqgrid-resize").each(function(){var a=$(this).parent();a.is(":visible")&&(this.style.cssText="height: "+a.height()+"px !important; cursor: col-resize;")}),k.find("div.ui-jqgrid-sortable").each(function(){var a=$(this),b=a.parent();b.is(":visible")&&b.is(":has(span.ui-jqgrid-resize)")&&a.css("top",(b.height()-a.outerHeight())/2+"px")})),f._bind("resizeStop.setGroupHeaders",function(a,b,c){k.find("tr.jqg-first-row-header th").eq(c).css("width",b)}),$(f.element).jqGrid("setGridHeight",$(f.element).outerHeight()-e.height())},destroyGroupHeader:function(){var a,b,c,d,e=this,f=$("table.ui-jqgrid-htable thead",e.grid.hDiv);$(e.element).unbind(".setGroupHeaders"),a=$("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels"),b=e.grid.headers;for(var g=$(".jqg-third-row-header",f).height(),h=0;h<b.length;h++)c=$(b[h].el).css({width:b[h].width,display:e.p.colModel[h].hidden?"none":""}),c.removeAttr("rowSpan"),a.append(c),d=c.children("span.ui-jqgrid-resize"),d.length>0&&(d[0].style.height=""),c.children("div")[0].style.top="";$(e.element).jqGrid("setGridHeight",$(e.element).outerHeight()+g),$(f).children("tr.ui-jqgrid-labels").remove(),$(f).prepend(a)},setFrozenColumns:function(a){var b,c=this,d=c.p.colModel,e=0,f=d.length,g=-1;if(b=a<0,c.options.frozenReverse=b,a=Math.abs(a),!0!==c.p.treeGrid&&!0!==c.p.cellEdit&&!c.p.sortable&&!c.p.columnMenu){if(!b&&c.p.rownumbers&&(e++,a++),!b&&c.p.multiselect&&(e++,a++),a<f){for(;e<a&&e<f;){var h=b?d[f-e-1]:d[e];h.frozen=!0,e++,h.hidden&&a++}a<f&&(g=a-1)}if(g>=0){var i=c.p.caption?$(c.grid.cDiv).outerHeight():0,j=$(".ui-jqgrid-hdiv","#gview_"+c.p.id).outerHeight();!0===c.p.toolbar[0]&&"bottom"!==c.p.toolbar[1]&&(i+=$(c.grid.uDiv).outerHeight());var k=b?"right":"left";c.grid.fhDiv=$('<div style="position:absolute;'+k+":0px;top:"+i+"px;height:"+j+'px;border-bottom-width: 0px;" class="frozen-div ui-jqgrid-hdiv"></div>'),c.grid.fbDiv=$('<div style="position:absolute;'+k+":0px;top:"+j+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+c.p.id,c.element).append(c.grid.fhDiv);var l=$(".ui-jqgrid-htable","#gview_"+c.p.id).clone(!0);if(c.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",l).each(function(){b?$("th:lt("+(f-g-1)+")",this).remove():$("th:gt("+g+")",this).remove()});var m,n,o=-1,p=-1,q=$("tr.jqg-second-row-header th",l).length;$("tr.jqg-second-row-header th",l).each(function(){if(m=parseInt($(this).attr("colspan"),10),n=parseInt($(this).attr("rowspan"),10),n&&(o++,p++),m&&(o+=m,p++),o===g)return p=g,!1}),o!==g&&(p=g),$("tr.jqg-second-row-header",l).each(function(){b?$("th:lt("+(q-p-1)+")",this).remove():$("th:gt("+p+")",this).remove()})}else $("tr",l).each(function(){b?$("th:lt("+(f-g-1)+")",this).remove():$("th:gt("+g+")",this).remove()});$(l).width(1).find("span.s-ico-menu ").remove(),$(c.grid.fhDiv).append(l).mousemove(function(a){if(c.grid.resizing)return c.grid.dragMove(a),!1}),$("#gview_"+c.p.id,c.element).append(c.grid.fbDiv),$(c.grid.bDiv).scroll(function(){$(c.grid.fbDiv).scrollTop($(this).scrollTop())}),c._bind("resizeStop.setFrozenColumns",function(a,b,d){var e=$("th:eq("+d+")",c.grid.hDiv).outerWidth(),f=$(".ui-jqgrid-htable",c.grid.fhDiv);$("th:eq("+d+")",f).outerWidth(e);var g=$(".ui-jqgrid-btable",c.grid.fbDiv);$("td:eq("+d+")",g).outerWidth(e)}),c._bind("onSortCol.setFrozenColumns",function(d,e,g){var h=b?c.p.lastsort-f+a:c.p.lastsort,i=b?g-f+a:g,j=$("tr.ui-jqgrid-labels:last th:eq("+h+")",c.grid.fhDiv),k=$("tr.ui-jqgrid-labels:last th:eq("+i+")",c.grid.fhDiv);$("span.ui-grid-ico-sort",j).addClass("ui-state-disabled"),$(j).attr("aria-selected","false"),$("span.ui-icon-"+c.p.sortorder,k).removeClass("ui-state-disabled"),$(k).attr("aria-selected","true"),c.p.lastsort!==g&&($("span.s-ico",j).hide(),$("span.s-ico",k).show()),fish.browser.msie&&8===fish.browser.version&&(c.p.disableClick=!0)}),c._bind("showHideColumn.setFrozenColumns",function(){$(".ui-jqgrid-htable th.ui-state-default.ui-th-column",c.grid.fhDiv).each(function(a,b){var d=$(c.grid.hDiv).find("th[id="+$(this).attr("id")+"]").outerWidth();$("th:eq("+a+")",$(".ui-jqgrid-htable",c.grid.fhDiv)).outerWidth(d),$("td:eq("+a+")",$(".ui-jqgrid-btable",c.grid.fbDiv)).outerWidth(d)})});var r=function(){$("#"+c.p.id+"_frozen",c.element).remove(),$(c.grid.fbDiv).height($(c.grid.bDiv).height());var a=$(c.$tb).clone(!0);$("tr[role=row]",a).each(function(a){$(this).height($(c.rows[a]).height()),b?$("td[role=gridcell]:lt("+(f-g-1)+")",this).remove():$("td[role=gridcell]:gt("+g+")",this).remove()});var d=$(".ui-jqgrid-htable",c.grid.fhDiv).find(".jqg-first-row-header th");$("tr[role=row]:first",a).each(function(){$("td",this).each(function(a,b){$(this).width($(d[a]).outerWidth())})}),$(a).width(1).attr("id",c.p.id+"_frozen"),$(c.grid.fbDiv).append(a),
$(c.grid.fbDiv).scrollTop($(c.grid.bDiv).scrollTop()),a=null};c._bind("gridComplete.setFrozenColumns",r),c._bind("afterEditRow.setFrozenColumns",r),c._bind("afterSaveRow.setFrozenColumns",r),c._bind("afterRestoreRow.setFrozenColumns",r),c.$tb.on("mouseenter.setFrozenColumns mouseleave.setFrozenColumns","tr.jqgrow",function(a){if(c.p.frozenColumns){var b=a.target||a.srcElement,d=$(b,c.rows).closest("tr.jqgrow");if(0!==$(d).length){var e=d.closest("table"),f=d[0].id;e[0].id.indexOf("_frozen")>-1?$("#"+f,c.$tb).toggleClass("hover").siblings().removeClass("hover"):$("#"+f,c.grid.fbDiv).toggleClass("hover").siblings().removeClass("hover")}}}),c._trigger("gridComplete.setFrozenColumns"),c.p.frozenColumns=!0}}},destroyFrozenColumns:function(){if(!0===this.p.frozenColumns){var a=this;$(a.grid.fhDiv).remove(),$(a.grid.fbDiv).remove(),a.grid.fhDiv=null,a.grid.fbDiv=null,$(this.element).unbind(".setFrozenColumns"),a.$tb.off(".setFrozenColumns","tr.jqgrow"),this.p.frozenColumns=!1,this.p.frozenReverse=!1}},sortableColumns:function(a){function b(){c.p.disableClick=!0}var c=this,d=c.p.id,e={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+d+"_cb,#jqgh_"+d+"_rn),:hidden)",placeholder:{element:function(a){return $(document.createElement(a[0].nodeName)).addClass(a[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(a,b){b.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),b.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}},update:function(a,b){var d=$(b.item).parent(),e=$(">th",d),f=c.p.colModel,g={},h=c.p.id+"_";$.each(f,function(a){g[this.name]=a});var i=[];e.each(function(){var a=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(h,"");g.hasOwnProperty(a)&&i.push(g[a])}),$(c.element).jqGrid("remapColumns",i),$.isFunction(c.p.sortable.update)&&c.p.sortable.update(i),setTimeout(function(){c.p.disableClick=!1},50)}};if(c.p.sortable.options?$.extend(e,c.p.sortable.options):$.isFunction(c.p.sortable)&&(c.p.sortable={update:c.p.sortable}),e.start){var f=e.start;e.start=function(a,c){b(),f.call(this,a,c)}}else e.start=b;c.p.sortable.exclude&&(e.items+=":not("+c.p.sortable.exclude+")"),a.sortable(e).data("ui-sortable").floating=!0},remapColumns:function(a){function b(b){var c;c=b.length?$.makeArray(b):$.extend({},b),$.each(a,function(a){b[a]=c[this]})}function c(b,c){$(">tr"+(c||""),b).each(function(){var b=this,c=$.makeArray(b.cells);$.each(a,function(){var a=c[this];a&&b.appendChild(a)})})}var d=this;b(d.p.colModel),b(d.grid.headers),c($("thead:first",d.grid.hDiv),":not(.ui-jqgrid-labels, .ui-search-toolbar)"),c(d.element.find("table.ui-jqgrid-btable").find("tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),d.p.footerrow&&c($("tbody:first",d.grid.sDiv)),d.p.remapColumns&&(d.p.remapColumns.length?b(d.p.remapColumns):d.p.remapColumns=$.makeArray(a)),d.p.lastsort=$.inArray(d.p.lastsort,a),d._trigger("remapColumns",null,a)},sortableRows:function(a){var b=this;b.p.treeGrid||$.fn.sortable&&(a=$.extend({cursor:"move",axis:"y",items:">.jqgrow"},a||{}),a.start&&$.isFunction(a.start)?(a._start_=a.start,delete a.start):a._start_=!1,a.update&&$.isFunction(a.update)?(a._update_=a.update,delete a.update):a._update_=!1,a.start=function(c,d){$(d.item).css("border-width","0px"),$("td",d.item).each(function(a){this.style.width=b.grid.cols[a].style.width}),b.p.subGrid&&b.collapseAllSubGridRow(),a._start_&&a._start_.apply(this,[c,d])},a.update=function(c,d){$(d.item).css("border-width",""),!0===b.p.rownumbers&&$("td.jqgrid-rownum",b.rows).each(function(a){$(this).html(a+1+(parseInt(b.p.page,10)-1)*parseInt(b.p.rowNum,10))}),a._update_&&a._update_.apply(this,[c,d])},$("tbody:first",b.element).sortable(a),$("tbody:first",b.element).disableSelection())},gridDnD:function(a){function b(){var a=$.data(e.element[0],"dnd");$("tr.jqgrow:not(.ui-draggable)",e.element).draggable($.isFunction(a.drag)?a.drag.call(e.element[0],a):a.drag)}var c,d,e=this;if(!e.p.treeGrid&&$.fn.draggable&&$.fn.droppable){if($("#jqgrid_dnd",e.element)[0]===undefined&&$("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"==typeof a&&"updateDnD"===a&&!0===e.p.jqgdnd)return void b();if(a=$.extend({drag:function(a){return $.extend({start:function(b,c){e.p.subGrid&&e.collapseAllSubGridRow();var d,f=$.data(e.element[0],"dnd");for(d=0;d<f.connectWith.length;d++)0===$(f.connectWith[d]).jqGrid("getGridParam","reccount")&&$(f.connectWith[d]).jqGrid("addRowData","jqg_empty_row",{});c.helper.addClass("ui-state-highlight"),$("td",c.helper).each(function(a){this.style.width=e.grid.headers[a].width+"px"}),a.onstart&&$.isFunction(a.onstart)&&a.onstart.call(e.element[0],b,c)},stop:function(b,c){var d,f;c.helper.dropped&&!a.dragcopy&&(f=$(c.helper).attr("id"),f===undefined&&(f=$(this).attr("id")),$(e.element).jqGrid("delRowData",f));var g=$.data(e.element[0],"dnd");for(d=0;d<g.connectWith.length;d++)$(g.connectWith[d]).jqGrid("delRowData","jqg_empty_row");a.onstop&&$.isFunction(a.onstop)&&a.onstop.call(e.element[0],b,c)}},a.drag_opts||{})},drop:function(a){return $.extend({accept:function(a){if(!$(a).hasClass("jqgrow"))return a;var b=$(a).closest(".ui-jqgrid");if(b.length>0&&$.data(b[0],"dnd")!==undefined){var c=$.data(b[0],"dnd").connectWith;return-1!==$.inArray("#"+this.id,c)}return!1},drop:function(b,c){if($(c.draggable).hasClass("jqgrow")){var d=$(c.draggable).attr("id"),f=c.draggable.closest(".ui-jqgrid").jqGrid("getRowData",d);if(c.helper.dropped=!0,a.beforedrop&&$.isFunction(a.beforedrop)){var g=a.beforedrop.call(this,c,f,e.p.id,$(this));g!==undefined&&null!==g&&"object"==typeof g&&(f=g)}if(c.helper.dropped){var h;a.autoid&&(h=$.isFunction(a.autoid)?a.autoid.call(this,f):a.autoidprefix+$.jgrid.randId()),$(e.element).jqGrid("addRowData",h,f,a.droppos)}a.ondrop&&$.isFunction(a.ondrop)&&a.ondrop.call(this,c,f)}}},a.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},a||{}),a.connectWith)for(a.connectWith=a.connectWith.split(","),a.connectWith=$.map(a.connectWith,function(a){return $.trim(a)}),$.data(e.element[0],"dnd",a),0===e.p.reccount||e.p.jqgdnd||b(),e.p.jqgdnd=!0,c=0;c<a.connectWith.length;c++)d=a.connectWith[c],$(d).droppable($.isFunction(a.drop)?a.drop.call(e.element[0],a):a.drop)}},gridResize:function(opts){var ts=this,gID=ts.p.id;if($.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(a,b){$(ts.element).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv",ts.element).height()}),$(ts.element).jqGrid("setGridWidth",b.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call(ts.element[0],a,b)},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$(ts.element).resizable(opts)}}})}(),function(){"use strict";$.extend($.ui.grid.prototype,{_setTreeNode:function(a,b){var c,d,e,f,g=this,h=g.p.treeReader.expanded,i=g.p.treeReader.leaf,j=g.p.treeReader.level,k=g.p.treeReader.icon;for(c=_.indexOf(_.pluck(g.p.colModel,"name"),g.p.expandColumn);a<b;){var l=g.rows[a].id,m=g.p._index[l],n=$(g.rows[a].cells[c]);f=g.p.data[m],d=parseInt(f[j],10);var o,p,q,r,s=f[k];n.find(".tree-wrap").remove(),e=fish.extend({},g.p.treeIcons,g.p.treeIconFunction.call(g,f)),$(g.rows[a]).attr({"data-level":d,"aria-level":d}),f[i]?(q=!1,r=s?"tree-leaf "+s:"tree-leaf "+e.leaf,$(g.rows[a]).removeClass("tree-row-striped").attr("aria-expanded",!1)):(q=!0,e.folderClosed&&e.folderOpen||s||(q=!1),r=f[h]?"tree-minus "+e.minus:"tree-plus "+e.plus,s||(s=f[h]?e.folderOpen:e.folderClosed),f[h]?$(g.rows[a]).attr("aria-expanded",!0):$(g.rows[a]).attr("aria-expanded",!1),g.p.treeAltRows&&$(g.rows[a]).addClass("tree-row-striped")),q?o=18*(d+2):(f[i]&&e.leaf&&d++,o=18*(d+1)),p=18*d;var t=n.find(".cell-wrapper");if(n.html(fish.compile('<div class="tree-wrap" style="width:{{ident}}px;"><div style="margin-left:{{lftpos}}px;" class="{{#unless isLeaf}}treeclick{{/unless}} {{treeicon}}"></div>{{#if iscustom}}<div class="treefolder {{icon}}"></div>{{/if}}</div><span class="cell-wrapper{{#if isLeaf}} leaf{{/if}}">{{{text}}}</span>')({ident:o,lftpos:p,iscustom:q,isLeaf:f[i],icon:s,text:t.length?t.html():n.html(),treeicon:r})),0!==d){var u=g.getNodeParent(f);!u||!u.hasOwnProperty(h)||u[h]||$(g.rows[a]).css("display","none")}a++}},_treeNodeClick:function(a){var b=this,c=b.p._index[a],d=b.p.treeReader.expanded,e=b.p.treeReader.leaf;if(!b.p.data[c][e])if(b.p.data[c][d])b.collapseNode(b.p.data[c],!0);else{if(b.expandNode(b.p.data[c],!0),!b.p.leafChange)return!1;var f=b.p.data[c],g=b.getNodeChildren(f);if(0==g.length){f[e]=!0,f[d]=!1;var h=b.getInd(a);b._setTreeNode(h,h+1)}}},_setTreeGrid:function(){var a=this;if(!1===a.p.keyName)throw new Error("treeGridå ä¸ºç¶å­èç¹çå³èï¼éè¦æå®å³èçåkey=true");a.p.viewrecords=!1,a.p.subGrid=!1},_expandRow:function(a){var b=this,c=b.getNodeChildren(a);$(c).each(function(){var a=this[b.p.keyName];$(b.getGridRowById(a)).css("display",""),this[b.p.treeReader.expanded]&&b._expandRow(this)})},_setVisibleNode:function(a){var b=this,c=b.getRowData(a);if(!b.isVisibleNode(c))for(var d=b.getNodeAncestors(c),e=d.length-1;e>=0;e--)b.expandNode(d[e])},_collapseRow:function(a){var b=this,c=b.getNodeChildren(a);$(c).each(function(){var a=$.jgrid.getAccessor(this,b.p.keyName);$(b.getGridRowById(a)).css("display","none"),this[b.p.treeReader.expanded]&&b._collapseRow(this)})},getPrevNode:function(a){var b=this,c="#"+a[b.p.keyName].toString().replace(/\./g,"\\.").replace(/\ /,"\\ "),d=b.$tb.find(c),e=d.data("level"),f=d.prevAll("[data-level="+e+"]");if(0===f.length)return null;if(d.prev().data("level")<e)return null;var g=f.eq(0),h=g.attr("id"),i=b.p._index[h];return b.p.data[i]},getNextNode:function(a){var b=this,c="#"+a[b.p.keyName].toString().replace(/\./g,"\\.").replace(/\ /,"\\ "),d=b.$tb.find(c),e=d.data("level"),f=d.nextAll("[data-level="+e+"]");if(0===f.length)return null;if(d.next().data("level")<e)return null;var g=f.eq(0),h=g.attr("id"),i=b.p._index[h];return b.p.data[i]},getRootNodes:function(){var a=[],b=this;return $(b.p.data).each(function(){null!==this[b.p.treeReader.parentid]&&this[b.p.treeReader.parentid]!==undefined&&""!==this[b.p.treeReader.parentid]||a.push(this)}),a},getNodeDepth:function(a){return this.getNodeAncestors(a).length},getNodeParent:function(a){var b=null,c=this;return $(this.p.data).each(function(){if(this[c.p.keyName]===a[c.p.treeReader.parentid])return b=this,!1}),b},getNodeChildren:function(a){var b=[],c=this;return $(this.p.data).each(function(){this[c.p.treeReader.parentid]==a[c.p.keyName]&&b.push(this)}),b},getFullTreeNode:function(a,b){var c,d=[a],e=[],f=this;return b=b===undefined||b,$(this.p.data).each(function(a){for(c=d.length,a=0;a<c;a++)if(d[a][f.p.keyName]===this[f.p.treeReader.parentid]){d.push(this);break}}),b?d:(fish.each(d,function(a){e.push(fish.clone(a))}),f._buildChildrenData([e[0]],e),e[0])},_buildChildrenData:function(a,b){var c=this;fish.each(a,function(a){var d=[];fish.each(b,function(b,e){b[c.p.treeReader.parentid]===a[c.p.keyName]&&d.push(b)}),d.length>0&&(a[c.p.treeReader.children]=d,c._buildChildrenData(d,b))})},getNodeAncestors:function(a){for(var b=[],c=this,d=c.getNodeParent(a);d;)b.push(d),d=c.getNodeParent(d);return b},isVisibleNode:function(a){var b=!0,c=this,d=c.getNodeAncestors(a);return $(d).each(function(){if(!(b=b&&this[c.p.treeReader.expanded]))return!1}),b},expandNode:function(a,b){var c,d=this;if(!a[d.p.treeReader.expanded]){a[d.p.treeReader.expanded]=!0;var e=a[d.p.keyName],f=$(d.getGridRowById(e),d.grid.bDiv)[0];if(!f)return;$(f).attr("aria-expanded",!0),c=fish.extend({},d.p.treeIcons,d.p.treeIconFunction.call(d,a)),$("div.treeclick",f).removeClass(c.plus+" tree-plus").addClass(c.minus+" tree-minus"),a[d.p.treeReader.icon]||$("div.treefolder",f).removeClass(c.folderClosed).addClass(c.folderOpen),d._expandRow(a),b&&d._trigger("onRowExpand",null,a)}},expandAll:function(){var a=this,b=a.getRootNodes();fish.each(b,function(b){a._expandCollapseSonNode(b)})},_expandCollapseSonNode:function(a){var b=this,c=b.getNodeChildren(a);b.expandNode(a),fish.each(c,function(a){b._expandCollapseSonNode(a)})},collapseNode:function(a,b){var c,d=this;if(a[d.p.treeReader.expanded]){a[d.p.treeReader.expanded]=!1;var e=a[d.p.keyName],f=$(d.getGridRowById(e),d.grid.bDiv)[0];c=fish.extend({},d.p.treeIcons,d.p.treeIconFunction.call(d,a)),$("div.treeclick",f).removeClass(c.minus+" tree-minus").addClass(c.plus+" tree-plus"),a[d.p.treeReader.icon]||$("div.treefolder",f).removeClass(c.folderOpen).addClass(c.folderClosed),$(f).attr("aria-expanded",!1),d._collapseRow(a),b&&d._trigger("onRowCollapse",null,a)}},_cascadeChecked:function(a){function b(a){var b=!1,c=f.getFullTreeNode(a);return c.splice(0,1),$(c).each(function(a){if(-1!==(e=$.inArray(c[a][f.p.keyName]+"",f.p.selarrrow)))return b=!0,!1}),b}var c,d,e,f=this,g=f.p._index[f.p.selrow],h=f.p.data[g];f.p.checkChildren&&(d=f.getFullTreeNode(h),d.splice(0,1),$(d).each(function(b){c=d[b][f.p.keyName]+"",e=$.inArray(c,f.p.selarrrow),-1===e&&a?($(f.getGridRowById(c)).addClass("ui-state-highlight").attr("aria-selected","true"),f._addSelection(c)):-1===e||a||($(f.getGridRowById(c)).removeClass("ui-state-highlight").attr({"aria-selected":"false"}),f._removeSelection(c)),$("[id='jqg_"+f.p.id+"_"+c+"']",f.element).prop("checked",a)})),f.p.checkParent&&(d=$(f.element).jqGrid("getNodeAncestors",h),$(d).each(function(g){if(!a&&b(d[g]))return!1;c=d[g][f.p.keyName]+"",e=$.inArray(c,f.p.selarrrow),-1===e&&a&&($(document.getElementById("jqg_"+f.p.id+"_"+c)).prop("checked",a),f._addSelection(c)),-1===e||a||($(document.getElementById("jqg_"+f.p.id+"_"+c)).prop("checked",a),f._removeSelection(c))}))},setTreeRow:function(a,b){return this.modTreeNode(a,b)},modTreeNode:function(a,b){var c=this,d=this.setRowData(a,b);"object"===$.type(a)&&(a=a[c.p.keyName]);var e=c.getInd(a);return c._setTreeNode(e,e+1),d},removeChildrenNode:function(a){var b=this;"object"===$.type(a)&&(a=a[b.p.keyName]);var c=b.p._index[a];if(c!==undefined){var d=b.p.data[c],e=b.getNodeChildren(d);fish.each(e,function(a){b.delTreeNode(a)})}},delTreeNode:function(a){var b,c=this;"object"===$.type(a)&&(a=a[c.p.keyName]);var d=c.p._index[a];if(d!==undefined){var e,f,g;if(g=c.p.data[d][c.p.treeReader.parentid]){e=c.p._index[g],f=c.p.data[e];1===c.getNodeChildren(f).length&&c.p.leafChange&&(f[c.p.treeReader.leaf]=!0,f[c.p.treeReader.expanded]=!1,b=c.getInd(g),c._setTreeNode(b,b+1))}var h=c.getFullTreeNode(c.p.data[d]);if(h.length>0)for(b=0;b<h.length;b++)c.delRowData(h[b][c.p.keyName])}},addChildNode:function(a,b,c,d,e,f){if("object"===$.type(a)&&(f=e,e=d,d=c,c=a,a=c[this.p.keyName]),c)return this.addTreeNodes([c],b,d,e,f)},addTreeNode:function(a,b,c,d,e,f){return this.addChildNode(a,b,c,d,e,f)},_getTreeNodePos:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=a;return a===undefined||null===a||""===a?(a=null,l=null,d=b||"last",g=0,h="last"===d?k.p.data.length+1:1,c&&(l=c,"after"===b?(i=k.getRowData(l),j=k.getFullTreeNode(i),j.length&&(h=j[j.length-1][k.p.keyName],l=h,h=k.getInd(l)+1)):h=k.getInd(l),d=b)):(d="after",e=k.p._index[a],f=k.p.data[e],g=parseInt(f[k.p.treeReader.level],10)+1,c?(l=c,"after"===b?(i=k.getRowData(l),j=k.getFullTreeNode(i),j.length&&(h=j[j.length-1][k.p.keyName],l=h,h=k.getInd(l)+1)):h=k.getInd(l),d=b):("first"===b?h=$(k.element).jqGrid("getInd",a)+1:(j=k.getFullTreeNode(f),j.length?(h=j[j.length-1][k.p.keyName],l=h,h=k.getInd(l)+1):h=k.getInd(a)+1),f[k.p.treeReader.leaf]&&(f[k.p.treeReader.expanded]=!0,f[k.p.treeReader.leaf]=!1,k._setTreeNode(h-1,h)))),{rowind:l,i:h,method:d,parentlevel:g}},addChildNodes:function(a,b,c){if(a){$.isArray(a)||(a=[a]);var d,e,f=this;return"object"===$.type(b)?(d=b[f.p.treeReader.level],e=b[f.p.keyName]):e=b,(fish.isUndefined(e)||fish.isNull(e))&&(d=-1),d||0===d||(d=f.p.data[f.p._index[e]][f.p.treeReader.level]),a=f._childrenDataFormat(a,d+1),this.addTreeNodes(a,b,c)}},addTreeNodes:function(a,b,c,d,e){var f,g,h=this;if("string"===$.type(c)&&e===undefined&&(e=d,d=c,c=!1),"object"===$.type(b)&&(f=b,b=b[h.p.keyName]),a){$.isArray(a)||(a=[a]),d=this._getTreeNodePos(b,d,e),g=d.rowind;for(var i=d.i,j=d.parentlevel,k=d.method,l=0;l<a.length;l++)a[l][h.p.treeReader.expanded]===undefined&&(a[l][h.p.treeReader.expanded]=!1),a[l][h.p.treeReader.level]===undefined&&(a[l][h.p.treeReader.level]=j),a[l][h.p.treeReader.leaf]===undefined&&(a[l][h.p.treeReader.leaf]=!0),a[l][h.p.treeReader.parentid]!==undefined&&null!==a[l][h.p.treeReader.parentid]||(a[l][h.p.treeReader.parentid]=b);if(h.addRowData(a,k,g),h._setTreeNode(i,i+a.length),f&&!f[h.p.treeReader.expanded]&&c){var m=h.getGridRowById(b);$(m).find("div.treeclick").click()}}},_childrenDataFormat:function(a,b){function c(a,b,h){for(var i=0;i<a.length;i++){var j=a[i],k=j;k[d.p.treeReader.level]=b,k[d.p.treeReader.parentid]=h,null==k[d.p.treeReader.leaf]&&(k[d.p.treeReader.leaf]=!k[f]),null==k[d.p.treeReader.expanded]&&(k[d.p.treeReader.expanded]=!1),e[g++]=k,null!=k[f]&&(k[f].length>0&&c(k[f],b+1,k[d.p.keyName]),k[f]=null)}}var d=this;if(!a||!a.length)return a;if(a[0].hasOwnProperty(d.p.treeReader.level)&&a[0].hasOwnProperty(d.p.treeReader.parentid)&&a[0].hasOwnProperty(d.p.treeReader.expanded)&&a[0].hasOwnProperty(d.p.treeReader.leaf))return a;b=b||0;var e=[],f=d.p.treeReader.children,g=0;return c(a,b,null),e},getSiblingNodes:function(a){var b=[],c=this,d=c.p.treeReader.parentid;return $(this.p.data).each(function(){this[d]===undefined&&(this[d]=null),a[d]===undefined&&(a[d]=null),this[d]===a[d]&&b.push(this)}),b},sortTree:function(a,b,c,d){if(this.grid&&this.p.treeGrid){var e,f,g,h,i,j=[],k=this,l=k.getRootNodes();for(h=$.jgrid.from(l),h.orderBy(a,b,c,d),i=h.select(),e=0,f=i.length;e<f;e++)g=i[e],j.push(g),k.collectChildrenSortTree(j,g,a,b,c,d);$.each(j,function(a){var b=$.jgrid.getAccessor(this,k.p.keyName);$("#"+k.p.id+" .ui-jqgrid-bdiv tbody tr:eq("+a+")").after($("tr#"+b,k.grid.bDiv))}),h=null,i=null,j=null}},collectChildrenSortTree:function(a,b,c,d,e,f){if(this.grid&&this.p.treeGrid){var g,h,i,j,k,l,m=this;for(j=m.getNodeChildren(b),k=$.jgrid.from(j),k.orderBy(c,d,e,f),l=k.select(),g=0,h=l.length;g<h;g++)i=l[g],a.push(i),m.collectChildrenSortTree(a,i,c,d,e,f)}}})}(),function(){$.extend($.ui.grid.prototype,{groupingSetup:function(){var a,b,c,d=this,e=d.p.colModel,f=d.p.groupingView;if(null===f||"object"!=typeof f&&!$.isFunction(f))d.p.grouping=!1;else if(f.groupField.length){for(f.visibiltyOnNextGrouping===undefined&&(f.visibiltyOnNextGrouping=[]),f.lastvalues=[],f._locgr||(f.groups=[]),f.counters=[],a=0;a<f.groupField.length;a++)!fish.isNull(f.groupOrder)&&fish.isUndefined(f.groupOrder[a])&&(f.groupOrder[a]="asc"),f.groupText[a]||(f.groupText[a]="<b>{0}</b>"),"boolean"!=typeof f.groupColumnShow[a]&&(f.groupColumnShow[a]=!0),"boolean"!=typeof f.groupSummary[a]&&(f.groupSummary[a]=!1),f.groupSummaryPos[a]||(f.groupSummaryPos[a]="footer"),!0===f.groupColumnShow[a]?(f.visibiltyOnNextGrouping[a]=!0,$(d.element).jqGrid("showCol",f.groupField[a])):(f.visibiltyOnNextGrouping[a]=$("#"+$.jgrid.jqID(d.p.id+"_"+f.groupField[a])).is(":visible"),$(d.element).jqGrid("hideCol",f.groupField[a]));for(f.summary=[],b=0,c=e.length;b<c;b++)e[b].summaryType&&(e[b].summaryDivider?f.summary.push({nm:e[b].name,st:e[b].summaryType,v:"",sd:e[b].summaryDivider,vd:"",sr:e[b].summaryRound,srt:e[b].summaryRoundType||"round"}):f.summary.push({nm:e[b].name,st:e[b].summaryType,v:"",sr:e[b].summaryRound,srt:e[b].summaryRoundType||"round"}))}else d.p.grouping=!1},groupingPrepare:function(a,b){var c,d,e,f,g,h=this.p.groupingView,i=this,j=function(){$.isFunction(this.st)?this.v=this.st.call(i,this.v,this.nm,a):(this.v=i.handler(this.st,this.v,this.nm,this.sr,this.srt,a),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=i.handler(this.st,this.vd,this.sd,this.sr,this.srt,a)))},k=h.groupField.length,l=0;for(c=0;c<k;c++)d=h.groupField[c],f=h.displayField[c],e=a[d],g=null==f?null:a[f],null==g&&(g=e),e!==undefined&&(0===b?(h.groups.push({idx:c,dataIndex:d,value:e,displayValue:g,startRow:b,cnt:1,summary:[]}),h.lastvalues[c]=e,h.counters[c]={cnt:1,pos:h.groups.length-1,summary:$.extend(!0,[],h.summary)},$.each(h.counters[c].summary,j),h.groups[h.counters[c].pos].summary=h.counters[c].summary):"object"!=typeof e&&h.lastvalues[c]!==e?(h.groups.push({idx:c,dataIndex:d,value:e,displayValue:g,startRow:b,cnt:1,summary:[]}),h.lastvalues[c]=e,l=1,h.counters[c]={cnt:1,pos:h.groups.length-1,summary:$.extend(!0,[],h.summary)},$.each(h.counters[c].summary,j),h.groups[h.counters[c].pos].summary=h.counters[c].summary):1===l?(h.groups.push({idx:c,dataIndex:d,value:e,displayValue:g,startRow:b,cnt:1,summary:[]}),h.lastvalues[c]=e,h.counters[c]={cnt:1,pos:h.groups.length-1,summary:$.extend(!0,[],h.summary)},$.each(h.counters[c].summary,j),h.groups[h.counters[c].pos].summary=h.counters[c].summary):(h.counters[c].cnt+=1,h.groups[h.counters[c].pos].cnt=h.counters[c].cnt,$.each(h.counters[c].summary,j),h.groups[h.counters[c].pos].summary=h.counters[c].summary))},groupingToggle:function(a){var b=this,c=b.p.groupingView,d=a.split("_"),e=parseInt(d[d.length-2],10);d.splice(d.length-2,2);var f,g,h=d.join("_"),i=c.minusicon,j=c.plusicon,k=$("#"+$.jgrid.jqID(a)),l=k.length?k[0].nextSibling:null,m=$("#"+$.jgrid.jqID(a)+" span.tree-wrap-ltr"),n=function(a){var b=$.map(a.split(" "),function(a){if(a.substring(0,h.length+1)===h+"_")return parseInt(a.substring(h.length+1),10)});return b.length>0?b[0]:undefined},o=!1,p=!!b.p.frozenColumns&&b.p.id+"_frozen",q=!!p&&$("#"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(p)),r=q&&q.length?q[0].nextSibling:null;if(m.hasClass(i)){if(l)for(;l&&!((f=n(l.className))!==undefined&&f<=e);)$(l).hide(),l=l.nextSibling,p&&($(r).hide(),r=r.nextSibling);m.removeClass(i).addClass(j)}else{if(l)for(g=undefined;l;){if(f=n(l.className),g===undefined&&(g=f===undefined),o=$(l).hasClass("ui-subgrid")&&$(l).hasClass("ui-sg-collapsed"),f!==undefined){if(f<=e)break;f===e+1&&(o||($(l).show().find(">td>span.tree-wrap-ltr").removeClass(i).addClass(j),p&&$(r).show().find(">td>span.tree-wrap-ltr").removeClass(i).addClass(j)))}else g&&(o||($(l).show(),p&&$(r).show()));l=l.nextSibling,p&&(r=r.nextSibling)}m.removeClass(j).addClass(i)}return!1},groupingRender:function(a,b,c,d){function e(a,b,c){var d,e=!1;if(0===b)e=c[a];else{var f=c[a].idx;if(0===f)e=c[a];else for(d=a;d>=0;d--)if(c[d].idx===f-b){e=c[d];break}}return e}function f(a,c,d,f){var g,h,i=e(a,c,d),k=j.p.colModel,l=i.cnt,m="";for(h=f;h<b;h++){var n="<td "+j._formatCol(h,1,"")+">&#160;</td>",o="{0}";$.each(i.summary,function(){if(this.nm===k[h].name){k[h].summaryTpl&&(o=k[h].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&l>0&&(this.v=this.v/l));try{this.groupCount=i.cnt,this.groupIndex=i.dataIndex,this.groupValue=i.value,g=j.formatter("",this.v,h,this)}catch(a){g=this.v}return n="<td "+j._formatCol(h,1,"")+">"+$.jgrid.template(o,g)+"</td>",!1}}),m+=n}return m}var g,h,i,j=this,k=j.p.groupingView,l="",m="",n=0,o=[],p=k.groupField.length,q=(k.groupCollapse?k.plusicon:k.minusicon)+" tree-wrap-ltr";$.each(j.p.colModel,function(a,b){var c;for(c=0;c<p;c++)if(k.groupField[c]===b.name){o[c]=a;break}b.hidden&&n++});var r,s=0,t=$.makeArray(k.groupSummary);t.reverse(),r=j.p.multiselect?' colspan="2"':"",$.each(k.groups,function(e,u){if(k._locgr&&!(u.startRow+u.cnt>(c-1)*d&&u.startRow<c*d))return!0;s++,h=j.p.id+"ghead_"+u.idx,g=h+"_"+e,m="<span style='cursor:pointer;margin-right:8px;margin-left:5px;' class='"+q+"' onclick=\"jQuery('#"+$.jgrid.jqID(j.p.id)+"').jqGrid('groupingToggle','"+g+"');return false;\"></span>";try{i=j.formatter(g,u.displayValue,o[u.idx],u.value)}catch(E){i=u.displayValue}var v="";if(v=$.isFunction(k.groupText[u.idx])?k.groupText[u.idx].call(j,i,u.cnt,u.summary):$.jgrid.template(k.groupText[u.idx],i,u.cnt,u.summary),"string"!=typeof v&&"number"!=typeof v&&(v=i),"header"===k.groupSummaryPos[u.idx]?(l+='<tr id="'+g+'"'+(k.groupCollapse&&u.idx>0?' style="display:none;" ':" ")+'role="row" class= " jqgroup ui-row-ltr '+h+'"><td style="padding-left:'+12*u.idx+'px;"'+r+">"+m+v+"</td>",l+=f(e,0,k.groups,!1===k.groupColumnShow[u.idx]?""===r?2:3:""===r?1:2),l+="</tr>"):l+='<tr id="'+g+'"'+(k.groupCollapse&&u.idx>0?' style="display:none;" ':" ")+'role="row" class= " jqgroup ui-row-ltr '+h+'"><td style="padding-left:'+12*u.idx+'px;" colspan="'+(b-n)+'">'+m+v+"</td></tr>",p-1===u.idx){var w,x,y=k.groups[e+1],z=0,A=u.startRow,B=y!==undefined?y.startRow:k.groups[e].startRow+k.groups[e].cnt;for(k._locgr&&(z=(c-1)*d)>u.startRow&&(A=z),w=A;w<B&&a[w-z];w++)l+=a[w-z].join("");if("header"!==k.groupSummaryPos[u.idx]){var C;if(y!==undefined){for(C=0;C<k.groupField.length&&y.dataIndex!==k.groupField[C];C++);s=k.groupField.length-C}for(x=0;x<s;x++)if(t[x]){var D="";k.groupCollapse&&!k.showSummaryOnHide&&(D=' style="display:none;"'),l+="<tr"+D+' jqfootlevel="'+(u.idx-x)+'" role="row" class=" jqfoot ui-row-ltr">',l+=f(e,x,k.groups,0),l+="</tr>"}s=C}}}),$("#"+$.jgrid.jqID(j.p.id)+" tbody:first").append(l),l=null},handler:function(a,b,c,d,e,f){var g={sum:function(){return parseFloat(b||0)+parseFloat(f[c]||0)},min:function(){return""===b?parseFloat(f[c]||0):Math.min(parseFloat(b),parseFloat(f[c]||0))},max:function(){return""===b?parseFloat(f[c]||0):Math.max(parseFloat(b),parseFloat(f[c]||0))},count:function(){return""===b&&(b=0),f.hasOwnProperty(c)?b+1:0},avg:function(){return g.sum()}};if(!g[a])throw"jqGrid Grouping No such method: "+a;var h=g[a]();if(null!=d)if("fixed"===e)h=h.toFixed(d);else{var i=Math.pow(10,d);h=Math.round(h*i)/i}return h},groupingGroupBy:function(a,b){var c=this;"string"==typeof a&&(a=[a]);var d=c.p.groupingView;c.p.grouping=!0,d._locgr=!1,d.visibiltyOnNextGrouping===undefined&&(d.visibiltyOnNextGrouping=[]);var e;for(e=0;e<d.groupField.length;e++)!d.groupColumnShow[e]&&d.visibiltyOnNextGrouping[e]&&$(c).jqGrid("showCol",d.groupField[e]);for(e=0;e<a.length;e++)d.visibiltyOnNextGrouping[e]=$("#"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(a[e])).is(":visible");c.p.groupingView=$.extend(c.p.groupingView,b||{}),d.groupField=a,$(c.element).trigger("reloadGrid")},groupingRemove:function(a){var b=this;if(a===undefined&&(a=!0),b.p.grouping=!1,!0===a){var c,d=b.p.groupingView;for(c=0;c<d.groupField.length;c++)!d.groupColumnShow[c]&&d.visibiltyOnNextGrouping[c]&&$(b).jqGrid("showCol",d.groupField);$("tr.jqgroup, tr.jqfoot","#"+$.jgrid.jqID(b.p.id)+" tbody:first").remove(),$("tr.jqgrow:hidden","#"+$.jgrid.jqID(b.p.id)+" tbody:first").show()}else $(b.element).trigger("reloadGrid")}})}(),function(){"use strict";$.extend($.ui.grid.prototype,{editCell:function(a,b,c){var d,e,f,g,h=this;if(h.grid&&!0===h.p.cellEdit){if(b=parseInt(b,10),h.p.selrow=h.rows[a].id,h.p.savedRow.length>0){if(!0===c&&a==h.p.irow&&b==h.p.icol)return;if(!0===h.p.cellAutoSave||"true"===h.p.cellAutoSave){if(!1===h.saveCell(h.p.savedRow[0].id,h.p.savedRow[0].ic))return}else!1!==h.p.cellAutoSave&&"false"!==h.p.cellAutoSave||h.restoreCell(h.p.savedRow[0].id,h.p.savedRow[0].ic)}if(g=h.p.colModel[b],"subgrid"!==(d=g.name)&&"cb"!==d&&"rn"!==d){if(f=$("td:eq("+b+")",h.rows[a]),!0!==g.editable||!0!==c||f.hasClass("not-editable-cell"))parseInt(h.p.icol,10)>=0&&parseInt(h.p.irow,10)>=0&&($("td:eq("+h.p.icol+")",h.rows[h.p.irow]).removeClass("edit-cell ui-state-highlight"),$(h.rows[h.p.irow]).removeClass("selected-row")),f.addClass("edit-cell ui-state-highlight"),$(h.rows[a]).addClass("selected-row"),e=f.html().replace(/\&#160\;/gi,""),h._trigger("onSelectCell",null,[h.rows[a].id,d,e,a,b]);else{parseInt(h.p.icol,10)>=0&&parseInt(h.p.irow,10)>=0&&($("td:eq("+h.p.icol+")",h.rows[h.p.irow]).removeClass("edit-cell ui-state-highlight"),$(h.rows[h.p.irow]).removeClass("selected-row")),$(f).addClass("edit-cell ui-state-highlight"),$(h.rows[a]).addClass("selected-row");try{e=$.unformat.call(h,f,{rowId:h.rows[a].id,colModel:g},b,!0)}catch(_){e=g.edittype&&"textarea"===g.edittype?$(f).text():$(f).html()}if(h.p.autoencode&&(e=$.jgrid.htmlDecode(e)),("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))&&(e=""),!1===h._trigger("beforeEditCell",null,[h.rows[a].id,d,e,a,b]))return!1;h.p.savedRow.push({id:a,ic:b,name:d,v:e});var i,j=$.extend({},g.editoptions||{},{id:h.rows[a].id+"_"+d,name:d});if(fish.isUndefined(g.edittype)&&(g.edittype="text"),i=fish.isFunction(g.edittype)?g.edittype.call(h,h.rows[a].id,d,e,a,b):$.jgrid.createEl.call(h,g.edittype,j,e,!0),$(f).html("").append(i).attr("tabindex","0"),window.setTimeout(function(){$(i).focus()},0),$("input, select, textarea",f).bind("keydown",function(c){if(27===c.keyCode&&h.restoreCell(a,b),13===c.keyCode&&!c.shiftKey)return h.saveCell(a,b),!1;9===c.keyCode&&(c.shiftKey?h.prevCell(a,b):h.nextCell(a,b)),c.stopPropagation()}),$("input, select, textarea",f).blur(function(){if($("input",f).length>0){if($(".datetimepicker.datetimepicker-dropdown").length>0)return void $(this).on("datetimepicker:hide",function(){!0===h.p.cellAutoSave||"true"===h.p.cellAutoSave?h.saveCell(a,b):!1!==h.p.cellAutoSave&&"false"!==h.p.cellAutoSave||h.restoreCell(a,b)});if($(".datetimepicker-selectAddonOpt").length>0)return void $(this).on("datetimepicker-selectAddonOpt:clickSelectAddon",function(){!0===h.p.cellAutoSave||"true"===h.p.cellAutoSave?h.saveCell(a,b):!1!==h.p.cellAutoSave&&"false"!==h.p.cellAutoSave||h.restoreCell(a,b)})}!0===h.p.cellAutoSave||"true"===h.p.cellAutoSave?h.saveCell(a,b):!1!==h.p.cellAutoSave&&"false"!==h.p.cellAutoSave||h.restoreCell(a,b)}),fish.isFunction(g.editinit)){var k=$(h.rows[a]).find("td").eq(b);g.editinit.call(k,i,h.rows[a].id,d,e,a,b)}h._trigger("afterEditCell",null,[h.rows[a].id,d,e,a,b]),h._triggerPagePoint({eventType:"afterEditCell",rowid:h.rows[a].id,colName:d,cellcontext:e,irow:a,icol:b})}h.p.icol=b,h.p.irow=a}}},saveCell:function(a,b){var c,d,e=this;if(!e.grid||!0!==e.p.cellEdit)return!1;if(null!==(c=e.p.savedRow.length>=1?0:null)){var f,g,h=$("td:eq("+b+")",e.rows[a]),i=e.p.colModel[b],j=i.name;d=e.rows[a].id;var k=$(document.getElementById(d+"_"+j),e.rows[a]);if(fish.isFunction(i.edittype)){if(fish.isFunction(i.editvalue)){var l=$(e.rows[a]).find("td").eq(b);f=g=i.editvalue.call(l,d,j,a,b)}}else switch(i.edittype){case"select":if(i.editoptions.multiple){var m=$("#"+d+"_"+j,e.rows[a]),n=[];f=$(m).val(),f=f?f.join(","):"",$("option:selected",m).each(function(a,b){n[a]=$(b).text()}),g=n.join(",")}else f=k.find("option:selected").val(),g=k.find("option:selected").text();i.formatter&&(g=f);break;case"checkbox":var o=["Yes","No"];i.editoptions&&(o=i.editoptions.value.split(":")),f=k.is(":checked")?o[0]:o[1],g=f;break;case"password":case"text":case"textarea":case"button":f=k.val(),g=f}if(g!==e.p.savedRow[c].v)return(!i.editrules||!1!==$.jgrid.validator.call(e,e.rows[a].id,j,i.editrules))&&(!1===e._trigger("beforeSaveCell",null,[e.rows[a].id,j,f,a,b])?(e.p.cellAutoRestore&&$(e.element).jqGrid("restoreCell",a,b),!1):($(h).empty(),$(e.element).jqGrid("setCell",e.rows[a].id,b,g,!1,!1,!0),$(h).addClass("dirty-cell").prepend('<span class="span-dirty"></span>'),$(e.rows[a]).addClass("edited"),e._trigger("afterSaveCell",null,[e.rows[a].id,j,f,a,b]),e._triggerPagePoint({eventType:"afterSaveCell",rowid:e.rows[a].id,colName:j,cellcontext:f,irow:a,icol:b}),e.p.savedRow.splice(0,1),!0));$(e.element).jqGrid("restoreCell",a,b)}return!0},restoreCell:function(a,b){var c,d=this;if(d.grid&&!0===d.p.cellEdit&&null!==(c=d.p.savedRow.length>=1?0:null)){if(!1===d._trigger("beforeRestoreCell",null,[d.rows[a].id,d.p.savedRow[c].v,a,b]))return!1
;var e=$("td:eq("+b+")",d.rows[a]);$.fn.validator&&e.resetValid(),$(e).empty().attr("tabindex","-1"),$(d.element).jqGrid("setCell",d.rows[a].id,b,d.p.savedRow[c].v,!1,!1,!0),$(e).hasClass("dirty-cell")&&$(e).prepend('<span class="span-dirty"></span>'),d._trigger("afterRestoreCell",null,[d.rows[a].id,d.p.savedRow[c].v,a,b]),d._triggerPagePoint({eventType:"afterRestoreCell",rowid:d.rows[a].id,cellcontext:d.p.savedRow[c].v,irow:a,icol:b}),d.p.savedRow.splice(0,1)}},nextCell:function(a,b){var c,d=this,e=!1;if(d.grid&&!0===d.p.cellEdit){for(;a<=d.p.reccount;){for(c=b+1;c<d.p.colModel.length;c++)if(!0===d.p.colModel[c].editable){e=c;break}if(!(!1===e&&a<d.p.reccount))break;a++,b=0}!1!==e?$(d.element).jqGrid("editCell",a,e,!0):d.p.savedRow.length>0&&$(d.element).jqGrid("saveCell",a,b)}},prevCell:function(a,b){var c,d=this,e=!1;if(d.grid&&!0===d.p.cellEdit){for(;a>0;){for(c=b-1;c>=0;c--)if(!0===d.p.colModel[c].editable){e=c;break}if(!(!1===e&&a>1))break;a--,b=d.p.colModel.length-1}!1!==e?$(d.element).jqGrid("editCell",a,e,!0):d.p.savedRow.length>0&&$(d.element).jqGrid("saveCell",a,b)}},getChangedCells:function(a){var b=[];a||(a="all");var c,d=this;if(d.grid&&!0===d.p.cellEdit)return $(d.rows).each(function(e){var f={};$(this).hasClass("edited")&&($("td",this).each(function(b){if("cb"!==(c=d.p.colModel[b].name)||"subgrid"!==c)if("dirty"===a){if($(this).hasClass("dirty-cell"))try{f[c]=$.unformat.call(d,this,{rowId:d.rows[e].id,colModel:d.p.colModel[b]},b,!0)}catch(g){f[c]=$.jgrid.htmlDecode($(this).html())}}else try{f[c]=$.unformat.call(d,this,{rowId:d.rows[e].id,colModel:d.p.colModel[b]},b,!0)}catch(g){f[c]=$.jgrid.htmlDecode($(this).html())}}),f.id=this.id,b.push(f))}),b},mergeColCellByData:function(a,b){for(var c=a.length,d=0;d<c;d++)this._mergeCell(a[d],b)},mergeColCellByReferenceCol:function(a,b){for(var c=this,d=this._mergeCell(a),e=1;e<=b;e++)_.each(d,function(b){var d=b.trno;c.rows[d].cells[a+e].rowSpan=b.rowSpan;for(var f=1;f<b.rowSpan;f++)$(c.rows[d+f].cells[a+e]).hide()})},destroyMergeCol:function(a){var b,c=a.length;for(b=0;b<c;b++)$(this.rows).each(function(){$("td:eq("+a[b]+")",this).removeAttr("rowspan").show()})},_mergeCell:function(a,b){var c=[],d=this,e="",f=1,g=$(),h=d.rows.length;return $(d.rows).each(function(i,j){var k,l=$("td:eq("+a+")",this);if(l.data("trno",i),k=l.html(),""==e)e=k,g=l;else if(e==k){if(fish.isFunction(b)){var m=d.getRowData(j.id),n=d.getRowData($(this).prev().attr("id")),o=b.call(d,n,m);if(!o)return 1!=f&&(g.attr("rowspan",f),c.push({trno:g.data("trno"),rowSpan:f})),g=l,e=l.html(),void(f=1)}var p=f+1;f=p,l.hide(),++i==h&&(g.attr("rowspan",f),c.push({trno:g.data("trno"),rowSpan:f}))}else 1!=f&&(g.attr("rowspan",f),c.push({trno:g.data("trno"),rowSpan:f})),g=l,e=l.html(),f=1}),c}})}(),function(){"use strict";$.extend($.ui.grid.prototype,{editRow:function(a,b){b=$.extend(!0,{oper:"edit"},b);var c,d,e,f,g,h=this,i=0,j=null,k={};!1!==(c=h.getInd(a,!0))&&(d=h.getRowData(a),!1!==b.trigger&&!1===h._trigger("beforeEditRow",null,[a,d,b])||"0"!==($(c).attr("editable")||"0")||$(c).hasClass("not-editable-row")||(e=h.p.colModel,$('td[role="gridcell"]',c).each(function(c){f=e[c].name;var l=!0===h.p.treeGrid&&f===h.p.expandColumn;if(l)g=d[f]?d[f]:"";else try{g=$.unformat.call(h,this,{rowId:a,rowid:a,colModel:e[c]},c,!0)}catch(_){g=e[c].edittype&&"textarea"===e[c].edittype?$(this).text():$(this).html()}if("cb"!==f&&"subgrid"!==f&&"rn"!==f&&(h.p.autoencode&&(g=$.jgrid.htmlDecode(g)),k[f]=g,!0===e[c].editable)){null===j&&(j=c),l?$("span:first",this).html(""):$(this).html("");var m=$.extend({},e[c].editoptions||{},{id:a+"_"+f,name:f});("&nbsp;"===g||"&#160;"===g||1===g.length&&160===g.charCodeAt(0))&&(g="");var n;if(fish.isUndefined(e[c].edittype)&&(e[c].edittype="text"),n=fish.isFunction(e[c].edittype)?e[c].edittype.call(h,g,m,d,b.oper):$.jgrid.createEl.call(h,e[c].edittype,m,g,!0),$(n).addClass("editable"),l){$("span:first",this).append(n);var o=$("span:first",this).parent("td"),p=o.width(),q=o.find(".tree-wrap").width();$(n).css("width",.98*p-q)}else $(this).append(n);fish.isFunction(e[c].editinit)&&e[c].editinit.call(this,n,g,m,d,b.oper),i++}}),i>0&&(k.id=a,k=$.extend(!1,d,k),h.p.savedRow.push(k),$(c).attr("editable","1"),window.setTimeout(function(){var a=$("td:eq("+j+")",c);a.find("input").focus();var b=a.position();h.$slimScroll.slimscroll({scrollToX:b.left})},0),$(c).find("div.ui-inline-edit,div.ui-inline-del").hide(),$(c).find("div.ui-inline-save,div.ui-inline-cancel").show(),h._trigger("afterEditRow",null,[a,d,b]),h._triggerPagePoint({eventType:"afterEditRow",rowid:a,value:d,option:b}))))},_validateRowData:function(a,b,c){var d,e,f,g=this,h={},i={},j=g.getRowData(b);return $('td[role="gridcell"]',a).each(function(a){if(f=g.p.colModel[a],"cb"!==(d=f.name)&&"subgrid"!==d&&"rn"!==d&&f.editable&&!$(this).hasClass("not-editable-cell")){if(fish.isFunction(f.edittype))fish.isFunction(f.editvalue)&&(h[d]=f.editvalue.call(this,c,j));else switch(f.edittype){case"checkbox":var k=["Yes","No"];f.editoptions&&(k=f.editoptions.value.split(":")),h[d]=$("input",this).is(":checked")?k[0]:k[1];break;case"text":case"password":case"textarea":case"button":h[d]=$("input, textarea",this).val(),"date"===f.formatter&&(h[d]=g._parseDate(h[d],f.srcformat,f.newformat));break;case"select":if(f.editoptions.multiple){var l=$("select",this),m=[];h[d]=$(l).val(),h[d]?h[d]=h[d].join(","):h[d]="",$("select option:selected",this).each(function(a,b){m[a]=$(b).text()}),i[d]=m.join(",")}else h[d]=$("select option:selected",this).val(),i[d]=$("select option:selected",this).text();f.formatter&&"select"===f.formatter&&(i={})}if(f.editrules&&!1===(e=$.jgrid.validator.call(g,b,d,f.editrules)))return!1}}),!1!==e&&(h=$.extend(!1,j,h),(!1===c.trigger||!1!==g._trigger("beforeSaveRow",null,[b,h,c]))&&$.extend({},h,i))},_parseDate:function(a,b,c){var d=fish.config.get("dateParseFormat.date"),e=fish.config.get("dateDisplayFormat.date"),f=fish.config.get("dateParseFormat.datetime"),g=fish.config.get("dateDisplayFormat.datetime");return a.length===f.length&&(d=f,e=g),b=b||d,c=c||e,fish.dateutil.format(fish.dateutil.parse(a,c),b)},_saveRowData:function(a,b,c,d){var e,f,g=this,h=b,i=g.setRowData(b,c);for($(a).attr("editable","0"),e=0;e<g.p.savedRow.length;e++)if(String(g.p.savedRow[e].id)===String(h)){f=e;break}f>=0&&g.p.savedRow.splice(f,1),$(a).find("div.ui-inline-edit,div.ui-inline-del").show(),$(a).find("div.ui-inline-save,div.ui-inline-cancel").hide(),g._trigger("afterSaveRow",null,[b,c,d]),g._triggerPagePoint({eventType:"afterSaveRow",rowid:b,value:c,option:d}),$.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(g,b,i,d),$(a).removeClass("jqgrid-new-row").unbind("keydown")},saveRow:function(a,b){b=$.extend(!0,{},b);var c,d=!1,e=this,f={};if(!1!==(c=e.getInd(a,!0))){if(b.oper=$(c).hasClass("jqgrid-new-row")?"add":"edit","1"===$(c).attr("editable")){if(!1===(f=this._validateRowData(c,a,b)))return d;this._saveRowData(c,a,f,b),d=!0}return d}},restoreRow:function(a,b){b=$.extend(!0,{},b);var c,d,e,f,g,h=this;if(!1!==(d=h.getInd(a,!0))){for(f=h.getRowData(a),e=0;e<h.p.savedRow.length;e++)if(String(h.p.savedRow[e].id)===String(a)){c=e;break}if(c>=0){var i=h.getGridRowById(a);if($(i).hasClass("jqgrid-new-row")?(b.oper="add",setTimeout(function(){h.p.treeGrid?h.delTreeNode(a):h.delRowData(a)},0)):b.oper="edit",!1===h._trigger("beforeRestoreRow",null,[a,f,b]))return;$.fn.validator&&$("#"+a,h.element).resetValid(),$.each(h.p.colModel,function(){g=$.jgrid.getAccessor(f,this.name),!0===this.editable&&fish.isUndefined(g)&&$.jgrid.setAccessor(f,this.name,null)}),h.setRowData(a,f),$(d).attr("editable","0").unbind("keydown"),h.p.savedRow.splice(c,1),$(d).find("div.ui-inline-edit,div.ui-inline-del").show(),$(d).find("div.ui-inline-save,div.ui-inline-cancel").hide()}h._trigger("afterRestoreRow",null,[a,f,b]),h._triggerPagePoint({eventType:"afterRestoreRow",rowid:a,value:f,option:b}),$.isFunction(b.afterrestorefunc)&&b.afterrestorefunc.call(h,a)}},delRow:function(a,b){b=$.extend(!0,{oper:"del"},b);var c,d=this;if(!1!==d.getInd(a,!0)){c=d.getRowData(a);$.promisify(!1===b.trigger||this._triggerAsync("beforeDeleteRow",null,[a,c,b])).then(function(e){e&&(d.p.treeGrid?d.delTreeNode(a):d.delRowData(a),d._trigger("afterDeleteRow",null,[a,c,b]),d._triggerPagePoint({eventType:"afterDeleteRow",rowid:a,value:c,option:b}))})}},addRow:function(a){a=$.extend(!0,{rowid:null,initdata:{},position:"last",src:"",useDefValues:!0,addRowParam:{oper:"add"}},a);var b=this,c=b.p.keyName,d=a.rowid,e=a.initdata;if($.isFunction(d)?d=d.call(b,a):d||(e[c]?d=e[c]:(d=$.jgrid.randId(),e[c]=d)),!1!==b._trigger("beforeAddRow",null,[d,e,a.addRowParam])){!0===a.useDefValues&&$(b.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var a=this.editoptions.defaultValue,c=$.isFunction(a)?a.call(b):a;e[this.name]=c}}),b.p.treeGrid?b.addChildNode(d,a.parent,e,!1,a.position,a.src):b.addRowData(d,e,a.position,a.src);var f=b.getGridRowById(d);$(f).addClass("jqgrid-new-row"),window.setTimeout(function(){b.$slimScroll.slimscroll({scrollToX:0})},0),$(b.element).jqGrid("setSelection",d),$(b.element).jqGrid("editRow",d,a.addRowParam);var g=b.getRowData(d);b._trigger("afterAddRow",null,[d,$.extend(!1,g,e),a.addRowParam]),b._triggerPagePoint({eventType:"afterAddRow",rowid:d,value:$.extend(!1,g,e),option:a.addRowParam})}},saveAllRow:function(){var a=this,b=[],c=[],d=!0,e=$(a.element);return $("#btable_"+a.p.id,a.element).children("tbody").children("tr[editable='1']").each(function(){var b,e=this.id,f=a.getInd(e,!0);if(b=a._validateRowData(f,e,{}),!1===b?d=!1:c.push({rowDom:f,rowId:e,rowData:b,option:{}}),!d)return c=[],!1}),d&&(fish.each(c,function(c){a._saveRowData(c.rowDom,c.rowId,c.rowData,c.option),b.push(e.grid("getRowData",c.rowId))}),a._trigger("afterSaveAllRow",null,[b])),d}})}(),function(){var a=fish.compile('\n        <div class="ui-dialog dialog-lg columns-dialog">\n            <div class="modal-header">\n                <h4 class="modal-title">{{title}}</h4>\n            </div>\n            <div class="modal-body clearfix">\n                <div class="columns-container">\n                    <div class="panel panel-default">\n                        <div class="panel-heading">\n                            <h4 class="panel-title">{{invisibleColumns}}</h4>\n                        </div>\n                        <div class="js-invisible-columns" style="height: 280px"></div>\n                    </div>\n                </div>\n                <div class="btn-separate-group-vertical">\n                    <button type="button" class="btn btn-primary js-move-right-all">&gt;&gt;</button>\n                    <button type="button" class="btn btn-primary js-move-right">&gt;</button>\n                    <button type="button" class="btn btn-primary js-move-left">&lt;</button>\n                    <button type="button" class="btn btn-primary js-move-left-all">&lt;&lt;</button>\n                </div>\n                <div class="columns-container">\n                    <div class="panel panel-default">\n                        <div class="panel-heading">\n                            <h4 class="panel-title">{{visibleColumns}}</h4>\n                        </div>\n                        <div class="js-visible-columns" style="height: 280px"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-primary btn-min-width js-ok">{{ok}}</button>\n                <button type="button" class="btn btn-default btn-min-width" data-dismiss>{{cancel}}</button>\n            </div>\n        </div>\n    '),b='\n    <div>\n      <div class="columns-supernatant columns-dialog">\n        <div class="columns-contain">\n          <div class="panel">\n            <div class="panel-body">\n              <div class="js-all-columns row">\n              {{#columns}}\n                <div class="col-md-3 column-checkbox">\n                  <label title="{{headerformatter}}" class="checkbox-inline column-checkbox-inline">\n                    {{#if hidden}}\n                      <input class="column-checkbox-input" type="checkbox" name="inlineCheckbox" id="{{name}}" value="{{name}}">{{headerformatter}}\n                      {{else}}\n                      <input class="column-checkbox-input" type="checkbox" checked name="inlineCheckbox" id="{{name}}" value="{{name}}">{{headerformatter}}\n                    {{/if}}\n                  </label>\n                </div>\n              {{/columns}}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  ';$.extend($.ui.grid.prototype,{_setupColumnsFeature:function(){$("#"+this.options.id+"_pager_left",this.element).append('<button type="button" title="'+$.jgrid.columnsFeature.title+'" class="btn btn-xs btn-link js-columns"><i class="glyphicon glyphicon-list-alt"></i></button>'),this._on({"click .js-columns":"_onColumnsClick"})},_onColumnsClick:function(){if(!this.__columnsFeatureFlag__){this.__columnsFeatureFlag__=!0;var b,c,d,e=this,f=[],g=[],h=[],i=$(a(fish.extend({},$.jgrid.columnsFeature,{ok:fish.getResource("alert.ok"),cancel:fish.getResource("alert.cancel")})));d=fish.popup({content:i,modal:!1}),fish.each(this.options.colModel,function(a,b){a.frozen&&h.push(a),!a.label||a.hidedlg||a.frozen||(a.hidden?g.push(a):f.push(a))}),b=$(".js-invisible-columns",i).grid({multiselect:!0,colModel:[{name:"label",label:$.jgrid.columnsFeature.columnName,sortable:!1,resizable:!1}],data:g}),c=$(".js-visible-columns",i).grid({multiselect:!0,cellEdit:!0,colModel:[{name:"label",label:$.jgrid.columnsFeature.columnName,resizable:!1,sortable:!1},{name:"width",label:$.jgrid.columnsFeature.columnWidth,formatter:"integer",resizable:!1,sortable:!1,editable:!0}],data:f}),c.grid("sortableRows"),i.on("click",".js-move-right-all",function(){var a=b.grid("getRowData");b.grid("clearGridData"),fish.each(a,function(a){c.grid("addRowData",a)})}),i.on("click",".js-move-right",function(){var a=b.grid("getCheckRows");fish.each(a,function(a){b.grid("delRowData",a),c.grid("addRowData",a)})}),i.on("click",".js-move-left",function(){var a=c.grid("getCheckRows");fish.each(a,function(a){c.grid("delRowData",a),b.grid("addRowData",a)})}),i.on("click",".js-move-left-all",function(){var a=c.grid("getRowData");c.grid("clearGridData"),fish.each(a,function(a){b.grid("addRowData",a)})}),i.on("click",".js-ok",function(){var a,e,f=[],g=[];if(a=c.grid("getRowData"),0===a.length)return void fish.warn(fish.getResource("grid.columnsFeature.checkOneVisible"));fish.each(a,function(a){a.hidden&&g.push(a)}),e=b.grid("getRowData"),fish.each(e,function(a){a.hidden||f.push(a)}),f=f.concat(h),d.close({visibleColumns:a,invisibleColumns:e,showColumns:g,hideColumns:f})}),d.result.then(function(a){var b=fish.pluck(a.showColumns,"name");e.showCol(b),b=fish.pluck(a.hideColumns,"name"),e.hideCol(b),e._updateColumnsProperty(a.visibleColumns,a.invisibleColumns),e.options.cached&&e._writeCacheColumnsFeature(),e._trigger("columnsFeatureChanged",null,[e.options.colModel])}).always(function(){i.off("click"),e.__columnsFeatureFlag__=!1})}},_onColumnsMenuClick:function(a,b,c){var d=this;if(a.preventDefault(),a.stopPropagation(),this.__columnsMenuFlag__)return void this._showColumnsMenu(a);this.__columnsMenuFlag__=!0;var e="\n    <div>\n      <div class=\"columns-menu\" style=\"position: absolute;top:100%;left:100%\">\n          <ul class=\"columnMenu dropdown-list combobox-dropdown\" style=\"height:auto; max-height:400px;\">\n              {{#if sortable}}\n              <li class=\"col-asc\" style='width:100%; padding-right:5px;padding-left:5px'><span class=\"glyphicon glyphicon-arrow-up\" style='margin-right:10px'></span>{{ascsort}}</li>\n              <li class=\"col-desc\" style='width:100% padding-right:5px;padding-left:5px'><span class=\"glyphicon glyphicon-arrow-down\" style='margin-right:10px'></span>{{descsort}}</li>\n              {{/if}}\n              {{#if showColumnsFeature}}\n              <li class=\"col-feature\" style='width:100% padding-right:5px;padding-left:5px'><span class='glyphicon glyphicon-th-list' style='margin-right:10px'></span>{{columns}}</li>\n              {{/if}}\n              {{#if searchoption}}\n              <li class=\"col-filter\" style='width:100% padding-right:5px;padding-left:5px'><span class='glyphicon glyphicon-filter' style='margin-right:10px'></span>{{filter}}</li>\n              {{/if}}\n          </ul>\n      </div>\n    </div>\n    ".replace(/\>\s+\</g,"><").replace(/\>\s+\{\{/g,">{{").replace(/\}\}\s+\</g,"}}<").replace(/\}\}\s+\{\{/g,"}}{{"),f=fish.compile(e)({sortable:!0,showColumnsFeature:!0,searchoption:!0,ascsort:$.jgrid.columnMenu.ascsort,descsort:$.jgrid.columnMenu.descsort,columns:$.jgrid.columnMenu.columns,filter:$.jgrid.columnMenu.filter}),g=$(f);$(d.element).append(g.html());var h=$(d.element).find(".columns-menu");h.attr({"menu-targetId":b,"menu-idxcol":c}),d.p.lastsort===c&&("asc"===d.p.sortorder?h.find("li.col-asc").addClass("disabled"):"desc"===d.p.sortorder&&h.find("li.col-desc").addClass("disabled")),"none"!==$("thead tr.ui-search-toolbar").css("display")&&h.find("li.col-filter").css("color","#3f51b5");var i=d._calculatePosition(a,h.find(".columnMenu"));h.css(i),d._on(h,{"click li":"_onMenuItemClick","mouseenter li.col-feature":"_openFeature","mouseleave li.col-feature":"_closeFeature"}),d._on(d.document,{click:function(a){$(a.target).closest(".columns-menu").length||$(a.target).closest(".columns-supernatant").length||d._closeColumnsMenu()}})},_onMenuItemClick:function(a){var b=this,c=$(a.currentTarget).parents(".columns-menu"),d=c.attr("menu-targetId"),e=Number(c.attr("menu-idxcol"));a.preventDefault(),a.stopPropagation(),$(a.currentTarget).hasClass("disabled")||("col-asc"===a.currentTarget.className?(b.sortData(d,e,"asc",!0),$(a.currentTarget).addClass("disabled"),$(a.currentTarget).next("li").removeClass("disabled")):"col-desc"===a.currentTarget.className?(b.sortData(d,e,"desc",!0),$(a.currentTarget).addClass("disabled"),$(a.currentTarget).prev("li").removeClass("disabled")):"col-filter"===a.currentTarget.className&&("none"===$("thead tr.ui-search-toolbar").css("display")?($("thead tr.ui-search-toolbar").show(),$(a.currentTarget).css("color","#3f51b5")):($("thead tr.ui-search-toolbar").hide(),$(a.currentTarget).css("color","#333333"))))},_openFeature:function(a){a.preventDefault(),a.stopPropagation(),this.__columnsFeatureFlag__=!0;var c,d=this,e=[],f=b.replace(/\>\s+\</g,"><").replace(/\>\s+\{\{/g,">{{").replace(/\}\}\s+\</g,"}}<").replace(/\}\}\s+\{\{/g,"}}{{");fish.each(d.options.colModel,function(a){var b=fish.extend({},a);"string"==typeof b.label&&""===b.label.replace(/\s*/g,"")&&(b.label=b.name,b.headerformatter=b.name),!b.label||b.hidedlg||b.frozen||e.push(b)});var g=fish.compile(f)({columns:e}),h=$(g);$(d.element).append(h.html()),c=$(d.element).find(".columns-supernatant"),c.position({my:"left top",at:"right top",of:$(d.element).find(".columns-menu .col-feature"),collision:"flip",within:d.element}),d._dragColumnsFeature(),d._on(c,{"change .column-checkbox-input":function(a){var b={checked:a.currentTarget.checked,value:a.currentTarget.value},e=c.find("input.column-checkbox-input");d._sortColumnsFeature(e,b)},mouseleave:"_closeFeature"})},_closeFeature:function(){var a=$(this.element).find("div.columns-supernatant");a.is(":hover")||(a.remove(),this.__columnsFeatureFlag__=!1)},_onColumnsFeatureClick:function(a){if(a.preventDefault(),a.stopPropagation(),this.__columnsFeatureFlag__)return void this._showColumnsFeature(a);this.__columnsFeatureFlag__=!0;var c,d=this,e=[],f=b.replace(/\>\s+\</g,"><").replace(/\>\s+\{\{/g,">{{").replace(/\}\}\s+\</g,"}}<").replace(/\}\}\s+\{\{/g,"}}{{");fish.each(d.options.colModel,function(a){var b=fish.extend({},a);"string"==typeof b.label&&""===b.label.replace(/\s*/g,"")&&(b.label=b.name,b.headerformatter=b.name),!b.label||b.hidedlg||b.frozen||e.push(b)});var g=fish.compile(f)({columns:e}),h=$(g);$(d.element).append(h.html()),c=$(d.element).find(".columns-supernatant");var i=d._calculatePosition(a,c);c.css(i),d._dragColumnsFeature(),d._on(c,{"change .column-checkbox-input":function(a){var b={checked:a.currentTarget.checked,value:a.currentTarget.value},e=c.find("input.column-checkbox-input");d._sortColumnsFeature(e,b)}}),d._on(d.document,{click:function(a){d._closeOnDocumentClick(a)&&d._closeColumnsFeature()}})},_closeOnDocumentClick:function(a){return!$(a.target).closest(".columns-supernatant").length},_calculatePosition:function(a,b){var c=this,d=a.currentTarget,e=$(a.currentTarget),f=d.offsetLeft,g=c.element.width(),h=c.grid.hDiv.scrollLeft,i=e.outerHeight(),j=e.find("span.s-ico-menu").outerWidth(),k=b.width(),l=b.outerHeight(),m=d.offsetTop+i+1,n=f+d.offsetWidth;return n-=j+(f<=0?0:h),n+k>=g&&(n-=k),{left:n+"px",top:m+"px",height:l+"px",width:k+"px"}},_dragColumnsFeature:function(a){var b=this,c=$(b.element).find(".columns-supernatant");$.fn.sortable&&(a=$.extend({cursor:"move",axis:"y, x",items:".column-checkbox",snap:!0,snapMode:"inner"},a||{}),a.start&&$.isFunction(a.start)?(a._start_=a.start,delete a.start):a._start_=!1,a.update&&$.isFunction(a.update)?(a._update_=a.update,delete a.update):a._update_=!1,a.start=function(b,c){a._start_&&a._start_.apply(this,[b,c])},a.update=function(d,e){$(e.item).css("border-width","1px"),a._update_&&a._update_.apply(this,[d,e]);var f=$("input.column-checkbox-input",e.item),g={checked:f.prop("checked"),value:f.val()},h=c.find("input.column-checkbox-input");b._sortColumnsFeature(h,g)},c.sortable(a),c.disableSelection())},_sortColumnsFeature:function(a,b){var c=this,d=b.checked,e=b.value,f={},g=[],h=[],i={},j=[],k=[],l=[];fish.each(a,function(a,b){i[a.value]={index:b,data:{hidden:!a.checked}},a.checked&&l.push(a)}),fish.each(c.options.colModel,function(a,b){var d=i[a.name];d?g[d.index]=fish.extend({},a,d.data):(c.p.frozenColumns&&a.frozen||a.hidedlg)&&h.push({index:b,data:fish.extend({},a)}),a.name===e&&(f=a)}),fish.each(h,function(a){g.splice(a.index,0,a.data)}),d?f.hidden&&j.push(fish.extend(f,{hidden:!0})):f.hidden||k.push(fish.extend(f,{hidden:!1}));var m=fish.pluck(j,"name");this.showCol(m),m=fish.pluck(k,"name"),this.hideCol(m),this._updateFeatureColumnsProperty(g),this.options.cached&&this._writeCacheColumnsFeature(),l.length<=1?$(l[0]).prop("disabled",!0):$.each(l,function(){$(this).prop("disabled",!1)}),this._trigger("columnsFeatureChanged",null,[this.options.colModel])},_showColumnsFeature:function(a){a.preventDefault(),a.stopPropagation();var b=$(this.element).find("div.columns-supernatant");this._closeColumnsFeature();var c=this._calculatePosition(a,b);b.css({left:c.left,top:c.top}).show()},_closeColumnsFeature:function(){$(this.element).find("div.columns-supernatant").remove(),this.__columnsFeatureFlag__=!1},_updateFeatureColumnsProperty:function(a){var b=this,c={},d=[],e=this.options.colModel,f=new Array(e.length),g=0;for($.each(e,function(a,b){c[this.name]=a});g in f;)g++;fish.each(a,function(a,b){f[g+b]=c[a.name],a.hidden||d.push({index:b,data:a})}),$("thead:first>tr",this.grid.hDiv).each(function(){var a=this,b=$.makeArray(a.cells);$.each(f,function(){var c=b[this];c&&a.appendChild(c)})}),this.remapColumns(f),fish.each(d,function(a){var c=a.index,d=a.data,f=d.width;b.grid.headers[c+g].el.style.width=f+"px",b.grid.cols[c+g].style.width=f+"px",e[c+g].width=f})},_updateColumnsProperty:function(a,b){var c=this,d={},e=this.options.colModel,f=new Array(e.length),g=a.concat(b),h=0;for($.each(e,function(a,b){c.p.frozenColumns&&b.frozen&&g.splice(a,0,b),d[this.name]=a,b.label||(f[a]=a)});h in f;)h++;fish.each(g,function(a,b){f[h+b]=d[a.name]}),$("thead:first>tr",this.grid.hDiv).each(function(){var a=this,b=$.makeArray(a.cells);$.each(f,function(){var c=b[this];c&&a.appendChild(c)})}),this.remapColumns(f),fish.each(a,function(a,b){c.grid.headers[b+h].el.style.width=a.width+"px",c.grid.cols[b+h].style.width=a.width+"px",e[b+h].width=a.width})},_writeCacheColumnsFeature:function(){var a=[];fish.each(this.options.colModel,function(b){a.push({name:b.name,width:b.width,hidden:b.hidden})}),fish.store.set(this.options.id,JSON.stringify(a))},_readCacheColumnsFeature:function(a){var b=new Array(this.options.colModel.length),c={};a&&(fish.each(a,function(a,b){c[a.name]={index:b,data:a}}),fish.each(this.options.colModel,function(a,d){var e=c[a.name];e?b[e.index]=fish.extend(a,e.data):b[d]=a}),this.options.colModel=b)},_showColumnsMenu:function(a){a.preventDefault(),a.stopPropagation();var b=$(this.element).find("div.columns-menu");this._closeColumnsMenu();var c=this._calculatePosition(a,b);b.css({left:c.left,top:c.top}).show()},_closeColumnsMenu:function(){$(this.element).find("div.columns-menu").remove(),this.__columnsMenuFlag__=!1}})}(),function(){$.extend($.ui.grid.prototype,{_setupExportFeature:function(){$("#"+this.options.id+"_pager_left",this.element).append('<button type="button" title="'+$.jgrid.exportFeature.title+'" class="btn btn-xs btn-link js-export"><i class="glyphicon glyphicon-export"></i></button>'),this._on({"click .js-export":"_onExportClick"})},_onExportClick:function(){var a={},b=this.options.width;a.fileType="xlsx",a.colModel=_.chain(this.options.colModel).filter(function(a){return(!a.hidden||!0===a.exportable)&&a.name&&"cb"!=a.name&&"rn"!=a.name&&!1!==a.exportable}).map(function(a){return{label:a.label,name:a.name,colWidth:parseInt(a.width/b*60),numeric:"number"==a.formatter}}).value(),fish.isFunction(this.options.exportFeature)?$.extend(!0,a,this.options.exportFeature.call(this)):fish.isObject(this.options.exportFeature)&&$.extend(!0,a,this.options.exportFeature),this._trigger("exportFeatureClicked",null,[a])}})}(),function(){"use strict";$.extend($.ui.grid.prototype,{searchGrid:function(){function a(a){a.p.filterGrid&&(a.p.filterGrid=!1),"local"===a.p.datatype?(""===a.originData&&(a.originData=a.p.data),a.reloadData(a.originData,!0)):a.populatePage()}var b,c,d=this;d.originData="","local"===d.p.datatype&&"fuzzy"===d.p.searchType&&(b=!0),c="filter"===d.p.searchMode?{target:d.element,autocomplete:!1,displayMode:"tail",showCaseSensitive:b}:{target:d.element},$(".search-group",d.element).searchbar(c),"filter"===d.p.searchMode&&($(".search-group",d.element).on("searchbar:search",{context:d},d.gridFilter),$(".search-group",d.element).on("searchbar:filterchange",function(b,c){a(d)}),$(".search-group input",d.element).on("change",function(b){""===this.value&&a(d)})),"position"===d.p.searchMode&&$(".search-group input",d.element).on("change",function(b){""===this.value&&a(d)})},delDataUpdate:function(a){var b=this;$.each(b.originData,function(c,d){if(d._id_==a)return b.originData.splice(c,1),!1})},gridFilter:function(a,b,c,d){var e,f=a.data.context;f.p.filterGrid=""!==c,f.p.filterCol=b.value,f.p.filterVal=c,"local"===f.p.datatype?(""===f.originData&&(f.originData=f.p.data),"precise"===f.p.searchType?e=""===c?f.p.data:$.jgrid.from(f.originData).equals(f.p.filterCol,f.p.filterVal,{stype:"string"}).select():"fuzzy"===f.p.searchType&&(e=""===c?f.p.data:(d?$.jgrid.from(f.originData).ignoreCase().contains(f.p.filterCol,f.p.filterVal):$.jgrid.from(f.originData).contains(f.p.filterCol,f.p.filterVal)).select()),f.reloadData(e,!0)):f.populatePage()}})}(),function(){"use strict";$.extend($.ui.grid.prototype,{_addSubGridCell:function(a,b,c){var d,e='<a class="ui-subgrid-href"><span class="'+this.p.subGridOptions.plusIcon+' ui-subgrid-btn"></span></a>',f=this._formatCol(b);return d=this.p.showSubgridBtn.call(this,c)===undefined?e:this.p.showSubgridBtn.call(this,c)?e:"",'<td role="gridcell" '+f+' class="ui-sgcollapsed sgcollapsed">'+d+"</td>"},_subGridBtnHandler:function(a){var b=this,c=$(a.target),d=$(c.parents("tr")[0]),e=$(c.parents("td")[0]),f=b.p.id,g=d.attr("id"),h=f+"_"+g,i=0;$.each(b.p.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||i++});var j=$("#"+h+"_expandedContent");if(e.hasClass("sgcollapsed")){if(!1===this._trigger("subGridBeforeExpand",a,[h,g]))return!1;if(!0===b.p.subGridOptions.reloadOnExpand||!1===b.p.subGridOptions.reloadOnExpand&&!j.hasClass("ui-subgrid")){var k=e.index(),l=k>=1?"<td class='subgrid-cell' colspan='"+k+"'>&#160;</td>":"";d.after("<tr role='row' id='"+h+"_expandedContent' class='ui-subgrid ui-sg-expanded'>"+l+"<td class='subgrid-cell'></td><td colspan='"+parseInt(b.p.colModel.length-1-i,10)+"' class='subgrid-data'><div id="+h+" class='tablediv'></div></td></tr>"),this._trigger("subGridRowExpanded",a,[h,g]),this._populateSubGrid(d)}else j.show().removeClass("ui-sg-collapsed").addClass("ui-sg-expanded");c.removeClass(this.p.subGridOptions.plusIcon).addClass(this.p.subGridOptions.minusIcon),e.removeClass("sgcollapsed").addClass("sgexpanded"),b.p.subGridOptions.selectOnExpand&&this.setSelection(g,!0,a)}else if(e.hasClass("sgexpanded")){if(!1===this._trigger("subGridRowColapsed",a,[h,g]))return!1;!0===b.p.subGridOptions.reloadOnExpand?j.remove(".ui-subgrid"):j.hasClass("ui-subgrid")&&j.hide().addClass("ui-sg-collapsed").removeClass("ui-sg-expanded"),c.removeClass(b.p.subGridOptions.minusIcon).addClass(b.p.subGridOptions.plusIcon),e.removeClass("sgexpanded").addClass("sgcollapsed"),b.p.subGridOptions.selectOnCollapse&&this.setSelection(g,!0,a)}a.stopPropagation()},_populateSubGrid:function(a){if(!fish.isEmpty(this.p.subGridModel)){var b=this,c=a.attr("id"),d=b.p.id+"_"+c,e=this.element.find("#"+d),f=b.p.subGridAjaxOptions.url?b.p.subGridAjaxOptions.url:null,g=b.p.subGridAjaxOptions.data;!0===b.p.subGridAjaxOptions.showMask&&e.blockUI(),null===f?(b._addSubGridJsonData($.isFunction(g)?g.call(b,c):g,c),!0===b.p.subGridAjaxOptions.showMask&&e.unblockUI()):$.ajax({type:b.p.subGridAjaxOptions.type,url:$.isFunction(f)?f.call(b,c):f,dataType:"json",data:$.isFunction(g)?g.call(b,c):g}).done(function(a){b._addSubGridJsonData(a,c)}).always(function(){!0===b.p.subGridAjaxOptions.showMask&&e.unblockUI()})}},setSubGridWidth:function(a){if(!0===this.p.subGrid&&!(this.p.subGridModel&&0!=this.p.subGridModel.length||a<=0)){var b=this.element.find(".ui-subgrid .subgrid-data>div .ui-jqgrid");if(0!==b.length){var c=a-this.p.subGridWidth-2;this.p.multiselect&&(c-=this.p.multiselectWidth-1),this.p.rownumbers&&(c-=this.p.rownumWidth-1),fish.each(b,function(a){$(a).grid("setGridWidth",c)})}}},_addSubGridJsonData:function(a,b){var c,d=this,e=d.p.id+"_"+b,f=this.element.find("#"+e),g=$("<table><thead></thead><tbody></tbody></table>"),h=$("<tr></tr>"),i=f.outerWidth(),j=0,k=0;fish.each(d.p.subGridModel,function(a){a.widthOrg=a.width=a.width?parseInt(a.width,10):150,a.hidden=!!a.hidden,a.fixed=!!a.fixed,a.hidden||(a.fixed?k+=a.width:j+=a.width)});var l=i-k;if(fish.each(d.p.subGridModel,function(a){c=$('<th class="ui-th-subgrid">'+a.label+"</th>"),a.hidden?c.css("display","none"):a.fixed?c.width(a.width):c.width(a.width/j*l),h.append(c)}),g.find("thead").append(h),!fish.isEmpty(a)){var m=g.find("tbody");fish.each(a,function(a){h=$('<tr class="ui-subtblcell"></tr>'),fish.each(d.p.subGridModel,function(b){var c=$("<td>"+a[b.name]+"</td>");b.hidden&&c.css("display","none"),b.align&&c.css("text-align",b.align),h.append(c)}),m.append(h)})}d.element.find("#"+d.p.id+"_"+b).append(g)},getSubGrid:function(a){var b=null;if(!0===this.p.subGrid){var c=this.getInd(a,!0);if(c){var d=$(c),e=d.next();if(e.hasClass("ui-subgrid")){var f=e.find(".subgrid-data .ui-jqgrid");b=f.length?f:e.find(".subgrid-data table")}}}return b},expandSubGridRow:function(a){if(!0===this.p.subGrid){var b=this.getInd(a,!0);if(b){var c=$("td.sgcollapsed>a.ui-subgrid-href>span",b);c.length&&c.trigger("click")}}},collapseSubGridRow:function(a){if(!0===this.p.subGrid){var b=this.getInd(a,!0);if(b){var c=$("td.sgexpanded>a.ui-subgrid-href>span",b);c.length&&c.trigger("click")}}},expandAllSubGridRow:function(){if(!0===this.p.subGrid){var a=this.element.find(".ui-jqgrid-bdiv tbody:first>.jqgrow");fish.each(a,function(a){var b=$(a),c=b.next()
;c.hasClass("ui-subgrid")?c.hasClass("ui-sg-collapsed")&&$("td.ui-sgcollapsed>a.ui-subgrid-href>span",b).trigger("click"):$("td.ui-sgcollapsed>a.ui-subgrid-href>span",b).trigger("click")})}},collapseAllSubGridRow:function(){if(!0===this.p.subGrid){var a=this.element.find(".ui-subgrid.ui-sg-expanded");fish.each(a,function(a){var b=$(a),c=b.prevAll(".jqgrow").not(".ui-sortable-placeholder").eq(0);$("td.ui-sgcollapsed>a.ui-subgrid-href>span",c).trigger("click")})}},toggleSubGridRow:function(a){if(!0===this.p.subGrid){var b=this.getInd(a,!0);if(b){var c=$("td.sgcollapsed>a.ui-subgrid-href>span",b);c.length||(c=$("td.sgexpanded>a.ui-subgrid-href>span",b)),c.trigger("click")}}}})}(),function(){"use strict";$.tree=$.tree||{},$.tree.roots={},$.tree.settings={},$.extend($.tree,{clone:function(a){if(null===a)return null;var b=fish.isArray(a)?[]:{};for(var c in a)b[c]=a[c]instanceof Date?new Date(a[c].getTime()):"object"==typeof a[c]?$.tree.clone(a[c]):a[c];return b},eqs:function(a,b){return a.toLowerCase()===b.toLowerCase()},isChildOrSelf:function(a,b){return $(a).closest("#"+b).length>0},inputFocus:function(a){a.get(0)&&(a.focus(),$.tree.setCursorPosition(a.get(0),a.val().length))},setCursorPosition:function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},inputSelect:function(a){a.get(0)&&(a.focus(),a.select())},getNodeMainDom:function(a){return $(a).parent("li").get(0)||$(a).parentsUntil("li").parent().get(0)},transformTozTreeFormat:function(a,b,c,d){var e,f;if(!b||""==b||!a)return[];if(fish.isArray(a)){var g=[],h=[];for(e=0,f=a.length;e<f;e++)h[a[e][b]]=a[e];for(e=0,f=a.length;e<f;e++)h[a[e][c]]&&a[e][b]!=a[e][c]?(h[a[e][c]][d]||(h[a[e][c]][d]=[]),h[a[e][c]][d].push(a[e])):g.push(a[e]);return g}return[a]},getAbs:function(a){var b=a.getBoundingClientRect(),c=document.body.scrollTop+document.documentElement.scrollTop,d=document.body.scrollLeft+document.documentElement.scrollLeft;return[b.left+d,b.top+c]},consts:{className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"onNodeCreated",CLICK:"onClick",EXPAND:"onExpand",COLLAPSE:"onCollapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"onRemove",CHECK:"onCheck",DRAG:"onDrag",DROP:"onDrop",RENAME:"onRename",DRAGMOVE:"onDragMove",BEFORESELECT:"beforeSelect",SELECT:"onSelect"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul",CHECK:"_check",EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED:"curSelectedNode",CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}}})}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){"use strict";$.widget("ui.tree",{options:{view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!1,showIcon:!0,showLine:!1,showTitle:!0,txtSelectedEnable:!1,formatter:null},data:{key:{children:"children",name:"name",title:"",disabled:"disabled",icon:"icon",url:"url",iconFontEnable:!0},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null},fNodes:[],treeIcons:{expand:"glyphicon glyphicon-triangle-bottom",collapse:"glyphicon glyphicon-triangle-right",leaf:"glyphicon glyphicon-file",folderOpen:"glyphicon glyphicon-folder-open",folderClosed:"glyphicon glyphicon-folder-close"}},_create:function(){var a,b=this.element,c=b[0],d=this.options;this.p=d,c.id||b.uniqueId(),d.id=d.treeId=c.id,d.$el=b,d.$ts=this,b.attr("tabindex",0).empty(),$.tree.settings[d.treeId]=d,this.consts=$.tree.consts,$.extend(this.options,this.options.callback),this._initRoot();var e=this._getRoot();a=d.data.key.children,this.zNodes=d.fNodes?$.tree.clone(fish.isArray(d.fNodes)?d.fNodes:[d.fNodes]):[],this.options.data.simpleData.enable?e[a]=$.tree.transformTozTreeFormat(this.zNodes,d.data.simpleData.idKey,d.data.simpleData.pIdKey,a):e[a]=this.zNodes,this._addInitNode(this._initNodeBase),this._initCache(),this._bindTree(),e[a]&&e[a].length>0&&this._createNodes(0,e[a],null,-1)},$:function(a){function $(b,c){return a.apply(this,arguments)}return $.toString=function(){return a.toString()},$}(function(a,b){return"string"==typeof a?$(a,this.element):(fish.isUndefined(b)&&(b=""),$("#"+a.tId+b,this.element))}),_apply:function(a,b,c){return"function"==typeof a?a.apply(this.element[0],b||[]):c},_uCanDo:function(){return!0},_canAsync:function(a){var b=this.options,c=b.data.key.children;return b.async.enable&&a&&a.isParent&&!(a.zAsync||a[c]&&a[c].length>0)},_isNodeDisabled:function(a){return a[this.options.data.key.disabled]},addNodes:function(a,b,c,d){var e=this;if(!b)return null;if(a||(a=null),a&&!a.isParent&&this.options.data.keep.leaf)return null;d=parseInt(d,10),isNaN(d)&&(d=-1);var f=$.tree.clone(fish.isArray(b)?b:[b]),g=function(){e._addNodes(a,f,d,1==c)};return this._canAsync(a)?this._asyncNode(a,c,g):g(),f},getSelectedNodes:function(){for(var a=[],b=this._getRoot().curSelectedList,c=0,d=b.length;c<d;c++)a.push(b[c]);return a},cancelSelectedNode:function(a){this._cancelPreSelectedNode(a)},_destroy:function(){this.cache={},this.root=[],this.init={},this.element.empty(),delete $.tree.roots[this.p.treeId],delete $.tree.settings[this.p.treeId]},expandAll:function(a){return a=!!a,this._expandCollapseSonNode(null,a,!0),a},expandNode:function(a,b,c,d,e){if(!a||!a.isParent)return null;if(!0!==b&&!1!==b&&(b=!a.open),(e=!!e)&&b&&0==this._trigger("beforeExpand",null,[a]))return null;if(e&&!b&&0==this._trigger("beforeCollapse",null,[a]))return null;if(b&&a.parentTId&&this._expandCollapseParentNode(a.getParentNode(),b,!1),b===a.open&&!c)return null;if(this._getRoot().expandTriggerFlag=e,!this._canAsync(a)&&c)this._expandCollapseSonNode(a,b,!0,function(){if(!1!==d)try{this.$(a).focus().blur()}catch(b){}});else if(a.open=!b,this._switchNode(a),!1!==d)try{this.$(a).focus().blur()}catch(f){}return b},getNodes:function(){return this._getNodes()},getNodeByParam:function(a,b,c){return a?this._getNodeByParam(c?c[this.options.data.key.children]:this._getNodes(),a,b):null},getNodeByTId:function(a){return this._getNodeCache(a)},getNodesByParam:function(a,b,c){return a?this._getNodesByParam(c?c[this.options.data.key.children]:this._getNodes(),a,b):null},getNodesByParamFuzzy:function(a,b,c){return a?this._getNodesByParamFuzzy(c?c[this.options.data.key.children]:this._getNodes(),a,b):null},getNodesByFilter:function(a,b,c,d){return b=!!b,a&&"function"==typeof a?this._getNodesByFilter(c?c[this.options.data.key.children]:this._getNodes(),a,b,d):b?null:[]},getNodeIndex:function(a){if(!a)return null;for(var b=this.options.data.key.children,c=a.parentTId?a.getParentNode():this._getRoot(),d=0,e=c[b].length;d<e;d++)if(c[b][d]==a)return d;return-1},isSelectedNode:function(a){return this._isSelectedNode(a)},reAsyncChildNodes:function(a,b,c){var d=this.options;if(d.async.enable){var e=!a;if(e&&(a=this.getRoot()),"refresh"==b){for(var f=d.data.key.children,g=0,h=a[f]?a[f].length:0;g<h;g++)this._removeNodeCache(a[f][g]);if(this._removeSelectedNode(),a[f]=[],e)this.element.empty();else{this.$(a,this.consts.id.UL).empty()}}this._asyncNode(e?null:a,!!c)}},refresh:function(){this.element.empty();var a=this._getRoot(),b=a[this.p.data.key.children];this._initRoot(),a[this.p.data.key.children]=b,this._initCache(),this._createNodes(0,a[this.p.data.key.children],null,-1)},removeChildNodes:function(a){if(!a)return null;var b=this.p.data.key.children,c=a[b];return this._removeChildNodes(a),c||null},removeNode:function(a,b,c){var d=this;if(a)if(b=!!b){var e=this._apply(this.p.callback.beforeRemove,[c,a],!0),f=$.promisify(e);f.then(function(b){b&&(d._removeNode(a),d._trigger(d.consts.event.REMOVE,null,[a]),d._triggerPagePoint({eventType:d.consts.event.REMOVE,node:a}))})}else this._removeNode(a)},selectNode:function(a,b){if(a&&this._trigger("beforeSelect",null,[a,b])&&this._uCanDo()){if(b=this.options.view.selectedMulti&&b,a.parentTId)this._expandCollapseParentNode(a.getParentNode(),!0,!1,function(){try{this.$(a).focus().blur()}catch(b){}}.bind(this));else try{this.$(a).focus().blur()}catch(f){}this._selectNode(a,b);var c=a.tId.split("_")[0],d=$("#"+c+" .ztree").scrollTop(),e=$("#"+a.tId).position();$("#"+c+" .ztree").scrollTop(e.top+d),this._trigger("onSelect",null,[a,b]),this._triggerPagePoint({eventType:"onSelect",node:a,addFlag:b})}},_triggerPagePoint:function(a){a.value=a.node&&a.node.name;var b=function(a){var b={},c=a.node,d=Object.prototype.hasOwnProperty;for(var e in c)d.call(c,e)&&"function"!=typeof c[e]&&"object"!==_typeof(c[e])&&(b[e]=c[e]);return{node:b}};this._pagePoint(a,b)},transformTozTreeNodes:function(a){return this._transformTozTreeFormat(a)},transformToArray:function(a){return this._transformToArrayFormat(a)},updateNode:function(a,b){if(a){this.$(a).get(0)&&this._uCanDo()&&(this._setNodeName(a),this._setNodeTarget(a),this._setNodeUrl(a),this._setNodeLineIcos(a),this._setNodeFontCss(a),this._setNodeDisabled(a))}},reloadData:function(a){for(var b=this.getNodes();b.length;)this.removeNode(b[0]);return this.addNodes(null,a)}})}(),function(){"use strict";$.extend($.ui.tree.prototype,{_initRoot:function(){var a=this._getRoot();$.tree.roots[this.p.treeId]=a,a[this.options.data.key.children]=[],a.expandTriggerFlag=!1,a.curSelectedList=[],a.noSelection=!0,a.createdNodes=[],a.zId=0,a._ver=(new Date).getTime(),a.radioCheckedList=[]},_getRoot:function(){return this.root||(this.root=[]),this.root},_getRoots:function(){return $.tree.roots},_getInit:function(){return this.init||(this.init={beforeA:[],nodes:[]}),this.init},_initCache:function(){this.cache={},this.cache.nodes=[],this.cache.doms=[]},_getCache:function(){return this.cache},_initNode:function(a,b,c,d,e,f){for(var g=this._getInit(),h=0,i=g.nodes.length;h<i;h++)g.nodes[h].apply(this,arguments)},_addInitNode:function(a){this._getInit().nodes.push(a)},_initNodeBase:function(a,b,c,d,e,f){var g=this;if(b){var h=this._getRoot(),i=this.options.data.key.children;b.level=a,b.tId=this.options.treeId+"_"+ ++h.zId,b.parentTId=c?c.tId:null,b.open="string"==typeof b.open?$.tree.eqs(b.open,"true"):!!b.open,b[i]&&b[i].length>0?(b.isParent=!0,b.zAsync=!0):(b.isParent="string"==typeof b.isParent?$.tree.eqs(b.isParent,"true"):!!b.isParent,b.open=!(!b.isParent||this.options.async.enable)&&b.open,b.zAsync=!b.isParent),b.isFirstNode=d,b.isLastNode=e,b.getParentNode=function(){return g._getNodeCache(b.parentTId)},b.getPreNode=function(){return g._getPreNode(b)},b.getNextNode=function(){return g._getNextNode(b)},b.isAjaxing=!1,this._fixPIdKeyValue(b)}},_fixPIdKeyValue:function(a){this.options.data.simpleData.enable&&(a[this.options.data.simpleData.pIdKey]=a.parentTId?a.getParentNode()[this.options.data.simpleData.idKey]:this.options.data.simpleData.rootPId)},_addBeforeA:function(a){this._getInit().beforeA.push(a)},_getBeforeA:function(a,b){for(var c=this._getInit(),d=0,e=c.beforeA.length;d<e;d++)c.beforeA[d].apply(this,arguments)},_getNodeCache:function(a){if(!a)return null;var b=this.cache.nodes[this._getNodeCacheId(a)];return b||null},_getNodeCacheId:function(a){return a.substring(a.lastIndexOf("_")+1)},_getPreNode:function(a){if(!a)return null;for(var b=this.options.data.key.children,c=a.parentTId?a.getParentNode():this._getRoot(),d=0,e=c[b].length;d<e;d++)if(c[b][d]===a)return 0==d?null:c[b][d-1];return null},_getNextNode:function(a){if(!a)return null;for(var b=this.options.data.key.children,c=a.parentTId?a.getParentNode():this._getRoot(),d=0,e=c[b].length-1;d<=e;d++)if(c[b][d]===a)return d==e?null:c[b][d+1];return null},_addNodeCache:function(a){this.cache.nodes[this._getNodeCacheId(a.tId)]=a},_getNodeTitle:function(a){return""+a[""===this.options.data.key.title?this.options.data.key.name:this.options.data.key.title]},_getNodeName:function(a){return""+a[this.options.data.key.name]},_addCreatedNode:function(a){var b=this.options;if(b.callback.onNodeCreated||b.view.addDiyDom){this._getRoot().createdNodes.push(a)}},_transformTozTreeFormat:function(a){var b=this.options,c=b.data.simpleData.idKey,d=b.data.simpleData.pIdKey,e=b.data.key.children;return fish.nest(a,c,d,e)},_transformToArrayFormat:function(a){if(!a)return[];var b=this.p.data.key.children,c=[];if(fish.isArray(a))for(var d=0,e=a.length;d<e;d++)c.push(a[d]),a[d][b]&&(c=c.concat(this._transformToArrayFormat(a[d][b])));else c.push(a),a[b]&&(c=c.concat(this._transformToArrayFormat(a[b])));return c},_addNodesData:function(a,b,c){var d=this.options.data.key.children,e=a[d];e?c>=e.length&&(c=-1):(e=a[d]=[],c=-1),e.length>0&&0===c?(e[0].isFirstNode=!1,this._setNodeLineIcos(e[0])):e.length>0&&-1===c&&(e[e.length-1].isLastNode=!1,this._setNodeLineIcos(e[e.length-1])),a.isParent=!0,c<0?a[d]=e.concat(b):e.splice.apply(e,[c,0].concat(b))},_removeSelectedNode:function(a){for(var b=this._getRoot(),c=0,d=b.curSelectedList.length;c<d;c++)a!==b.curSelectedList[c]&&this._getNodeCache(b.curSelectedList[c].tId)||(b.curSelectedList.splice(c,1),c--,d--)},_addSelectedNode:function(a){var b=this._getRoot();this._isSelectedNode(a)||b.curSelectedList.push(a)},_isSelectedNode:function(a){for(var b=this._getRoot(),c=0,d=b.curSelectedList.length;c<d;c++)if(a===b.curSelectedList[c])return!0;return!1},_getNodes:function(){return this._getRoot()[this.options.data.key.children]},_getNodeByParam:function(a,b,c){if(!a||!b)return null;for(var d=this.options.data.key.children,e=0,f=a.length;e<f;e++){if(a[e][b]==c)return a[e];var g=this._getNodeByParam(a[e][d],b,c);if(g)return g}return null},_getNodesByParam:function(a,b,c){if(!a||!b)return[];for(var d=this.options.data.key.children,e=[],f=0,g=a.length;f<g;f++)a[f][b]==c&&e.push(a[f]),e=e.concat(this._getNodesByParam(a[f][d],b,c));return e},_getNodesByParamFuzzy:function(a,b,c){if(!a||!b)return[];var d=this.options.data.key.children,e=[];c=c.toLowerCase();for(var f=0,g=a.length;f<g;f++)"string"==typeof a[f][b]&&a[f][b].toLowerCase().indexOf(c)>-1&&e.push(a[f]),e=e.concat(this._getNodesByParamFuzzy(a[f][d],b,c));return e},_getNodesByFilter:function(a,b,c,d){if(!a)return c?null:[];for(var e=this.options.data.key.children,f=c?null:[],g=0,h=a.length;g<h;g++){if(this._apply(b,[a[g],d],!1)){if(c)return a[g];f.push(a[g])}var i=this._getNodesByFilter(a[g][e],b,c,d);if(c&&i)return i;f=c?i:f.concat(i)}return f},_removeNodeCache:function(a){var b=this.options.data.key.children;if(a[b])for(var c=0,d=a[b].length;c<d;c++)this._removeNodeCache(a[b][c]);this._getCache().nodes[this._getNodeCacheId(a.tId)]=null}})}(),function(){$.extend($.ui.tree.prototype,{_createNodes:function(a,b,c,d){if(b&&0!=b.length){var e,f,g,h,i=this._getRoot(),j=this.options.data.key.children,k=!c||c.open||!!this.$(c[j][0]).get(0);i.createdNodes=[],h=this._appendNodes(a,b,c,!0,k,d).join(""),c?e=this.$(c,this.consts.id.UL):this.element.is("ul")?e=this.element.addClass("ztree"):(e=this.element.children("ul"),0===e.length&&(e=$('<ul class="ztree"></ul>'),f=!0)),e.attr("role","tree"),d>=0&&(g=e.children()[d]),d>=0&&g?$(g).before(h):e.append(h),f&&this.element.append(e),this._createNodeCallback()}},_appendNodes:function(a,b,c,d,e,f){if(!b)return[];var g,h,i,j,k=[],l=this.options.data.key.children,m=c||this._getRoot(),n=m[l];(!n||f>=n.length-b.length)&&(f=-1);for(var o=0,p=b.length;o<p;o++)if(i=b[o],d&&(g=(0===f||n.length==b.length)&&0==o,h=f<0&&o==b.length-1,this._initNode(a,i,c,g,h,e),this._addNodeCache(i)),j=[],i[l]&&i[l].length>0&&(j=this._appendNodes(a+1,i[l],i,d,e&&i.open,-1)),e){var q=i.isParent||i.children?"aria-expanded="+(i.open?"true":"false"):"";k.push("<li id='"+i.tId+"' class='"+(this.consts.className.LEVEL+i.level)+"' tabindex='0' aria-level="+i.level+" aria-setsize="+(i[l]?i[l].length:0)+" role='treeItem' "+q+" treenode"+(this._isNodeDisabled(i)?" disabled":"")+">"),k.push("<span id='"+(i.tId+this.consts.id.SWITCH)+"' title='' class='"+this._makeNodeLineClass(i)+"' treeNode"+this.consts.id.SWITCH+"></span>"),this._getBeforeA(i,k),this._makeDOMNodeNameBefore(k,i),this._makeDOMNodeIcon(k,i),k.push("</a>"),i.isParent&&i.open&&this._makeUlHtml(i,k,j.join("")),k.push("</li>"),this._addCreatedNode(i)}return k},_createNodeCallback:function(){for(var a=this.options,b=this._getRoot();b.createdNodes.length>0;){var c=b.createdNodes.shift();a.view.addDiyDom&&this._apply(a.view.addDiyDom,[c]),a.callback.onNodeCreated&&this._trigger(this.consts.event.NODECREATED,null,c),this._triggerPagePoint({eventType:this.consts.event.NODECREATED,node:c})}},_makeNodeLineClass:function(a){var b=[];return a.isParent?b.push(a.open?this.options.treeIcons.expand:this.options.treeIcons.collapse):(this.options.view.showLine?0==a.level&&a.isFirstNode&&a.isLastNode?b.push(this.consts.line.ROOT):0==a.level&&a.isFirstNode?b.push(this.consts.line.ROOTS):a.isLastNode?b.push(this.consts.line.BOTTOM):b.push(this.consts.line.CENTER):b.push(this.consts.line.NOLINE),b.push(this.consts.folder.DOCU),b=b.join("_")),this._makeNodeLineClassEx(a)+b},_makeNodeLineClassEx:function(a){var b="tree-icon "+this.consts.className.LEVEL+a.level+" "+this.consts.className.SWITCH+" ";return this.options.data.key.iconFontEnable||a.isParent||(b+=this.consts.className.BUTTON+" "),b},_makeDOMNodeNameBefore:function(a,b){var c=this._getNodeTitle(b),d=this._makeNodeUrl(b),e=this._makeNodeFontCss(b),f=this.options,g=[];for(var h in e)g.push(h,":",e[h],";");a.push("<a id='",b.tId,this.consts.id.A,"' class='",this.consts.className.LEVEL,b.level,"' treeNode",this.consts.id.A,' onclick="',b.click||"",'" ',null!=d&&d.length>0?"href='"+d+"'":""," target='",this._makeNodeTarget(b),"' style='",g.join(""),"'"),this._apply(f.view.showTitle,[b],f.view.showTitle)&&c&&a.push("title='",c.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),a.push(">")},_makeNodeUrl:function(a){var b=this.options.data.key.url;return a[b]?a[b]:null},_makeNodeFontCss:function(a){var b=this.options,c=this._apply(b.view.fontCss,[a],b.view.fontCss);return c&&"function"!=typeof c?c:{}},_makeNodeTarget:function(a){return a.target||"_blank"},_makeDOMNodeIcon:function(a,b){var c=this._getNodeName(b);fish.isFunction(this.options.view.formatter)&&(c=this.options.view.formatter.call(this,b));var d=this.options.view.nameIsHTML?c:fish.escape(c);a.push("<span id='",b.tId,this.consts.id.ICON,"' title='' treeNode",this.consts.id.ICON," class='",this._makeNodeIcoClass(b),"' style='",this._makeNodeIcoStyle(b),"'></span><span id='",b.tId,this.consts.id.SPAN,"'>",d,"</span>")},_makeNodeIcoClass:function(a){var b=this.options;if(!this._enableShowIcon(a))return"";if(b.data.key.iconFontEnable){var c="tree-icon ";return a.isParent?c+=a.open?a.iconSkinOpen||a.iconSkin||b.treeIcons.folderOpen:a.iconSkinClose||a.iconSkin||b.treeIcons.folderClosed:c+=a.iconSkin||b.treeIcons.leaf,c}var d=["ico"];return a.isAjaxing||(d[0]=(a.iconSkin?a.iconSkin+"_":"")+d[0],a.isParent?d.push(a.open?this.consts.folder.OPEN:this.consts.folder.CLOSE):d.push(this.consts.folder.DOCU)),this.consts.className.BUTTON+" "+d.join("_")},_makeNodeIcoStyle:function(a){var b=[];if(!a.isAjaxing){var c=a.isParent&&a.iconOpen&&a.iconClose?a.open?a.iconOpen:a.iconClose:a[this.p.data.key.icon];c&&b.push("background:url(",c,") no-repeat 0 / 100% 100%;"),this._enableShowIcon(a)||b.push("width:0px;height:0px;margin-left:0;margin-right:0;")}return b.join("")},_enableShowIcon:function(a){return fish.isFunction(this.options.view.showIcon)?this._apply(this.options.view.showIcon,[a],!0):!!this.options.view.showIcon},_makeUlHtml:function(a,b,c){b.push("<ul id='",a.tId,this.consts.id.UL,"' class='",this.consts.className.LEVEL,a.level," ",this._makeUlLineClass(a),"' style='display:",a.open?"block":"none","' role='group' aria-hidden='",a.open?"false":"true","'>"),b.push(c),b.push("</ul>")},_makeUlLineClass:function(a){return this.options.view.showLine&&!a.isLastNode?this.consts.line.LINE:""},_addNodes:function(a,b,c,d){if(!this.options.data.keep.leaf||!a||a.isParent)if(fish.isArray(b)||(b=[b]),this.options.data.simpleData.enable&&(b=this._transformTozTreeFormat(b)),a){var e=this.$(a,this.consts.id.SWITCH),f=this.$(a,this.consts.id.ICON),g=this.$(a,this.consts.id.UL);a.open||(this._replaceSwitchClass(a,e,this.consts.folder.CLOSE),this._replaceIcoClass(a,f,this.consts.folder.CLOSE),a.open=!1,g.css({display:"none"})),this._addNodesData(a,b,c),this._createNodes(a.level+1,b,a,c),d||this._expandCollapseParentNode(a,!0)}else this._addNodesData(this._getRoot(),b,c),this._createNodes(0,b,null,c)},_asyncNode:function(a,b,c){var d,e,f=this;if(a&&!a.isParent)return this._apply(c),!1;if(a&&a.isAjaxing)return!1;if(0==this._apply(this.p.callback.beforeAsync,[null,a],!0))return this._apply(c),!1;if(a){a.isAjaxing=!0;this.$(a,this.consts.id.ICON).attr({style:"","class":this.consts.className.BUTTON+" "+this.consts.className.ICO_LOADING})}var g={};for(d=0,e=this.p.async.autoParam.length;a&&d<e;d++){var h=this.p.async.autoParam[d].split("="),i=h;h.length>1&&(i=h[1],h=h[0]),g[i]=a[h]}if(fish.isArray(this.p.async.otherParam))for(d=0,e=this.p.async.otherParam.length;d<e;d+=2)g[this.p.async.otherParam[d]]=this.p.async.otherParam[d+1];else for(var j in this.p.async.otherParam)g[j]=this.p.async.otherParam[j];var k=this._getRoot()._ver,l=!0;return-1!==this.p.async.contentType.indexOf("application/json")&&(l=!1,g=JSON.stringify(g)),$.ajax({contentType:this.p.async.contentType,type:this.p.async.type,url:this._apply(this.p.async.url,[a],this.p.async.url),data:g,dataType:this.p.async.dataType,processData:l,success:function(d){if(k==f._getRoot()._ver){var e=[];try{e=d&&0!=d.length?d:[]}catch(g){e=d}a&&(a.isAjaxing=null,a.zAsync=!0),f._setNodeLineIcos(a),e&&""!==e?(e=f._apply(f.p.async.dataFilter,[a,e],e),f._addNodes(a,e?$.tree.clone(e):[],-1,!!b)):f._addNodes(a,[],-1,!!b),f._trigger(f.consts.event.ASYNC_SUCCESS,[a,d]),f._apply(c)}},error:function(b,c,d){k==f._getRoot()._ver&&(a&&(a.isAjaxing=null),f._setNodeLineIcos(a),f._trigger(f.consts.event.ASYNC_ERROR,[a,b,c,d]))}}),!0},_replaceSwitchClass:function(a,b,c){var d=this;if(b){var e=b.attr("class");if(e!=undefined){var f=e.split("_");switch(c){case this.consts.line.ROOT:case this.consts.line.ROOTS:case this.consts.line.CENTER:case this.consts.line.BOTTOM:case this.consts.line.NOLINE:var g=this._makeNodeLineClass(a);b.attr("class",g);break;case this.consts.folder.OPEN:b.removeClass(this.options.treeIcons.collapse).addClass(this.options.treeIcons.expand);break;case this.consts.folder.CLOSE:if(f.length>1){var h=e.split(" ");h=fish.filter(h,function(a){if(-1===a.indexOf(d.consts.folder.DOCU))return a}),b.attr("class",h.join(" "))}b.removeClass(this.options.treeIcons.expand).addClass(this.options.treeIcons.collapse);break;case this.consts.folder.DOCU:var i,j=this.options.treeIcons;b.removeClass(j.collapse),b.removeClass(j.expand),i=this.options.view.showLine?0==a.level&&a.isFirstNode&&a.isLastNode?this.consts.line.ROOT:0==a.level&&a.isFirstNode?this.consts.line.ROOTS:a.isLastNode?this.consts.line.BOTTOM:this.consts.line.CENTER:this.consts.line.NOLINE,b.addClass(i+"_"+c)}c!==this.consts.folder.DOCU?b.removeAttr("disabled"):b.attr("disabled","disabled")}}},_replaceIcoClass:function(a,b,c){if(b&&!a.isAjaxing&&this._enableShowIcon(a))if(this.p.data.key.iconFontEnable){var d;d=a.isParent?this.consts.folder.OPEN===c?a.iconSkinOpen||a.iconSkin||this.p.treeIcons.folderOpen:a.iconSkinClose||a.iconSkin||this.p.treeIcons.folderClosed:a.iconSkin||this.p.treeIcons.leaf,b.attr("class","tree-icon "+d)}else{var e=b.attr("class");if(e==undefined)return;var f=e.split("_");f[f.length-1]=c,b.attr("class","tree-icon "+f.join("_"))}},_setNodeLineIcos:function(a){if(a){var b=this.$(a,this.consts.id.SWITCH),c=this.$(a,this.consts.id.UL),d=this.$(a,this.consts.id.ICON),e=this._makeUlLineClass(a);0==e.length?c.removeClass(this.consts.line.LINE):c.addClass(e),b.attr("class",this._makeNodeLineClass(a)),a.isParent?b.removeAttr("disabled"):b.attr("disabled","disabled"),d.removeAttr("style"),d.attr("style",this._makeNodeIcoStyle(a)),d.attr("class",this._makeNodeIcoClass(a))}},_expandCollapseParentNode:function(a,b,c,d){if(a){if(!a.parentTId)return void this._expandCollapseNode(a,b,c,d);this._expandCollapseNode(a,b,c),a.parentTId&&this._expandCollapseParentNode(a.getParentNode(),b,c,d)}},_expandCollapseNode:function(a,b,c,d){var e=this,f=this._getRoot(),g=this.options,h=this.options.data.key.children;if(!a)return void this._apply(d,[]);if(f.expandTriggerFlag){var i=d;d=function(){i&&i(),a.open?e._trigger(e.consts.event.EXPAND,null,a):e._trigger(e.consts.event.COLLAPSE,null,a)},f.expandTriggerFlag=!1}if(!a.open&&a.isParent&&(!this.$(a,this.consts.id.UL).get(0)||a[h]&&a[h].length>0&&!this.$(a[h][0]).get(0))&&(this._appendParentULDom(a),this._createNodeCallback()),a.open==b)return void this._apply(d,[]);var j=this.$(a,this.consts.id.UL),k=this.$(a,this.consts.id.SWITCH),l=this.$(a,this.consts.id.ICON);a.isParent?(a.open=!a.open,a.iconOpen&&a.iconClose&&l.attr("style",this._makeNodeIcoStyle(a)),a.open?(this._replaceSwitchClass(a,k,this.consts.folder.OPEN),this._replaceIcoClass(a,l,this.consts.folder.OPEN),0==c||""==g.view.expandSpeed?(j.show(),this._apply(d,[])):a[h]&&a[h].length>0?j.slideDown(g.view.expandSpeed,d):(j.show(),this._apply(d,[])),this.$(a).attr("aria-expanded",!0),j.attr("aria-hidden",!1)):(this._replaceSwitchClass(a,k,this.consts.folder.CLOSE),this._replaceIcoClass(a,l,this.consts.folder.CLOSE),0!=c&&""!=g.view.expandSpeed&&a[h]&&a[h].length>0?j.slideUp(g.view.expandSpeed,d):(j.hide(),this._apply(d,[])),this.$(a).attr("aria-expanded",!1),j.attr("aria-hidden",!0))):this._apply(d,[])},_appendParentULDom:function(a){var b=[],c=this.$(a);!c.get(0)&&a.parentTId&&(this._appendParentULDom(a.getParentNode()),c=this.$(a));var d=this.$(a,this.consts.id.UL);d.get(0)&&d.remove();var e=this.options.data.key.children,f=this._appendNodes(a.level+1,a[e],a,!1,!0,-1);this._makeUlHtml(a,b,f.join("")),c.append(b.join(""))},_switchNode:function(a){var b=this.options;if(a.open||!this._canAsync(a))this._expandCollapseNode(a,!a.open);else if(b.async.enable){if(!this._asyncNode(a))return void this._expandCollapseNode(a,!a.open)}else a&&this._expandCollapseNode(a,!a.open)},_cancelPreSelectedNode:function(a){for(var b=this._getRoot().curSelectedList,c=b.length-1;c>=0;c--)if((!a||a===b[c])&&(this.$(b[c],this.consts.id.A).removeClass(this.consts.node.CURSELECTED),a)){this._removeSelectedNode(a);break}a||(this._getRoot().curSelectedList=[])},_selectNodes:function(a){for(var b=0,c=a.length;b<c;b++)this._selectNode(a[b],b>0)},_selectNode:function(a,b){b||this._cancelPreSelectedNode(),this.$(a,this.consts.id.A).addClass(this.consts.node.CURSELECTED),this._addSelectedNode(a)},_expandCollapseSonNode:function(a,b,c,d){var e=this._getRoot(),f=this.options.data.key.children,g=a?a[f]:e[f],h=!a&&c,i=this._getRoot().expandTriggerFlag;if(this._getRoot().expandTriggerFlag=!1,g)for(var j=0,k=g.length;j<k;j++)g[j]&&this._expandCollapseSonNode(g[j],b,h);this._getRoot().expandTriggerFlag=i,this._expandCollapseNode(a,b,c,d)},_removeChildNodes:function(a){if(a){var b=this.p.data.key.children,c=a[b];if(c){for(var d=0,e=c.length;d<e;d++)this._removeNodeCache(c[d]);if(this._removeSelectedNode(),delete a[b],this.p.data.keep.parent)this.$(a,this.consts.id.UL).empty();else{a.isParent=!1,a.open=!1;var f=this.$(a,this.consts.id.SWITCH),g=this.$(a,this.consts.id.ICON);this._replaceSwitchClass(a,f,this.consts.folder.DOCU),this._replaceIcoClass(a,g,this.consts.folder.DOCU),this.$(a,this.consts.id.UL).remove()}}}},_setNodeName:function(a){var b=this._getNodeTitle(a),c=this.$(a,this.consts.id.SPAN);c.empty();var d=this._getNodeName(a);if(fish.isFunction(this.options.view.formatter)&&(d=this.options.view.formatter.call(this,a)),this.p.view.nameIsHTML?c.html(d):c.text(d),this._apply(this.p.view.showTitle,[a],this.p.view.showTitle)){this.$(a,this.consts.id.A).attr("title",b||"")}},_setNodeDisabled:function(a){var b=this.$(a);this._isNodeDisabled(a)?b.attr("disabled","disabled"):b.removeAttr("disabled")},_setNodeTarget:function(a){this.$(a,this.consts.id.A).attr("target",this._makeNodeTarget(a))},_setNodeUrl:function(a){var b=this.$(a,this.consts.id.A),c=this._makeNodeUrl(a);null==c||0==c.length?b.removeAttr("href"):b.attr("href",c)},_setNodeFontCss:function(a){var b=this.$(a,this.consts.id.A),c=this._makeNodeFontCss(a);c&&b.css(c)},_removeNode:function(a){var b=this._getRoot(),c=this.p.data.key.children,d=a.parentTId?a.getParentNode():b;if(a.isFirstNode=!1,a.isLastNode=!1,a.getPreNode=function(){return null},a.getNextNode=function(){return null},this._getNodeCache(a.tId)){this.$(a).remove(),this._removeNodeCache(a),this._removeSelectedNode(a);for(var e=0,f=d[c].length;e<f;e++)if(d[c][e].tId==a.tId){d[c].splice(e,1);break}this._setFirstNode(d),this._setLastNode(d);var g,h,i,j=d[c].length;if(this.p.data.keep.parent||0!=j){if(this.p.view.showLine&&j>0){var k=d[c][j-1];if(g=this.$(k,this.consts.id.UL),h=this.$(k,this.consts.id.SWITCH),i=this.$(k,this.consts.id.ICON),d==b)if(1==d[c].length)this._replaceSwitchClass(k,h,this.consts.line.ROOT);else{var l=this.$(d[c][0],this.consts.id.SWITCH);this._replaceSwitchClass(d[c][0],l,this.consts.line.ROOTS),this._replaceSwitchClass(k,h,this.consts.line.BOTTOM)}else this._replaceSwitchClass(k,h,this.consts.line.BOTTOM);g.removeClass(this.consts.line.LINE)}}else d.isParent=!1,d.open=!1,g=this.$(d,this.consts.id.UL),h=this.$(d,this.consts.id.SWITCH),i=this.$(d,this.consts.id.ICON),this._replaceSwitchClass(d,h,this.consts.folder.DOCU),this._replaceIcoClass(d,i,this.consts.folder.DOCU),g.css("display","none")}},_setFirstNode:function(a){var b=this.p.data.key.children;a[b].length>0&&(a[b][0].isFirstNode=!0)},_setLastNode:function(a){var b=this.p.data.key.children,c=a[b].length;c>0&&(a[b][c-1].isLastNode=!0)}})}(),function(){"use strict";var a=$.ui.keyCode;$.extend($.ui.tree.prototype,{_bindTree:function(){this.options.view.txtSelectedEnable||this.element.on("selectstart",function(a){var b=a.originalEvent.srcElement.nodeName.toLowerCase();return"input"===b||"textarea"===b}).css({"-moz-user-select":"-moz-none"}),this._on({keydown:"_onTreeKeyDown",focus:function(a){var b=$("[role='treeItem']",this.element);b=b.map(function(){if(!$(this).attr("disabled"))return this});var c=b.eq(0),d=this.getNodeByTId(c.attr("id"));this.selectNode(d),c.focus()},click:"_onTreeClick",dblclick:"_onTreeDblclick",mousedown:"_onTreeMousedown",mouseup:"_onTreeMouseup",contextmenu:"_onZTreeContextmenu"})},_onTreeKeyDown:function(b){var c,d,e,f=this.element.find("[role='treeItem']");switch(b.keyCode){case a.UP:for(var g,h=!1,i=0;i<f.length;i++){var j=f[i];if(j===b.target)break;$(j).is(":visible")&&(h=$(j),g=this.getNodeByTId(h.attr("id")))}if(h){if(h.attr("disabled"))return!1;this.selectNode(g),h.focus()}break;case a.DOWN:if((c=f.index($(b.target)))>=0){if(i=1,"false"===$(b.target).attr("aria-expanded"))for(;c+i<f.length&&$.contains(b.target,f.eq(c+i)[0]);i++);var k=f.eq(c+i),l=this.getNodeByTId(k.attr("id"));if(k.attr("disabled"))return!1
;this.selectNode(l),k.focus()}break;case a.ENTER:var m=$(b.target).children(".switch");m.length>0&&m.hasClass("glyphicon")?b.target=m[0]:b.target=$(b.target).find("a span").eq(0)[0],this._onTreeClick(b);break;case a.LEFT:d=$(b.target),e=this.getNodeByTId(b.target.id),e.isParent&&"true"===d.attr("aria-expanded")&&this._switchNode(e);break;case a.RIGHT:d=$(b.target),e=this.getNodeByTId(b.target.id),e.isParent&&"false"===d.attr("aria-expanded")&&this._switchNode(e)}},_onTreeClick:function(a){var b=a.target,c="",d="",e=null,f=null;if($.tree.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+this.consts.id.SWITCH)?(d=$.tree.getNodeMainDom(b).id,c="switchNode"):(f=this._getMDom(b,[{tagName:"a",attrName:"treeNode"+this.consts.id.A}]))&&(d=$.tree.getNodeMainDom(f).id,c="clickNode"),d.length>0){if(e=this._getNodeCache(d),this._isNodeDisabled(e))return!1;switch(c){case"switchNode":e.isParent&&this._onSwitchNode(a,e);break;case"clickNode":this._onClickNode(a,e),this._triggerPagePoint({eventType:"clickNode",node:e})}}},_onTreeDblclick:function(a){var b=a.target,c="",d=this.options,e=null,f=null;if((f=this._getMDom(b,[{tagName:"a",attrName:"treeNode"+this.consts.id.A}]))&&(c=$.tree.getNodeMainDom(f).id,c.length>0)){if(e=this._getNodeCache(c),this._isNodeDisabled(e))return!1;e.isParent&&this._apply(d.view.dblClickExpand,[a,e],d.view.dblClickExpand)&&this._onSwitchNode(a,e),this._trigger("beforeDblClick",a,e)&&this._trigger("onDblClick",a,e)}},_onTreeMousedown:function(a){var b=a.target,c="",d=null,e=null;if(e=this._getMDom(b,[{tagName:"a",attrName:"treeNode"+this.consts.id.A}]))return c=$.tree.getNodeMainDom(e).id,d=this._getNodeCache(c),!this._isNodeDisabled(d)&&(this._trigger("beforeMouseDown",a,d)&&this._trigger("onMouseDown",a,d),!0)},_onTreeMouseup:function(a){var b=a.target,c="",d=null,e=null;if(e=this._getMDom(b,[{tagName:"a",attrName:"treeNode"+this.consts.id.A}]))return c=$.tree.getNodeMainDom(e).id,d=this._getNodeCache(c),!this._isNodeDisabled(d)&&(this._trigger("beforeMouseUp",a,d)&&this._trigger("onMouseUp",a,d),!0)},_onZTreeContextmenu:function(a){var b=a.target,c="",d=null,e=null;if(e=this._getMDom(b,[{tagName:"a",attrName:"treeNode"+this.consts.id.A}]))return c=$.tree.getNodeMainDom(e).id,d=this._getNodeCache(c),!this._isNodeDisabled(d)&&(this._trigger("beforeRightClick",a,d)&&this._trigger("onRightClick",a,d),!0)},_onSwitchNode:function(a,b){var c=this.options;if(b.open){if(0==this._apply(c.callback.beforeCollapse,[a,b],!0))return!0;this._getRoot().expandTriggerFlag=!0,this._switchNode(b)}else{if(0==this._apply(c.callback.beforeExpand,[a,b],!0))return!0;this._getRoot().expandTriggerFlag=!0,this._switchNode(b)}return!0},_onClickNode:function(a,b){if(this._isNodeDisabled(b))return!1;var c=this.options,d=c.view.autoCancelSelected&&(a.ctrlKey||a.metaKey)&&this._isSelectedNode(b)?0:c.view.autoCancelSelected&&(a.ctrlKey||a.metaKey)&&c.view.selectedMulti?2:1;return 0==this._apply(c.callback.beforeClick,[a,b,d],!0)||(0===d?this._cancelPreSelectedNode(b):this._selectNode(b,2===d),this._trigger(this.consts.event.CLICK,a,[b,d]),!0)},_getMDom:function(a,b){if(!a)return null;for(;a&&a.id!==this.options.treeId;){for(var c=0,d=b.length;a.tagName&&c<d;c++)if($.tree.eqs(a.tagName,b[c].tagName)&&null!==a.getAttribute(b[c].attrName))return a;a=a.parentNode}return null}})}(),function(){"use strict";$.widget("ui.tree",$.ui.tree,{options:{check:{enable:!1,autoCheckTrigger:!1,chkStyle:$.tree.consts.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:$.tree.consts.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},_create:function(){this._addInitNode(this._initNodeCheck),this._initRootCheck(),this._addBeforeA(this._beforeACheck),this._super(),this._bindCheckEvent()},_initNodeCheck:function(a,b,c,d,e,f){var g=this;if(b){var h=this.p.data.key.checked;if("string"==typeof b[h]&&(b[h]=$.tree.eqs(b[h],"true")),b[h]=!!b[h],b.checkedOld=b[h],"string"==typeof b.nocheck&&(b.nocheck=$.tree.eqs(b.nocheck,"true")),b.nocheck=!!b.nocheck||this.p.check.nocheckInherit&&c&&!!c.nocheck,this._isNodeDisabled(b)&&(b.chkDisabled=!0),"string"==typeof b.chkDisabled&&(b.chkDisabled=$.tree.eqs(b.chkDisabled,"true")),b.chkDisabled=!!b.chkDisabled||this.p.check.chkDisabledInherit&&c&&!!c.chkDisabled,"string"==typeof b.halfCheck&&(b.halfCheck=$.tree.eqs(b.halfCheck,"true")),b.halfCheck=!!b.halfCheck,b.check_Child_State=-1,b.check_Focus=!1,b.getCheckStatus=function(){return g._getCheckStatus(b)},this.p.check.chkStyle==$.tree.consts.radio.STYLE&&this.p.check.radioType==$.tree.consts.radio.TYPE_ALL&&b[h]){this._getRoot().radioCheckedList.push(b)}}},_getCheckStatus:function(a){if(!this.p.check.enable||a.nocheck||a.chkDisabled)return null;var b=this.p.data.key.checked;return{checked:a[b],half:a.halfCheck?a.halfCheck:this.p.check.chkStyle==$.tree.consts.radio.STYLE?2===a.check_Child_State:a[b]?a.check_Child_State>-1&&a.check_Child_State<2:a.check_Child_State>0}},_bindCheckEvent:function(){this._on({mouseover:"_onMouseoverCheck",mouseout:"_onMouseoutCheck",click:"_onCheckNode"})},_onMouseoverCheck:function(a){var b=a.target,c="",d=null;if(this.p.check.enable&&$.tree.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+$.tree.consts.id.CHECK)&&(c=$.tree.getNodeMainDom(b).id,c.length>0)){if(d=this._getNodeCache(c),!0===d.chkDisabled)return!1;var e=this.$(d,$.tree.consts.id.CHECK);d.check_Focus=!0,this._setChkClass(e,d)}},_setChkClass:function(a,b){a&&(!0===b.nocheck?a.hide():a.show(),a.attr("class",this._makeChkClass(b)))},_makeChkClass:function(a){var b=this.p.data.key.checked,c=$.tree.consts.checkbox,d=$.tree.consts.radio,e="";e=!0===a.chkDisabled?c.DISABLED:a.halfCheck?c.PART:this.p.check.chkStyle==d.STYLE?a.check_Child_State<1?c.FULL:c.PART:a[b]?2===a.check_Child_State||-1===a.check_Child_State?c.FULL:c.PART:a.check_Child_State<1?c.FULL:c.PART;var f=this.p.check.chkStyle+"_"+(a[b]?c.TRUE:c.FALSE)+"_"+e;return f=a.check_Focus&&!0!==a.chkDisabled?f+"_"+c.FOCUS:f,$.tree.consts.className.BUTTON+" "+c.DEFAULT+" "+f},_onMouseoutCheck:function(a){var b=a.target,c={},d="";if(this.p.check.enable&&$.tree.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+$.tree.consts.id.CHECK)&&(d=$.tree.getNodeMainDom(b).id,d.length>0)){if(!0===c.chkDisabled)return!1;var e=this.$(c,$.tree.consts.id.CHECK);c.check_Focus=!1,this._setChkClass(e,c)}},_onCheckNode:function(a){var b=a.target,c={},d="";if(this.p.check.enable&&$.tree.eqs(b.tagName,"span")&&null!==b.getAttribute("treeNode"+$.tree.consts.id.CHECK)&&(d=$.tree.getNodeMainDom(b).id,d.length>0)){if(c=this._getNodeCache(d),!0===c.chkDisabled)return!1;var e=this.p.data.key.checked;if(0==this._apply(this.p.callback.beforeCheck,[a,c],!0))return!0;c[e]=!c[e],this._checkNodeRelation(c);var f=this.$(c,$.tree.consts.id.CHECK);this._setChkClass(f,c),this._repairParentChkClassWithSelf(c),this._trigger($.tree.consts.event.CHECK,a,c)}},_checkNodeRelation:function(a){var b,c,d,e=this.p.data.key.children,f=this.p.data.key.checked,g=$.tree.consts.radio;if(this.p.check.chkStyle==g.STYLE){var h=this._getRadioCheckedList();if(a[f])if(this.p.check.radioType==g.TYPE_ALL){for(c=h.length-1;c>=0;c--)b=h[c],b[f]&&b!=a&&(b[f]=!1,h.splice(c,1),this._setChkClass(this.$(b,$.tree.consts.id.CHECK),b),b.parentTId!=a.parentTId&&this._repairParentChkClassWithSelf(b));h.push(a)}else{var i=a.parentTId?a.getParentNode():this._getRoot();for(c=0,d=i[e].length;c<d;c++)b=i[e][c],b[f]&&b!=a&&(b[f]=!1,this._setChkClass(this.$(b,$.tree.consts.id.CHECK),b))}else if(this.p.check.radioType==g.TYPE_ALL)for(c=0,d=h.length;c<d;c++)if(a==h[c]){h.splice(c,1);break}}else a[f]&&(!a[e]||0==a[e].length||this.p.check.chkboxType.Y.indexOf("s")>-1)&&this._setSonNodeCheckBox(a,!0),a[f]||a[e]&&0!=a[e].length&&!(this.p.check.chkboxType.N.indexOf("s")>-1)||this._setSonNodeCheckBox(a,!1),a[f]&&this.p.check.chkboxType.Y.indexOf("p")>-1&&this._setParentNodeCheckBox(a,!0),!a[f]&&this.p.check.chkboxType.N.indexOf("p")>-1&&this._setParentNodeCheckBox(a,!1)},_repairParentChkClassWithSelf:function(a){if(a){var b=this.p.data.key.children;a[b]&&a[b].length>0?this._repairParentChkClass(a[b][0]):this._repairParentChkClass(a)}},_repairParentChkClass:function(a){if(a&&a.parentTId){var b=a.getParentNode();this._repairChkClass(b),this._repairParentChkClass(b)}},_repairChkClass:function(a){if(a&&(this._makeChkFlag(a),!0!==a.nocheck)){var b=this.$(a,$.tree.consts.id.CHECK);this._setChkClass(b,a)}},_makeChkFlag:function(a){if(a){var b=this.p.data.key.children,c=this.p.data.key.checked,d=-1;if(a[b])for(var e=0,f=a[b].length;e<f;e++){var g=a[b][e],h=-1;if(this.p.check.chkStyle==$.tree.consts.radio.STYLE){if(2==(h=!0===g.nocheck||!0===g.chkDisabled?g.check_Child_State:!0===g.halfCheck?2:g[c]?2:g.check_Child_State>0?2:0)){d=2;break}0==h&&(d=0)}else if(this.p.check.chkStyle==$.tree.consts.checkbox.STYLE){if(1===(h=!0===g.nocheck||!0===g.chkDisabled?g.check_Child_State:!0===g.halfCheck?1:g[c]?-1===g.check_Child_State||2===g.check_Child_State?2:1:g.check_Child_State>0?1:0)){d=1;break}if(2===h&&d>-1&&e>0&&h!==d){d=1;break}if(2===d&&h>-1&&h<2){d=1;break}h>-1&&(d=h)}}a.check_Child_State=d}},_setSonNodeCheckBox:function(a,b,c){if(a){var d=this.p.data.key.children,e=this.p.data.key.checked,f=this.$(a,$.tree.consts.id.CHECK);c||(c=a);var g=!1;if(a[d])for(var h=0,i=a[d].length;h<i&&!0!==a.chkDisabled;h++){var j=a[d][h];this._setSonNodeCheckBox(j,b,c),!0===j.chkDisabled&&(g=!0)}a!=this._getRoot()&&!0!==a.chkDisabled&&(g&&!0!==a.nocheck&&this._makeChkFlag(a),!0!==a.nocheck&&!0!==a.chkDisabled?(a[e]=b,g||(a.check_Child_State=a[d]&&a[d].length>0?b?2:0:-1)):a.check_Child_State=-1,this._setChkClass(f,a),this.p.check.autoCheckTrigger&&a!=c&&!0!==a.nocheck&&!0!==a.chkDisabled&&this._trigger($.tree.consts.event.CHECK,null,a))}},_setParentNodeCheckBox:function(a,b,c){var d=this.p.data.key.children,e=this.p.data.key.checked,f=this.$(a,$.tree.consts.id.CHECK);if(c||(c=a),this._makeChkFlag(a),!0!==a.nocheck&&!0!==a.chkDisabled&&(a[e]=b,this._setChkClass(f,a),this.p.check.autoCheckTrigger&&a!=c&&this._trigger($.tree.consts.event.CHECK,null,a)),a.parentTId){var g=!0;if(!b)for(var h=a.getParentNode()[d],i=0,j=h.length;i<j;i++)if(!0!==h[i].nocheck&&!0!==h[i].chkDisabled&&h[i][e]||(!0===h[i].nocheck||!0===h[i].chkDisabled)&&h[i].check_Child_State>0){g=!1;break}g&&this._setParentNodeCheckBox(a.getParentNode(),b,c)}},_initRootCheck:function(){this._getRoot().radioCheckedList=[]},_beforeACheck:function(a,b){this.p.check.enable&&(this._makeChkFlag(a),b.push("<span ID='",a.tId,$.tree.consts.id.CHECK,"' class='",this._makeChkClass(a),"' treeNode",$.tree.consts.id.CHECK,!0===a.nocheck?" style='display:none;'":"","></span>"))},_createNodes:function(a,b,c,d){this._super(a,b,c,d),b&&this._repairParentChkClassWithSelf(c)},_removeNode:function(a){var b=a.getParentNode();this._super(a),a&&b&&(this._repairChkClass(b),this._repairParentChkClass(b))},_appendNodes:function(a,b,c,d,e,f){var g=[];return g=this._super(a,b,c,d,e,f),c&&this._makeChkFlag(c),g},_repairAllChk:function(a){if(this.p.check.enable&&this.p.check.chkStyle===$.tree.consts.checkbox.STYLE)for(var b=this.p.data.key.checked,c=this.p.data.key.children,d=this._getRoot(),e=0,f=d[c].length;e<f;e++){var g=d[c][e];!0!==g.nocheck&&!0!==g.chkDisabled&&(g[b]=a),this._setSonNodeCheckBox(g,a)}},_getTreeCheckedNodes:function(a,b,c){if(!a)return[];var d=this.p.data.key.children,e=this.p.data.key.checked,f=b&&this.p.check.chkStyle==$.tree.consts.radio.STYLE&&this.p.check.radioType==$.tree.consts.radio.TYPE_ALL;c=c||[];for(var g=0,h=a.length;g<h&&(!0===a[g].nocheck||!0===a[g].chkDisabled||a[g][e]!=b||(c.push(a[g]),!f))&&(this._getTreeCheckedNodes(a[g][d],b,c),!(f&&c.length>0));g++);return c},_getTreeChangeCheckedNodes:function(a,b){if(!a)return[];var c=this.p.data.key.children,d=this.p.data.key.checked;b=b||[];for(var e=0,f=a.length;e<f;e++)!0!==a[e].nocheck&&!0!==a[e].chkDisabled&&a[e][d]!=a[e].checkedOld&&b.push(a[e]),this._getTreeChangeCheckedNodes(a[e][c],b);return b},_repairSonChkDisabled:function(a,b,c){if(a&&!this._isNodeDisabled(a)){var d=this.p.data.key.children;if(a.chkDisabled!=b&&(a.chkDisabled=b),this._repairChkClass(a),a[d]&&c)for(var e=0,f=a[d].length;e<f;e++){var g=a[d][e];this._repairSonChkDisabled(g,b,c)}}},_repairParentChkDisabled:function(a,b,c){a&&!this._isNodeDisabled(a)&&(a.chkDisabled!=b&&c&&(a.chkDisabled=b),this._repairChkClass(a),this._repairParentChkDisabled(a.getParentNode(),b,c))},checkNode:function(a,b,c,d){var e=this.p.data.key.checked;if(!0!==a.chkDisabled&&(!0!==b&&!1!==b&&(b=!a[e]),d=!!d,(a[e]!==b||c)&&(!d||0!=this._apply(this.p.callback.beforeCheck,[null,a],!0))&&this._uCanDo()&&this.p.check.enable&&!0!==a.nocheck)){a[e]=b;var f=this.$(a,$.tree.consts.id.CHECK);(c||this.p.check.chkStyle===$.tree.consts.radio.STYLE)&&this._checkNodeRelation(a),this._setChkClass(f,a),this._repairParentChkClassWithSelf(a),d&&this._trigger($.tree.consts.event.CHECK,null,a)}},checkAllNodes:function(a){this._repairAllChk(!!a)},getCheckedNodes:function(a){var b=this.p.data.key.children;return a=!1!==a,this._getTreeCheckedNodes(this._getRoot()[b],a)},getChangeCheckedNodes:function(){var a=this.p.data.key.children;return this._getTreeChangeCheckedNodes(this._getRoot()[a])},setChkDisabled:function(a,b,c,d){b=!!b,c=!!c,d=!!d,this._repairSonChkDisabled(a,b,d),this._repairParentChkDisabled(a.getParentNode(),b,c)},updateNode:function(a,b){if(this._super(a,b),a&&this.p.check.enable){if(this.$(a).get(0)&&this._uCanDo()){var c=this.$(a,$.tree.consts.id.CHECK);1!=b&&this.p.check.chkStyle!==$.tree.consts.radio.STYLE||this._checkNodeRelation(a),this._setChkClass(c,a),this._repairParentChkClassWithSelf(a)}}},_getRadioCheckedList:function(){for(var a=this._getRoot().radioCheckedList,b=0,c=a.length;b<c;b++)this._getNodeCache(a[b].tId)||(a.splice(b,1),b--,c--);return a}})}(),function(){"use strict";$.widget("ui.tree",$.ui.tree,{options:{edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,forbidOwnTree:!1,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},_create:function(){this._addInitNode(this._initNodeEdit),this._initRootEdit(),this._super(),this._bindEditEvent()},_initNodeEdit:function(a,b,c,d,e,f){b&&(b.isHover=!1,b.editNameFlag=!1)},_initRootEdit:function(){var a=this._getRoot(),b=this._getRoots();a.curEditNode=null,a.curEditInput=null,a.curHoverNode=null,a.dragFlag=0,a.dragNodeShowBefore=[],a.dragMaskList=[],b.showHoverDom=!0},_bindEditEvent:function(){this._on({mouseover:"_onHoverOverNode",mouseout:"_onEditNodeMouseOut",mousedown:"_onMousedownNode"})},_onHoverOverNode:function(a){var b=a.target,c="",d=null,e=null;if((e=this._getMDom(b,[{tagName:"a",attrName:"treeNode"+this.consts.id.A}]))&&(c=$.tree.getNodeMainDom(e).id,c.length>0)){d=this._getNodeCache(c);var f=this._getRoot();f.curHoverNode!=d&&this._onHoverOutNode(a),f.curHoverNode=d,this._addHoverDom(d)}},_onEditNodeMouseOut:function(a){var b=a.relatedTarget,c=null;(c=this._getMDom(b,[{tagName:"a",attrName:"treeNode"+this.consts.id.A}]))||this._onHoverOutNode(a)},_onMousedownNode:function(a){var b=a.target,c="",d=null,e=null;(e=this._getMDom(b,[{tagName:"a",attrName:"treeNode"+this.consts.id.A}]))&&(c=$.tree.getNodeMainDom(e).id,c.length>0&&(d=this._getNodeCache(c),this.__onMousedownNode(a,d)))},__onMousedownNode:function(a,b){function c(a){if(0==j.dragFlag&&Math.abs(C-a.clientX)<h.edit.drag.minMoveSize&&Math.abs(D-a.clientY)<h.edit.drag.minMoveSize)return!0;var b,c,e,f,g,l=h.data.key.children;if(u.css("cursor","pointer"),0==j.dragFlag){if(0==i.element.data("ui-tree")._trigger("beforeDrag",null,n))return d(a),!0;for(b=0,c=n.length;b<c;b++)0==b&&(j.dragNodeShowBefore=[]),e=n[b],e.isParent&&e.open?(i._expandCollapseNode(e,!e.open),j.dragNodeShowBefore[e.tId]=!0):j.dragNodeShowBefore[e.tId]=!1;j.dragFlag=1,k.showHoverDom=!1,i._showIfameMask(!0);var m=!0,x=-1;if(n.length>1){var F=n[0].parentTId?n[0].getParentNode()[l]:i._getNodes();for(g=[],b=0,c=F.length;b<c;b++)if(j.dragNodeShowBefore[F[b].tId]!==undefined&&(m&&x>-1&&x+1!==b&&(m=!1),g.push(F[b]),x=b),n.length===g.length){n=g;break}}for(m&&(r=n[0].getPreNode(),s=n[n.length-1].getNextNode()),o=i.$("<ul class='zTreeDragUL'></ul>"),b=0,c=n.length;b<c;b++)e=n[b],e.editNameFlag=!1,i._selectNode(e,b>0),i._removeTreeDom(e),b>h.edit.drag.maxShowNodeNum-1||(f=i.$("<li id='"+e.tId+"_tmp'></li>"),f.append(i.$(e,i.consts.id.A).clone()),f.css("padding","0"),f.children("#"+e.tId+i.consts.id.A).removeClass(i.consts.node.CURSELECTED),o.append(f),b==h.edit.drag.maxShowNodeNum-1&&(f=i.$("<li id='"+e.tId+"_moretmp'><a>  ...  </a></li>"),o.append(f)));o.attr("id",n[0].tId+i.consts.id.UL+"_tmp"),o.addClass("UL"==i.element[0].tagName?i.element.attr("class"):i.element.children().attr("class")),o.appendTo(u),p=i.$("<span class='tmpzTreeMove_arrow'></span>"),p.attr("id","zTreeMove_arrow_tmp"),p.appendTo(u),h.$ts._trigger(i.consts.event.DRAG,a,[h.treeId,n])}if(1==j.dragFlag){if(q&&p.attr("id")==a.target.id&&A&&a.clientX+t.scrollLeft()+2>$("#"+A+i.consts.id.A,q).offset().left){var G=i.$("#"+A+i.consts.id.A,q);a.target=G.length>0?G.get(0):a.target}else q&&(q.removeClass(i.consts.node.TMPTARGET_TREE),A&&$("#"+A+i.consts.id.A,q).removeClass(i.consts.node.TMPTARGET_NODE+"_"+i.consts.move.TYPE_PREV).removeClass(i.consts.node.TMPTARGET_NODE+"_"+i.consts.move.TYPE_NEXT).removeClass(i.consts.node.TMPTARGET_NODE+"_"+i.consts.move.TYPE_INNER));q=null,A=null,v=!1,w=h;var H=$.tree.settings;for(var I in H)H[I].treeId&&H[I].edit.enable&&H[I].treeId!=h.treeId&&(a.target.id==H[I].treeId||$(a.target).parents("#"+H[I].treeId).length>0)&&(v=!0,w=H[I]);var J=t.scrollTop(),K=t.scrollLeft(),L=w.$el.offset(),M=w.$el[0].scrollHeight,N=w.$el[0].scrollWidth,O=a.clientY+J-L.top,P=w.$el.height()+L.top-a.clientY-J,Q=a.clientX+K-L.left,R=w.$el.width()+L.left-a.clientX-K,S=O<h.edit.drag.borderMax&&O>h.edit.drag.borderMin,T=P<h.edit.drag.borderMax&&P>h.edit.drag.borderMin,U=Q<h.edit.drag.borderMax&&Q>h.edit.drag.borderMin,V=R<h.edit.drag.borderMax&&R>h.edit.drag.borderMin,W=O>h.edit.drag.borderMin&&P>h.edit.drag.borderMin&&Q>h.edit.drag.borderMin&&R>h.edit.drag.borderMin,X=S&&w.$el.scrollTop()<=0,Y=T&&w.$el.scrollTop()+w.$el.height()+10>=M,Z=U&&w.$el.scrollLeft()<=0,aa=V&&w.$el.scrollLeft()+w.$el.width()+10>=N;if(a.target&&i._isChildOrSelf(a.target,w.treeId)){for(var ba=a.target;ba&&ba.tagName&&!$.tree.eqs(ba.tagName,"li")&&ba.id!=w.treeId;)ba=ba.parentNode;var ca=!0;for(b=0,c=n.length;b<c;b++){if(e=n[b],ba.id===e.tId){ca=!1;break}if(i.$(e).find("#"+ba.id).length>0){ca=!1;break}}ca&&a.target&&i._isChildOrSelf(a.target,ba.id+i.consts.id.A)&&(q=$(ba),A=ba.id)}e=n[0],W&&i._isChildOrSelf(a.target,w.treeId)&&(!q&&(a.target.id==w.treeId||X||Y||Z||aa)&&(v||!v&&e.parentTId)&&(q=w.$el),S?w.$el.scrollTop(w.$el.scrollTop()-10):T&&w.$el.scrollTop(w.$el.scrollTop()+10),U?w.$el.scrollLeft(w.$el.scrollLeft()-10):V&&w.$el.scrollLeft(w.$el.scrollLeft()+10),q&&q!=w.$el&&q.offset().left<w.$el.offset().left&&w.$el.scrollLeft(w.$el.scrollLeft()+q.offset().left-w.$el.offset().left)),o.css({top:a.clientY+J+3+"px",left:a.clientX+K+3+"px"});var da=0,ea=0;if(q&&q.attr("id")!=w.treeId){var fa=null==A?null:w.$ts._getNodeCache(A),ga=(a.ctrlKey||a.metaKey)&&h.edit.drag.isMove&&h.edit.drag.isCopy||!h.edit.drag.isMove&&h.edit.drag.isCopy,ha=!(!r||A!==r.tId),ia=!(!s||A!==s.tId),ja=e.parentTId&&e.parentTId==A,ka=(ga||!ia)&&i._apply(w.edit.drag.prev,[w.treeId,n,fa],!!w.edit.drag.prev),la=(ga||!ha)&&i._apply(w.edit.drag.next,[w.treeId,n,fa],!!w.edit.drag.next),ma=(ga||!ja)&&!(w.data.keep.leaf&&!fa.isParent)&&i._apply(w.edit.drag.inner,[w.treeId,n,fa],!!w.edit.drag.inner);if(ka||la||ma){var na=$("#"+A+i.consts.id.A,q),oa=fa.isLastNode?null:$("#"+fa.getNextNode().tId+i.consts.id.A,q.next()),pa=na.offset().top,qa=na.offset().left,ra=ka?ma?.25:la?.5:1:-1,sa=la?ma?.75:ka?.5:0:-1,ta=(a.clientY+J-pa)/na.height();if((1==ra||ta<=ra&&ta>=-.2)&&ka?(da=1-p.width(),ea=pa-p.height()/2,B=i.consts.move.TYPE_PREV):(0==sa||ta>=sa&&ta<=1.2)&&la?(da=1-p.width(),ea=null==oa||fa.isParent&&fa.open?pa+na.height()-p.height()/2:oa.offset().top-p.height()/2,B=i.consts.move.TYPE_NEXT):(da=5-p.width(),ea=pa,B=i.consts.move.TYPE_INNER),h.edit.drag.forbidOwnTree&&!v?p.css({display:"none"}):p.css({display:"block",top:ea+"px",left:qa+da+"px"}),na.addClass(i.consts.node.TMPTARGET_NODE+"_"+B),y==A&&z==B||(E=(new Date).getTime()),fa&&fa.isParent&&B==i.consts.move.TYPE_INNER){var ua=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==fa.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===fa.tId&&(ua=!1),ua&&(window.zTreeMoveTimer=setTimeout(function(){B==i.consts.move.TYPE_INNER&&fa&&fa.isParent&&!fa.open&&(new Date).getTime()-E>w.edit.drag.autoOpenTime&&i._apply(w.callback.beforeDragOpen,[w.treeId,fa],!0)&&(w.$ts._switchNode(fa),w.edit.drag.autoExpandTrigger&&w.$ts._trigger(i.consts.event.EXPAND,null,[w.treeId,fa]))},w.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=fa.tId)}}else q=null,A="",B=i.consts.move.TYPE_INNER,p.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}else B=i.consts.move.TYPE_INNER,q&&i._apply(w.edit.drag.inner,[w.treeId,n,null],!!w.edit.drag.inner)?q.addClass(i.consts.node.TMPTARGET_TREE):q=null,p.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);y=A,z=B,h.$ts._trigger(i.consts.event.DRAGMOVE,a,[h.treeId,n])}return!1}function d(a){var b;if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),y=null,z=null,t.unbind("mousemove",c),t.unbind("mouseup",d),t.unbind("selectstart",e),u.css("cursor","auto"),q&&(q.removeClass(i.consts.node.TMPTARGET_TREE),A&&i.element.find("#"+A+i.consts.id.A,q).removeClass(i.consts.node.TMPTARGET_NODE+"_"+i.consts.move.TYPE_PREV).removeClass(i.consts.node.TMPTARGET_NODE+"_"+i.consts.move.TYPE_NEXT).removeClass(i.consts.node.TMPTARGET_NODE+"_"+i.consts.move.TYPE_INNER)),i._showIfameMask(!1),k.showHoverDom=!0,0!=j.dragFlag){j.dragFlag=0;var f,g,l;for(f=0,g=n.length;f<g;f++)l=n[f],l.isParent&&j.dragNodeShowBefore[l.tId]&&!l.open&&(h.$ts._expandCollapseNode(l,!l.open),delete j.dragNodeShowBefore[l.tId]);o&&o.remove(),p&&p.remove();var m=(a.ctrlKey||a.metaKey)&&h.edit.drag.isMove&&h.edit.drag.isCopy||!h.edit.drag.isMove&&h.edit.drag.isCopy;if((!m&&q&&A&&n[0].parentTId&&A==n[0].parentTId&&B==i.consts.move.TYPE_INNER||h.edit.drag.forbidOwnTree&&!v)&&(q=null),q){var r=null==A?null:w.$ts._getNodeCache(A);if(0==i.element.data("ui-tree")._trigger("beforeDrop",null,[n,r,B,m]))return void x.$ts._selectNodes(n);var s=m?$.tree.clone(n):n;b=function(){var b;if(v){if(!m)for(var c=0,d=n.length;c<d;c++)h.$ts._removeNode(n[c]);B==i.consts.move.TYPE_INNER?w.$ts._addNodes(r,s,-1):(b=i.getNodeIndex(r),w.$ts._addNodes(r.getParentNode(),s,B==i.consts.move.TYPE_PREV?b:b+1))}else if(m&&B==i.consts.move.TYPE_INNER)w.$ts._addNodes(r,s,-1);else if(b=i.getNodeIndex(r),m&&w.$ts._addNodes(r.getParentNode(),s,B==i.consts.move.TYPE_PREV?b:b+1),B!=i.consts.move.TYPE_NEXT)for(c=0,d=s.length;c<d;c++)w.$ts.moveNode(r,s[c],B,!1);else for(c=-1,d=s.length-1;c<d;d--)w.$ts.moveNode(r,s[d],B,!1);w.$ts._selectNodes(s),i.$(s[0]).focus().blur(),w.$ts._trigger(i.consts.event.DROP,a,[w.treeId,s,r,B,m])},b()}else x.$ts._selectNodes(n),h.$ts._trigger(i.consts.event.DROP,a,[h.treeId,n,null,null,null])}}function e(){return!1}var f,g,h=this.options,i=this,j=this._getRoot(),k=this._getRoots();if(2==a.button||!h.edit.enable||!h.edit.drag.isCopy&&!h.edit.drag.isMove)return!0;var l=a.target,m=this._getRoot().curSelectedList,n=[];if(this._isSelectedNode(b))for(f=0,g=m.length;f<g;f++){if(m[f].editNameFlag&&$.tree.eqs(l.tagName,"input")&&null!==l.getAttribute("treeNode"+this.consts.id.INPUT))return!0;if(n.push(m[f]),n[0].parentTId!==m[f].parentTId){n=[b];break}}else n=[b];this.editNodeBlur=!0,this._cancelCurEditNode();var o,p,q,r,s,t=$(this.element[0].ownerDocument),u=$(this.element[0].ownerDocument.body),v=!1,w=h,x=h,y=null,z=null,A=null,B=this.consts.move.TYPE_INNER,C=a.clientX,D=a.clientY,E=(new Date).getTime();return this._uCanDo()&&t.bind("mousemove",c),t.bind("mouseup",d),t.bind("selectstart",e),a.preventDefault&&a.preventDefault(),!0},_onHoverOutNode:function(a,b){var c=this._getRoot();c.curHoverNode&&!this._isSelectedNode(c.curHoverNode)&&(this._removeTreeDom(c.curHoverNode),c.curHoverNode=null)},_removeTreeDom:function(a){a.isHover=!1,this._removeEditBtn(a),this._removeRemoveBtn(a),this._apply(this.p.view.removeHoverDom,[a])},_removeRemoveBtn:function(a){this.$(a,this.consts.id.REMOVE).off().remove()},_removeEditBtn:function(a){this.$(a,this.consts.id.EDIT).off().remove()},_addHoverDom:function(a){this._getRoots().showHoverDom&&(a.isHover=!0,this.p.edit.enable&&(this._addEditBtn(a),this._addRemoveBtn(a)),this._apply(this.p.view.addHoverDom,[a]))},_showIfameMask:function(a){for(var b=this._getRoot();b.dragMaskList.length>0;)b.dragMaskList[0].remove(),b.dragMaskList.shift();if(a)for(var c=this.$("iframe"),d=0,e=c.length;d<e;d++){var f=c.get(d),g=$.tree.getAbs(f),h=this.$("<div id='zTreeMask_"+d+"' class='zTreeMask' style='top:"+g[1]+"px; left:"+g[0]+"px; width:"+f.offsetWidth+"px; height:"+f.offsetHeight+"px;'></div>");h.appendTo(this.$("body")),b.dragMaskList.push(h)}},_addEditBtn:function(a){var b=this;if(!(a.editNameFlag||this.$(a,this.consts.id.EDIT).length>0)){var c=this._apply(this.p.edit.showRenameBtn,[a],this.p.edit.showRenameBtn);if(c){var d=fish.isString(c)?c:"glyphicon glyphicon-edit",e=this.$(a,this.consts.id.A),f="<span class='"+d+" edit' id='"+a.tId+this.consts.id.EDIT+"' title='"+this._apply(this.p.edit.renameTitle,[a],this.p.edit.renameTitle)+"' treeNode"+this.consts.id.EDIT+" style='display:none;'></span>";e.append(f);var g=function(c){if(!b._uCanDo())return!1;var d=b._apply(b.p.callback.beforeEditName,[null,a],!0);return $.promisify(d).then(function(c){c&&b._editNode(a)}),!1};this.$(a,this.consts.id.EDIT).on("click",g).show()}}},_addRemoveBtn:function(a){var b=this;if(!(a.editNameFlag||this.$(a,this.consts.id.REMOVE).length>0)){var c=this._apply(this.p.edit.showRemoveBtn,[a],this.p.edit.showRemoveBtn);if(c){var d=fish.isString(c)?c:"glyphicon glyphicon-remove-circle",e=this.$(a,this.consts.id.A),f="<span class='"+d+" remove' id='"+a.tId+this.consts.id.REMOVE+"' title='"+this._apply(this.p.edit.removeTitle,[a],this.p.edit.removeTitle)+"' treeNode"+this.consts.id.REMOVE+" style='display:none;'></span>";e.append(f);var g=function(c){if(!b._uCanDo())return!1;var d=b._apply(b.p.callback.beforeRemove,[c,a],!0);return $.promisify(d).then(function(c){c&&(b._removeNode(a),b._trigger(b.consts.event.REMOVE,null,a),b._triggerPagePoint({eventType:b.consts.event.REMOVE,node:a}))}),!1};this.$(a,this.consts.id.REMOVE).on("click",g).on("mousedown",function(a){return!0}).show()}}},_editNode:function(a){var b=this,c=this._getRoot();if(this.editNodeBlur=!1,this._isSelectedNode(a)&&c.curEditNode==a&&a.editNameFlag)return void _.defer(function(){$.tree.inputFocus(c.curEditInput)});var d=this.p.data.key.name;a.editNameFlag=!0,this._removeTreeDom(a),this._cancelCurEditNode(),this._selectNode(a,!1),this.$(a,this.consts.id.SPAN).html("<input type=text class='rename form-control' id='"+a.tId+this.consts.id.INPUT+"' treeNode"+this.consts.id.INPUT+" >");var e=this.$(a,this.consts.id.INPUT);e.attr("value",a[d]),this.p.edit.editNameSelectAll?$.tree.inputSelect(e):$.tree.inputFocus(e);var f=function(a){b.editNodeBlur||b._cancelCurEditNode()},g=function(a){"13"==a.keyCode?(b.editNodeBlur=!0,b._cancelCurEditNode()):"27"==a.keyCode&&b._cancelCurEditNode(null,!0)};e.on("blur",f).on("keydown",g).on("click",function(a){return!1}).on("dblclick",function(a){return!1}),this.$(a,this.consts.id.A).addClass(this.consts.node.CURSELECTED_EDIT),c.curEditInput=e,c.noSelection=!1,c.curEditNode=a},_cancelCurEditNode:function(a,b){var c=this._getRoot(),d=this.p.data.key.name,e=c.curEditNode,f=this;if(e){var g=c.curEditInput,h=a||(b?e[d]:g.val()),i=this._apply(this.p.callback.beforeRename,[null,e,h,b],!0);$.promisify(i).then(function(a){if(a){e[d]=h,f._trigger(f.consts.event.RENAME,null,[e,b]),f._triggerPagePoint({eventType:f.consts.event.RENAME,node:e});f.$(e,f.consts.id.A).removeClass(f.consts.node.CURSELECTED_EDIT),g.unbind(),f._setNodeName(e),e.editNameFlag=!1,c.curEditNode=null,c.curEditInput=null,f._selectNode(e,!1),c.noSelection=!0}})}return e||(c.noSelection=!0),!0},cancelEditName:function(a){this._getRoot().curEditNode&&this._cancelCurEditNode(a||null,!0)},copyNode:function(a,b,c,d){var e=this;if(!b)return null;if(a&&!a.isParent&&this.p.data.keep.leaf&&c===this.consts.move.TYPE_INNER)return null;var f=$.tree.clone(b);if(a||(a=null,c=this.consts.move.TYPE_INNER),c==this.consts.move.TYPE_INNER){var g=function(){e._addNodes(a,[f],-1,d)};this._canAsync(a)?this._asyncNode(a,d,g):g()}else this._addNodes(a.parentNode,[f],-1,d),this._moveNode(a,f,c,!1,d);return f},editName:function(a){a&&a.tId&&a===this._getNodeCache(a.tId)&&(a.parentTId&&this._expandCollapseParentNode(a.getParentNode(),!0),this._editNode(a))},moveNode:function(a,b,c,d){var e=this;if(!b)return b;if(a&&!a.isParent&&this.p.data.keep.leaf&&c===this.consts.move.TYPE_INNER)return null;if(a&&(b.parentTId==a.tId&&c==this.consts.move.TYPE_INNER||this.$(b).find("#"+a.tId).length>0))return null;a||(a=null);var f=function(){e._moveNode(a,b,c,!1,d)};return this._canAsync(a)&&c===this.consts.move.TYPE_INNER?this._asyncNode(a,d,f):f(),b},setEditable:function(a){return this.p.edit.enable=a,this.refresh()},_moveNode:function(a,b,c,d,e){var f=this._getRoot(),g=this.p.data.key.children;if(a!=b&&(!this.p.data.keep.leaf||!a||a.isParent||c!=this.consts.move.TYPE_INNER)){var h=b.parentTId?b.getParentNode():f,i=null===a||a==f;i&&null===a&&(a=f),i&&(c=this.consts.move.TYPE_INNER);var j=a.parentTId?a.getParentNode():f;c!=this.consts.move.TYPE_PREV&&c!=this.consts.move.TYPE_NEXT&&(c=this.consts.move.TYPE_INNER),c==this.consts.move.TYPE_INNER&&(i?b.parentTId=null:(a.isParent||(a.isParent=!0,a.open=!!a.open,this._setNodeLineIcos(a)),b.parentTId=a.tId));var k,l;if(i)k=this.element,l=k;else{if(e||c!=this.consts.move.TYPE_INNER?e||this._expandCollapseNode(a.getParentNode(),!0,!1):this._expandCollapseNode(a,!0,!1),k=this.$(a),l=this.$(a,this.consts.id.UL),k.get(0)&&!l.get(0)){var m=[];this._makeUlHtml(a,m,""),k.append(m.join(""))}l=this.$(a,this.consts.id.UL)}var n=this.$(b);n.get(0)?k.get(0)||n.remove():n=this._appendNodes(b.level,[b],null,!1,!0,-1).join(""),l.get(0)&&c==this.consts.move.TYPE_INNER?l.append(n):k.get(0)&&c==this.consts.move.TYPE_PREV?k.before(n):k.get(0)&&c==this.consts.move.TYPE_NEXT&&k.after(n);var o,p,q=-1,r=0,s=null,t=null,u=b.level;if(b.isFirstNode)q=0,h[g].length>1&&(s=h[g][1],s.isFirstNode=!0);else if(b.isLastNode)q=h[g].length-1,s=h[g][q-1],s.isLastNode=!0;else for(o=0,p=h[g].length;o<p;o++)if(h[g][o].tId==b.tId){q=o;break}if(q>=0&&h[g].splice(q,1),c!=this.consts.move.TYPE_INNER)for(o=0,p=j[g].length;o<p;o++)j[g][o].tId==a.tId&&(r=o);if(c==this.consts.move.TYPE_INNER?(a[g]||(a[g]=[]),a[g].length>0&&(t=a[g][a[g].length-1],t.isLastNode=!1),a[g].splice(a[g].length,0,b),b.isLastNode=!0,b.isFirstNode=1==a[g].length):a.isFirstNode&&c==this.consts.move.TYPE_PREV?(j[g].splice(r,0,b),t=a,t.isFirstNode=!1,b.parentTId=a.parentTId,b.isFirstNode=!0,b.isLastNode=!1):a.isLastNode&&c==this.consts.move.TYPE_NEXT?(j[g].splice(r+1,0,b),t=a,t.isLastNode=!1,b.parentTId=a.parentTId,b.isFirstNode=!1,b.isLastNode=!0):(c==this.consts.move.TYPE_PREV?j[g].splice(r,0,b):j[g].splice(r+1,0,b),b.parentTId=a.parentTId,b.isFirstNode=!1,b.isLastNode=!1),this._fixPIdKeyValue(b),
this._setSonNodeLevel(b.getParentNode(),b),this._setNodeLineIcos(b),this._repairNodeLevelClass(b,u),!this.p.data.keep.parent&&h[g].length<1){h.isParent=!1,h.open=!1;var v=this.$(h,this.consts.id.UL),w=this.$(h,this.consts.id.SWITCH),x=this.$(h,this.consts.id.ICON);this._replaceSwitchClass(h,w,this.consts.folder.DOCU),this._replaceIcoClass(h,x,this.consts.folder.DOCU),v.css("display","none")}else s&&this._setNodeLineIcos(s);t&&this._setNodeLineIcos(t),this.p.check&&this.p.check.enable&&this._repairChkClass&&(this._repairChkClass(h),this._repairParentChkClassWithSelf(h),h!=b.parent&&this._repairParentChkClassWithSelf(b)),e||this._expandCollapseParentNode(b.getParentNode(),!0,d)}},_setSonNodeLevel:function(a,b){if(b){var c=this.p.data.key.children;if(b.level=a?a.level+1:0,b[c])for(var d=0,e=b[c].length;d<e;d++)b[c][d]&&this._setSonNodeLevel(b,b[c][d])}},_repairNodeLevelClass:function(a,b){if(b!==a.level){var c=this.$(a),d=this.$(a,this.consts.id.A),e=this.$(a,this.consts.id.UL),f=this.consts.className.LEVEL+b,g=this.consts.className.LEVEL+a.level;c.removeClass(f),c.addClass(g),d.removeClass(f),d.addClass(g),e.removeClass(f),e.addClass(g)}},_selectNode:function(a,b){var c=this._getRoot();return(!this._isSelectedNode(a)||c.curEditNode!=a||!a.editNameFlag)&&(this._super(a,b),this._addHoverDom(a),!0)},_uCanDo:function(a){var b=this._getRoot();return!(!a||!($.tree.eqs(a.type,"mouseover")||$.tree.eqs(a.type,"mouseout")||$.tree.eqs(a.type,"mousedown")||$.tree.eqs(a.type,"mouseup")))||(b.curEditNode&&(this.editNodeBlur=!1,b.curEditInput.focus()),!b.curEditNode&&this._super(a))},_removeNode:function(a){var b=this._getRoot();b.curEditNode===a&&(b.curEditNode=null),this._super(a)},_makeNodeUrl:function(a){return this.p.edit.enable?null:this._super(a)},_createNodes:function(a,b,c,d){this._super(a,b,c,d),b&&this._repairParentChkClassWithSelf&&this._repairParentChkClassWithSelf(c)},_cancelPreSelectedNode:function(a){for(var b=this._getRoot().curSelectedList,c=0,d=b.length;c<d&&(a&&a!==b[c]||(this._removeTreeDom(b[c]),!a));c++);this._super(a)},_isChildOrSelf:function(a,b){return $(a).closest("#"+b).length>0}})}(),fish.CryptoJS=function(a,b){var c={},d=c.lib={},e=d.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var c=new a;return b&&c.mixIn(b),c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=d.WordArray=e.extend({init:function(a,b){a=this.words=a||[],this.sigBytes=void 0!=b?b:4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes,e=a.sigBytes;if(this.clamp(),d%4)for(var f=0;f<e;f++){var g=c[f>>>2]>>>24-f%4*8&255;b[d+f>>>2]|=g<<24-(d+f)%4*8}else for(var f=0;f<e;f+=4)b[d+f>>>2]=c[f>>>2];return this.sigBytes+=e,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8,b.length=a.ceil(c/4)},clone:function(){var a=e.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c,d=[],e=0;e<b;e+=4){var g=function(b){var b=b,c=987654321,d=4294967295;return function(){c=36969*(65535&c)+(c>>16)&d,b=18e3*(65535&b)+(b>>16)&d;var e=(c<<16)+b&d;return e/=4294967296,(e+=.5)*(a.random()>.5?1:-1)}}(4294967296*(c||a.random()));c=987654071*g(),d.push(4294967296*g()|0)}return new f.init(d,b)}}),g=c.enc={},h=g.Hex={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;e<c;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push((f>>>4).toString(16)),d.push((15&f).toString(16))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new f.init(c,b/2)}},i=g.Latin1={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;e<c;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push(String.fromCharCode(f))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-d%4*8;return new f.init(c,b)}},j=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(i.stringify(a)))}catch(b){throw new Error("Malformed UTF-8 data")}},parse:function(a){return i.parse(unescape(encodeURIComponent(a)))}},k=d.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=j.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,g=this.blockSize,h=4*g,i=e/h;i=b?a.ceil(i):a.max((0|i)-this._minBufferSize,0);var j=i*g,k=a.min(4*j,e);if(j){for(var l=0;l<j;l+=g)this._doProcessBlock(d,l);var m=d.splice(0,j);c.sigBytes-=k}return new f.init(m,k)},clone:function(){var a=e.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0}),l=(d.Hasher=k.extend({cfg:e.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new l.HMAC.init(a,c).finalize(b)}}}),c.algo={});return c}(Math),function(){var a=fish.CryptoJS,b=a.lib,c=b.WordArray,d=a.enc;d.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp();for(var e=[],f=0;f<c;f+=3)for(var g=b[f>>>2]>>>24-f%4*8&255,h=b[f+1>>>2]>>>24-(f+1)%4*8&255,i=b[f+2>>>2]>>>24-(f+2)%4*8&255,j=g<<16|h<<8|i,k=0;k<4&&f+.75*k<c;k++)e.push(d.charAt(j>>>6*(3-k)&63));var l=d.charAt(64);if(l)for(;e.length%4;)e.push(l);return e.join("")},parse:function(a){var b=a.length,d=this._map,e=d.charAt(64);if(e){var f=a.indexOf(e);-1!=f&&(b=f)}for(var g=[],h=0,i=0;i<b;i++)if(i%4){var j=d.indexOf(a.charAt(i-1))<<i%4*2,k=d.indexOf(a.charAt(i))>>>6-i%4*2,l=j|k;g[h>>>2]|=l<<24-h%4*8,h++}return c.create(g,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(a){function b(a,b,c,d,e,f,g){var h=a+(b&c|~b&d)+e+g;return(h<<f|h>>>32-f)+b}function c(a,b,c,d,e,f,g){var h=a+(b&d|c&~d)+e+g;return(h<<f|h>>>32-f)+b}function d(a,b,c,d,e,f,g){var h=a+(b^c^d)+e+g;return(h<<f|h>>>32-f)+b}function e(a,b,c,d,e,f,g){var h=a+(c^(b|~d))+e+g;return(h<<f|h>>>32-f)+b}var f=fish.CryptoJS,g=f.lib,h=g.WordArray,i=g.Hasher,j=f.algo,k=[];!function(){for(var b=0;b<64;b++)k[b]=4294967296*a.abs(a.sin(b+1))|0}();var l=j.MD5=i.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,f){for(var g=0;g<16;g++){var h=f+g,i=a[h];a[h]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var j=this._hash.words,l=a[f+0],m=a[f+1],n=a[f+2],o=a[f+3],p=a[f+4],q=a[f+5],r=a[f+6],s=a[f+7],t=a[f+8],u=a[f+9],v=a[f+10],w=a[f+11],x=a[f+12],y=a[f+13],z=a[f+14],A=a[f+15],B=j[0],C=j[1],D=j[2],E=j[3];B=b(B,C,D,E,l,7,k[0]),E=b(E,B,C,D,m,12,k[1]),D=b(D,E,B,C,n,17,k[2]),C=b(C,D,E,B,o,22,k[3]),B=b(B,C,D,E,p,7,k[4]),E=b(E,B,C,D,q,12,k[5]),D=b(D,E,B,C,r,17,k[6]),C=b(C,D,E,B,s,22,k[7]),B=b(B,C,D,E,t,7,k[8]),E=b(E,B,C,D,u,12,k[9]),D=b(D,E,B,C,v,17,k[10]),C=b(C,D,E,B,w,22,k[11]),B=b(B,C,D,E,x,7,k[12]),E=b(E,B,C,D,y,12,k[13]),D=b(D,E,B,C,z,17,k[14]),C=b(C,D,E,B,A,22,k[15]),B=c(B,C,D,E,m,5,k[16]),E=c(E,B,C,D,r,9,k[17]),D=c(D,E,B,C,w,14,k[18]),C=c(C,D,E,B,l,20,k[19]),B=c(B,C,D,E,q,5,k[20]),E=c(E,B,C,D,v,9,k[21]),D=c(D,E,B,C,A,14,k[22]),C=c(C,D,E,B,p,20,k[23]),B=c(B,C,D,E,u,5,k[24]),E=c(E,B,C,D,z,9,k[25]),D=c(D,E,B,C,o,14,k[26]),C=c(C,D,E,B,t,20,k[27]),B=c(B,C,D,E,y,5,k[28]),E=c(E,B,C,D,n,9,k[29]),D=c(D,E,B,C,s,14,k[30]),C=c(C,D,E,B,x,20,k[31]),B=d(B,C,D,E,q,4,k[32]),E=d(E,B,C,D,t,11,k[33]),D=d(D,E,B,C,w,16,k[34]),C=d(C,D,E,B,z,23,k[35]),B=d(B,C,D,E,m,4,k[36]),E=d(E,B,C,D,p,11,k[37]),D=d(D,E,B,C,s,16,k[38]),C=d(C,D,E,B,v,23,k[39]),B=d(B,C,D,E,y,4,k[40]),E=d(E,B,C,D,l,11,k[41]),D=d(D,E,B,C,o,16,k[42]),C=d(C,D,E,B,r,23,k[43]),B=d(B,C,D,E,u,4,k[44]),E=d(E,B,C,D,x,11,k[45]),D=d(D,E,B,C,A,16,k[46]),C=d(C,D,E,B,n,23,k[47]),B=e(B,C,D,E,l,6,k[48]),E=e(E,B,C,D,s,10,k[49]),D=e(D,E,B,C,z,15,k[50]),C=e(C,D,E,B,q,21,k[51]),B=e(B,C,D,E,x,6,k[52]),E=e(E,B,C,D,o,10,k[53]),D=e(D,E,B,C,v,15,k[54]),C=e(C,D,E,B,m,21,k[55]),B=e(B,C,D,E,t,6,k[56]),E=e(E,B,C,D,A,10,k[57]),D=e(D,E,B,C,r,15,k[58]),C=e(C,D,E,B,y,21,k[59]),B=e(B,C,D,E,p,6,k[60]),E=e(E,B,C,D,w,10,k[61]),D=e(D,E,B,C,n,15,k[62]),C=e(C,D,E,B,u,21,k[63]),j[0]=j[0]+B|0,j[1]=j[1]+C|0,j[2]=j[2]+D|0,j[3]=j[3]+E|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;c[e>>>5]|=128<<24-e%32;var f=a.floor(d/4294967296),g=d;c[15+(e+64>>>9<<4)]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c[14+(e+64>>>9<<4)]=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8),b.sigBytes=4*(c.length+1),this._process();for(var h=this._hash,i=h.words,j=0;j<4;j++){var k=i[j];i[j]=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8)}return h},clone:function(){var a=i.clone.call(this);return a._hash=this._hash.clone(),a}});f.MD5=i._createHelper(l),f.HmacMD5=i._createHmacHelper(l)}(Math),function(){var a=fish.CryptoJS,b=a.lib,c=b.Base,d=b.WordArray,e=a.algo,f=e.MD5,g=e.EvpKDF=c.extend({cfg:c.extend({keySize:4,hasher:f,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,e=c.hasher.create(),f=d.create(),g=f.words,h=c.keySize,i=c.iterations;g.length<h;){j&&e.update(j);var j=e.update(a).finalize(b);e.reset();for(var k=1;k<i;k++)j=e.finalize(j),e.reset();f.concat(j)}return f.sigBytes=4*h,f}});a.EvpKDF=function(a,b,c){return g.create(c).compute(a,b)}}(),fish.CryptoJS.lib.Cipher||function(a){var b=fish.CryptoJS,c=b.lib,d=c.Base,e=c.WordArray,f=c.BufferedBlockAlgorithm,g=b.enc,h=(g.Utf8,g.Base64),i=b.algo,j=i.EvpKDF,k=c.Cipher=f.extend({cfg:d.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c),this._xformMode=a,this._key=b,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(a){return this._append(a),this._process()},finalize:function(a){return a&&this._append(a),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function a(a){return"string"==typeof a?w:t}return function(b){return{encrypt:function(c,d,e){return a(d).encrypt(b,c,d,e)},decrypt:function(c,d,e){return a(d).decrypt(b,c,d,e)}}}}()}),l=(c.StreamCipher=k.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),b.mode={}),m=c.BlockCipherMode=d.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a,this._iv=b}}),n=l.CBC=function(){function b(b,c,d){var e=this._iv;if(e){var f=e;this._iv=a}else var f=this._prevBlock;for(var g=0;g<d;g++)b[c+g]^=f[g]}var c=m.extend();return c.Encryptor=c.extend({processBlock:function(a,c){var d=this._cipher,e=d.blockSize;b.call(this,a,c,e),d.encryptBlock(a,c),this._prevBlock=a.slice(c,c+e)}}),c.Decryptor=c.extend({processBlock:function(a,c){var d=this._cipher,e=d.blockSize,f=a.slice(c,c+e);d.decryptBlock(a,c),b.call(this,a,c,e),this._prevBlock=f}}),c}(),o=b.pad={},p=o.Pkcs7={pad:function(a,b){for(var c=4*b,d=c-a.sigBytes%c,f=d<<24|d<<16|d<<8|d,g=[],h=0;h<d;h+=4)g.push(f);var i=e.create(g,d);a.concat(i)},unpad:function(a){var b=255&a.words[a.sigBytes-1>>>2];a.sigBytes-=b}},q=(c.BlockCipher=k.extend({cfg:k.cfg.extend({mode:n,padding:p}),reset:function(){k.reset.call(this);var a=this.cfg,b=a.iv,c=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var d=c.createEncryptor;else{var d=c.createDecryptor;this._minBufferSize=1}this._mode=d.call(c,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else{var b=this._process(!0);a.unpad(b)}return b},blockSize:4}),c.CipherParams=d.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}})),r=b.format={},s=r.OpenSSL={stringify:function(a){var b=a.ciphertext,c=a.salt;if(c)var d=e.create([1398893684,1701076831]).concat(c).concat(b);else var d=b;return d.toString(h)},parse:function(a){var b=h.parse(a),c=b.words;if(1398893684==c[0]&&1701076831==c[1]){var d=e.create(c.slice(2,4));c.splice(0,4),b.sigBytes-=16}return q.create({ciphertext:b,salt:d})}},t=c.SerializableCipher=d.extend({cfg:d.extend({format:s}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=a.createEncryptor(c,d),f=e.finalize(b),g=e.cfg;return q.create({ciphertext:f,key:c,iv:g.iv,algorithm:a,mode:g.mode,padding:g.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),u=b.kdf={},v=u.OpenSSL={execute:function(a,b,c,d){d||(d=e.random(8));var f=j.create({keySize:b+c}).compute(a,d),g=e.create(f.words.slice(b),4*c);return f.sigBytes=4*b,q.create({key:f,iv:g,salt:d})}},w=c.PasswordBasedCipher=t.extend({cfg:t.cfg.extend({kdf:v}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=d.kdf.execute(c,a.keySize,a.ivSize);d.iv=e.iv;var f=t.encrypt.call(this,a,b,e.key,d);return f.mixIn(e),f},decrypt:function(a,b,c,d){d=this.cfg.extend(d),b=this._parse(b,d.format);var e=d.kdf.execute(c,a.keySize,a.ivSize,b.salt);return d.iv=e.iv,t.decrypt.call(this,a,b,e.key,d)}})}(),function(){fish.TripleDES={encrypt:function(a,b){return fish.CryptoJS.TripleDES.encrypt(a,b).toString()},decrypt:function(a,b){return fish.CryptoJS.TripleDES.decrypt(a,b).toString(fish.CryptoJS.enc.Utf8)}}}(),function(){function a(a,b){var c=(this._lBlock>>>a^this._rBlock)&b;this._rBlock^=c,this._lBlock^=c<<a}function b(a,b){var c=(this._rBlock>>>a^this._lBlock)&b;this._lBlock^=c,this._rBlock^=c<<a}var c=fish.CryptoJS,d=c.lib,e=d.WordArray,f=d.BlockCipher,g=c.algo,h=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],i=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],j=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],k=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=g.DES=f.extend({_doReset:function(){for(var a=this._key,b=a.words,c=[],d=0;d<56;d++){var e=h[d]-1;c[d]=b[e>>>5]>>>31-e%32&1}for(var f=this._subKeys=[],g=0;g<16;g++){for(var k=f[g]=[],l=j[g],d=0;d<24;d++)k[d/6|0]|=c[(i[d]-1+l)%28]<<31-d%6,k[4+(d/6|0)]|=c[28+(i[d+24]-1+l)%28]<<31-d%6;k[0]=k[0]<<1|k[0]>>>31;for(var d=1;d<7;d++)k[d]=k[d]>>>4*(d-1)+3;k[7]=k[7]<<5|k[7]>>>27}for(var m=this._invSubKeys=[],d=0;d<16;d++)m[d]=f[15-d]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._subKeys)},decryptBlock:function(a,b){this._doCryptBlock(a,b,this._invSubKeys)},_doCryptBlock:function(c,d,e){this._lBlock=c[d],this._rBlock=c[d+1],a.call(this,4,252645135),a.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),a.call(this,1,1431655765);for(var f=0;f<16;f++){for(var g=e[f],h=this._lBlock,i=this._rBlock,j=0,m=0;m<8;m++)j|=k[m][((i^g[m])&l[m])>>>0];this._lBlock=i,this._rBlock=h^j}var n=this._lBlock;this._lBlock=this._rBlock,this._rBlock=n,a.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),a.call(this,16,65535),a.call(this,4,252645135),c[d]=this._lBlock,c[d+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});c.DES=f._createHelper(m);var n=g.TripleDES=f.extend({_doReset:function(){var a=this._key,b=a.words;this._des1=m.createEncryptor(e.create(b.slice(0,2))),this._des2=m.createEncryptor(e.create(b.slice(2,4))),this._des3=m.createEncryptor(e.create(b.slice(4,6)))},encryptBlock:function(a,b){this._des1.encryptBlock(a,b),this._des2.decryptBlock(a,b),this._des3.encryptBlock(a,b)},decryptBlock:function(a,b){this._des3.decryptBlock(a,b),this._des2.encryptBlock(a,b),this._des1.decryptBlock(a,b)},keySize:6,ivSize:2,blockSize:2});c.TripleDES=f._createHelper(n),fish.DES={encrypt:function(a,b){return c.DES.encrypt(a,b).toString()},decrypt:function(a,b){return c.DES.decrypt(a,b).toString(c.enc.Utf8)}}}(),function(){var a=fish.CryptoJS,b=a.lib,c=b.Base,d=a.enc,e=d.Utf8;a.algo.HMAC=c.extend({init:function(a,b){a=this._hasher=new a.init,"string"==typeof b&&(b=e.parse(b));var c=a.blockSize,d=4*c;b.sigBytes>d&&(b=a.finalize(b)),b.clamp();for(var f=this._oKey=b.clone(),g=this._iKey=b.clone(),h=f.words,i=g.words,j=0;j<c;j++)h[j]^=1549556828,i[j]^=909522486;f.sigBytes=g.sigBytes=d,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var b=this._hasher,c=b.finalize(a);return b.reset(),b.finalize(this._oKey.clone().concat(c))}})}(),function(){fish.MD5=function(a){return fish.CryptoJS.MD5(a).toString()},fish.HmacMD5=function(a,b){return fish.CryptoJS.HmacMD5(a,b).toString()}}(),function(){"use strict";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=function(a){for(var b={},c=0,d=a.length;c<d;c++)b[a.charAt(c)]=c;return b}(a),c=String.fromCharCode,d=function(a){if(a.length<2){var b=a.charCodeAt(0);return b<128?a:b<2048?c(192|b>>>6)+c(128|63&b):c(224|b>>>12&15)+c(128|b>>>6&63)+c(128|63&b)}var b=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return c(240|b>>>18&7)+c(128|b>>>12&63)+c(128|b>>>6&63)+c(128|63&b)},e=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(a){return a.replace(e,d)},g=function(b){var c=[0,2,1][b.length%3],d=b.charCodeAt(0)<<16|(b.length>1?b.charCodeAt(1):0)<<8|(b.length>2?b.charCodeAt(2):0);return[a.charAt(d>>>18),a.charAt(d>>>12&63),c>=2?"=":a.charAt(d>>>6&63),c>=1?"=":a.charAt(63&d)].join("")},h=window.btoa?function(a){return window.btoa(a)}:function(a){return a.replace(/[\s\S]{1,3}/g,g)},i=function(a){return h(f(a))},j=function(a,b){return b?i(a).replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,""):i(a)},k=function(a){return j(a,!0)},l=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,m=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),d=b-65536;return c(55296+(d>>>10))+c(56320+(1023&d));case 3:return c((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return c((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1))}},n=function(a){return a.replace(l,m)},o=function(a){var d=a.length,e=d%4,f=(d>0?b[a.charAt(0)]<<18:0)|(d>1?b[a.charAt(1)]<<12:0)|(d>2?b[a.charAt(2)]<<6:0)|(d>3?b[a.charAt(3)]:0),g=[c(f>>>16),c(f>>>8&255),c(255&f)];return g.length-=[0,0,2,1][e],g.join("")},p=window.atob?function(a){return window.atob(a)}:function(a){return a.replace(/[\s\S]{1,4}/g,o)},q=function(a){return n(p(a))},r=function(a){return q(a.replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};fish.Base64={fromBase64:r,toBase64:j,encode:j,encodeURI:k,decode:r}}(),function(){"use strict";function a(){var a=f.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""}function b(){var a,b,c,f,g,h=document.cookie;if(h!==e)for(e=h,a=e.split("; "),d={},c=0;c<a.length;c++)b=a[c],(f=b.indexOf("="))>0&&(g=decodeURIComponent(b.substring(0,f)),d[g]===undefined&&(d[g]=decodeURIComponent(b.substring(f+1))));return d}function c(){function b(a,b,d){var e,f;d=d||{},f=d.expires,e=_.isUndefined(d.path)?c:d.path,b===undefined&&(f="Thu, 01 Jan 1970 00:00:00 GMT",b=""),_.isString(f)&&(f=new Date(f));var g=encodeURIComponent(a)+"="+encodeURIComponent(b);g+=e?";path="+e:"",g+=d.domain?";domain="+d.domain:"",g+=f?";expires="+f.toUTCString():"",g+=d.secure?";secure":"";g.length;return g}var c=a();return function(a,c,d){document.cookie=b(a,c,d)}}var d={},e="",f=$(document).find("base");fish.cookies={get:function(a){return b()[a]},getObject:function(a){var b=this.get(a);return b?JSON.parse(b):b},set:function(a,b,d){c()(a,b,d)},setObject:function(a,b,c){this.set(a,JSON.stringify(b),c)},remove:function(a,b){this.set(a,undefined,b)}}}(),function(){function a(a){b();var c=$.extend({},t,a),h="["+c.regKey+"]:not([data-ui-role])",i=c.clickElems,l=c.inputElems;fish.pagePoint._opts=c,o=i.join(h+",")+"["+c.regKey+"]",p=l.join(h+",")+h,fish.config.set("pagePoint",!0),$(document).on("click dblclick",o,j),$(document).on("focus",p,e),$(document).on("change",p,j),$(document).on("keydown",p,f),c.sendPerformanceMsg&&(document.onreadystatechange=function(){if("complete"==document.readyState){if(q)return;d(),q=!0}},setTimeout(function(){q||(d(),q=!0)},2e3)),c.sendErrorMsg&&(window.onerror=function(a,b,c,d,e){var f=k(),h={eventType:"errorMsg",msg:a,url:b,line:c,col:d||"",ua:navigator.userAgent,errorStack:e?e.stack:""};g($.extend(h,f))})}function b(){fish.config.set("pagePoint",!1),$(document).off("click dblclick",o,j),$(document).off("focus",p,e),$(document).off("change",p,j),$(document).off("keydown",p,f),window.onerror=$.noop(),q=!1}function c(){var a=new Date,b=fish.dateutil.format(a,"yyyymmddhhiiss"),c=a.getMilliseconds();return c<10?c="00"+c:c<100&&(c="0"+c),b+c}function d(){var a={},b=window.performance.timing;if(0===b.loadEventEnd)return void setTimeout(function(){d()},1e3);var c=k();a.eventType="performanceMsg",a.redirectTime=b.redirectEnd-b.redirectStart,a.dnsTime=b.domainLookupEnd-b.domainLookupStart,a.ttfbTime=b.responseStart-b.navigationStart,a.appcacheTime=b.domainLookupStart-b.fetchStart,a.unloadTime=b.unloadEventEnd-b.unloadEventStart,a.tcpTime=b.connectEnd-b.connectStart,a.reqTime=b.responseEnd-b.responseStart,a.analysisTime=b.domComplete-b.domInteractive,a.blankTime=b.domLoading-b.fetchStart,a.domReadyTime=b.domContentLoadedEventEnd-b.fetchStart,a.loadTime=b.loadEventEnd-b.navigationStart,g($.extend(a,c))}function e(a){var b=a.target,c=$(b),d=c.val();c.data("origVal",d)}function f(a){13==a.keyCode&&j(a)}function g(){var a=window.console||{},b=a.log||fish.noop,c=!1,d=arguments[0],e=arguments[1],f=fish.pagePoint._opts.url;fish.pagePoint._opts.consoleLog||(a={},b=function(){});try{c=!!b.apply}catch(g){a.error(g)}f?fish.isUndefined(e)?h(f,d):j(d,e):c&&b.apply(a,arguments)}function h(a,b){var c=a;fish.isFunction(a)&&(c=a());var d=new Image,e="pagepoint_"+Date.now();d.onload=function(){delete window[e]},window[e]=d,d.src=c+"?"+$.param(b)}function i(a){for(var b={},c=fish.pagePoint._opts.regAttrs,d=0,e=a.length;d<e;d++)if(0===c.length)0==a[d].name.indexOf("data")&&(b[a[d].name]=a[d].value);else for(var f=0;f<c.length;f++)a[d].name===c[f]&&(b[a[d].name]=a[d].value);return b}function j(a,b){if(fish.config.get("pagePoint"))try{var c=a.currentTarget||a.target||a,d=$(c);c=c instanceof $?c[0]:c;var e=fish.pagePoint._opts.extData,f=k(),h=d.attr("id"),j=d.prop("tagName"),l=d.prop("checked"),m=d.attr("name"),o=d.attr("class"),p=n(c.innerText).substring(0,50),q=d.val(),r=a.keyCode,s=a.type,t=d.data("origVal"),u=c.attributes,v=i(u),w=a.clientX+window.document.body.scrollLeft+window.document.documentElement.scrollLeft,x=a.clientY+window.document.body.scrollTop+window.document.documentElement.scrollTop,y={id:h,tagname:j,keyCode:r,eventType:s,value:q,name:m,className:o,innerText:p,origValue:t,checked:l,clientX:w,clientY:x};$.extend(y,f,v,b,e),g(y)}catch(a){}}function k(){var a=window.navigator.userAgent,b=window.location.href,d=document.body.clientWidth,e=document.body.clientHeight,f=document.referrer;return{browser:a,url:b,screenWidth:d,screenHeight:e,pageTitle:document.title,referer:f,evtTime:c()}}function l(a){var b=fish.pagePoint._opts.extData;$.extend(b,a)}function m(a){fish.pagePoint._opts.extData={}}function n(a){if(!a)return"";try{return a.replace(/[\r\n]/g," ")}catch(b){}}var o="",p="",q=!1,r=["div","a","input[type = button]","input[type = submit]","input[type = reset]","span","button"],s=["input","textarea"],t={regKey:"data-reg-id",regAttrs:[],url:"",consoleLog:!0,sendPerformanceMsg:!0,sendErrorMsg:!0,extData:{},clickElems:r,inputElems:s};fish.pagePoint={_opts:{regKey:"data-reg-id",regAttrs:[],url:"",
consoleLog:!0,sendPerformanceMsg:!0,sendErrorMsg:!0,extData:{},clickElems:r,inputElems:s},startLog:a,stopLog:b,log:g,extendInfo:l,clearExtInfo:m,clctEleAttrs:j}}(),function(){"use strict";$.widget("ui.step",{options:{steps:[],finishedIcon:"",step:1,dataTextField:"name",interactive:!1,allFinished:!1},_create:function(){this.element.addClass("step-container"),this.$stepsHeader=$('<ul class="step-container-steps clearfix"></ul>'),this.$stepsProgress=$('<div class="step-progress"><p class="step-progress-bar"><span class="step-progress-highlight"></span></p></div>'),this.element.append(this.$stepsHeader);var a,b=this,c=this.options.steps;if(!fish.isEmpty(c)){var d=c.length,e=100/d;a=$(c).map(function(a,c){var d;d=fish.isObject(c)?c[b.options.dataTextField]:c;var f=$("<li></li>").attr("title",d),g=$("<span><span>").text(d),h=$('<p class="step-node"></p>').html(a+1).data("data-step-index",a);return f.append(g).append(h),f.css("width",e+"%"),f[0]}),this.$stepsHeader.append(a),this.options.interactive&&this.$stepsHeader.addClass("step-interaction"),this.$steps=a,this.$stepsProgress.find(".step-progress-bar").css({width:e*(d-1)+"%",margin:"0 "+e/2+"%"}),this.element.append(this.$stepsProgress),!0===this.options.allFinished&&this.setStep(this.$steps.length),this.setStep(this.options.step)}this._delegateEvent()},_delegateEvent:function(a){var b=this;this.options.interactive&&this._on(this.$steps,{"click .step-node":function(a){b.element.find(".active").removeClass("active").addClass("finished"),b.element.find(".select").removeClass("select"),$(a.currentTarget).parent().addClass("select active");var c=$(a.currentTarget).data("data-step-index");b.setStep(c+1),b._trigger("click",a,b.options.steps[c])}})},setStep:function(a){var b=this.$steps,c=this,d=this.$stepsProgress.find(".step-progress-highlight");if(!(a>=1&&a<=b.length))return!1;if(!0==!c.options.allFinished){var e,f=100/(b.length-1);e=1===a?f/2:f/2+(a-1)*f,d.css("width",e+"%"),b.removeClass()}else b.removeClass("active select");var g=this.getStep();b.each(function(b){if(b<a-1)$(this).addClass("finished"),c.options.finishedIcon&&!0==!c.options.allFinished&&$(this).find(".step-node").html('<span class="'+c.options.finishedIcon+'"></span>');else if(b===a-1){$(this).addClass("active finished select");var d=$(this).find(".step-node");0!==d.has("span").length&&d.html(a)}}),g!==a&&this._trigger("change",null,a),a===b.length&&this._trigger("finish")},getStep:function(){var a=this.$steps,b=0;return a.each(function(a){if($(this).hasClass("active"))return b=a+1,!1}),b},prevStep:function(){var a=this.getStep();return this.setStep(a-1),a-1},nextStep:function(){var a=this.getStep();return this.setStep(a+1),a+1},_destroy:function(){this.$stepsHeader.remove(),this.$stepsProgress.remove(),this.element.removeClass("step-container")}})}();