/*!
 * BME JavaScript Object: jBME
 * @created by h00142237 20100531 Huawei Technologies Co., Ltd
 */
;(function(){var global=this;var jBME=global.jBME=function(){this.global=global;return this};jBME.prototype={sample:undefined,getSample:function(){}};jBME.readyFunc=[];jBME.ready=function(func){if(jBME.lockReady){return}if(func==undefined){while(jBME.readyFunc.length>0){var f=jBME.readyFunc.shift();f()}}else{jBME.readyFunc.push(func)}};jBME.meta={cbme_clear:"cbme_clear",cbme_clear_item:"cbme_clear_item",cbme_disabled:"cbme_disabled",cbme_region_ignore:"cbme_region_ignore",cbme_selector:"cbme_selector",cbme_validator:"cbme_validator"};jBME.EVENT={};jBME.context={path:undefined,cid:undefined,isclosed:false,model:undefined,view:undefined,token:undefined,runtime:true};jBME.util={description:"Define common JavaScript functions in this package.",getURL:function(){return(jBME.context.cid?"business.action?BMECID="+jBME.context.cid+"&":"query.action?")+"BMETimestamp="+(new Date().getTime())+(jBME.context.token?"&BMEWebToken="+jBME.context.token:"")},objectLength:function(obj){var count=0;for(var i in obj){++count}return count},toString:function(object,name,includeFunc){name=(name||object);includeFunc=(includeFunc||false);var str=name+"{ ";for(var attr in object){if(typeof object[attr]=="function"&&!includeFunc){continue}str+=attr;str+=":";str+=object[attr];str+=", "}str+="}";return str},encodeId:function(id){return id.replace("[","\\[").replace("]","\\]").replace(".","\\.")},getIdSelector:function(idExp){idExp=jQuery.trim(idExp);if(idExp==""){return"noneTagSelector"}var selector="";var ids=idExp.split(",");for(var i=0;i<ids.length;++i){var id=jQuery.trim(ids[i]);selector+=(id==""?"noneTagSelector":"#"+this.encodeId(id));selector+=(",")}return selector},getElementsOrderBySelector:function(selector,context){var elements=[];var selectors=selector.split(",");for(var j=0;j<selectors.length;++j){var selectorj=jQuery.trim(selectors[j]);if(selectorj!=""){jQuery(selectorj,context).each(function(){elements.push(this)})}}return jQuery(elements)},replaceElementsById:function(selector,jqFromContext,jqToContext,callbackOneach){var elementsNew=[];this.getElementsOrderBySelector(selector,(jqToContext||document)).each(function(i){var jqElement=$(this);var jqElementNew=jqFromContext.find(jBME.util.getIdSelector(this.id));if(this!=jqElementNew[0]&&(false!==(callbackOneach?callbackOneach(this):true))){$(".bc_view").trigger("beforerender",this.id);jqElement.replaceWith(jqElementNew);elementsNew.push(jqElementNew[0])}});return $(elementsNew)},getNameByFunExp:function(functionExpresion){functionExpresion=(functionExpresion||"");var iarg=functionExpresion.indexOf("(");if(iarg<=0){return jQuery.trim(functionExpresion)}return jQuery.trim(functionExpresion.substring(0,iarg))},getArgsByFunExp:function(functionExpresion){functionExpresion=(functionExpresion||"");var iarg=functionExpresion.indexOf("(");if(iarg<0){return[]}function getArguments(){return arguments}var callExpression="getArguments"+functionExpresion.substring(iarg);var argumentArrayObject=[];try{argumentArrayObject=(eval(callExpression)||[])}catch(e){}var argumentArray=new Array(argumentArrayObject.length);for(var i=0;i<argumentArrayObject.length;++i){argumentArray[i]=argumentArrayObject[i]}return argumentArray},isDisabled:function(element){var jq=jQuery(element);return element&&(jq.hasClass(jBME.meta.cbme_disabled)||jq.is("[disabled]"))},setDisabled:function(element,disabled){if(element){jQuery(element).toggleClass(jBME.meta.cbme_disabled,disabled)}}};jBME.vars={description:"Save var in this package."};jBME.Fire={description:"Define Fire(client-service) support JavaScript functions in this package."};jBME.theme={description:"Define theme support JavaScript functions in this package."};jBME.validate={description:"Define validate support JavaScript functions in this package.",setResult:function(id,status,tips){var jq=jQuery("#"+id);if(!jq.hasClass(jBME.meta.cbme_validator)){jq=jq.find(".cbme_validator")}if(status==undefined){jq.removeAttr("vStatus")}else{jq.attr("vStatus",status).attr("vMsg",tips)}}};jBME.web={response:{head:"{BMEResult:",tail:"HEAD-END",example:"{BMEResult:{validation:'fail',exception:true}}HEAD-END\nfunction(){//javascript codes;}  or HTML text."},parseResponse:function(responseText){responseText=responseText.replace(/(^\s*)/g,"");var response={head:jBME.web.response.head,body:responseText,result:{},hasStrutsException:function(){return this.result.strutsException},hasException:function(){return this.result.exception},hasError:function(){return this.result.error},passValidate:function(){return this.result.validation!="fail"}};var iTail=responseText.indexOf(jBME.web.response.tail);if((response.head==responseText.substr(0,response.head.length))&&iTail>0){response.head=responseText.substring(0,iTail);var jsonObj=eval("("+response.head+")");response.result=(jsonObj.BMEResult||{});response.body=((iTail<responseText.length)?responseText.substring(iTail+jBME.web.response.tail.length,responseText.length):"")}return response},isnavigating:false,navigate:function(url){this.isnavigating=true;window.location.replace(url)}};jQuery(document).ready(function($){jBME.ready();var jqView=jQuery(".bc_view");jqView.trigger("load");jQuery(document.body).onLoadHelp();var jqWin=jQuery(window);jqWin.bind("beforeunload.bme unload.bme",function(event){if(event.type=="beforeunload"){jqWin.unbind("unload.bme")}event.type="unload";jqView.trigger(event);if(event.isDefaultPrevented()){return false}var ignore=jBME.web.isnavigating;ignore|=(parent!=self&&parent.jBME&&parent.jBME.context.cid==jBME.context.cid);ignore|=(window.frameElement&&frameElement.popWindow&&frameElement.popWindow.jBME&&frameElement.popWindow.jBME.context.cid==jBME.context.cid);if(!ignore){jqWin.closeConversation()}})})})();(function(){jBME.FireTag=function(id,parentid,event,mode){this.init();this.setId(id||("FireTag_"+(new Date().getTime())));this.setParentid(parentid||"");this.setEvent(event||"click");this.setMode(mode||"");this.setModel(jBME.context.model);this.setView(jBME.context.view);return this};jBME.FireTag.prototype={id:"",jqFire:undefined,setId:function(id){this.id=id;this.jqFire=jQuery("#"+id);if(this.jqFire.length==0){this.jqFire=jQuery('<div id="'+this.id+'" class="bc_fire"></div>')}this.jqFire.data("FireTag",this)},parentid:"",setParentid:function(parentid){this.parentid=parentid},event:"",setEvent:function(event){this.event=(event||"").replace(","," ")},mode:"",setMode:function(mode){this.mode=mode;if(this.mode!=undefined){this.options.data["bmeEvent.mode"]=mode}},bindid:undefined,setBindid:function(bindid){this.bindid=bindid},getRealBindids:function(){return jQuery(this.bindid?this.bindid.split(","):jBME.Fire.util.getFireAgents(this.parentid))},getBinders:function(){var binders=[];var bindids=this.getRealBindids();for(var i=0;i<bindids.length;++i){var idselector=jBME.util.getIdSelector(bindids[i]);var jq=((idselector.indexOf("#popwin_")>=0)?jQuery(window.frameElement,parent.document).closest(".popwin").find(idselector):jQuery(idselector));if(jq.length>0){binders.push(jq[0])}}return jQuery(binders)},regionid:undefined,regionSelector:"#body",setRegionid:function(regionid){this.regionid=regionid;if(regionid!=undefined){this.regionSelector=jBME.util.getIdSelector(regionid);this.options.data["bmeEvent.regionid"]=regionid}else{this.regionSelector=document;delete this.options.data["bmeEvent.regionid"]}},targetid:undefined,targetSelector:"dummytag",setTargetid:function(targetid){this.targetid=targetid;if(targetid!=undefined){this.targetSelector=jBME.util.getIdSelector(targetid);this.options.data["bmeEvent.targetid"]=targetid}else{this.targetSelector="dummytag";delete this.options.data["bmeEvent.targetid"]}},validation:true,setValidation:function(validation){this.validation=validation;if(validation!=undefined){this.options.data["bmeEvent.validation"]=(""+validation)}},service:undefined,setService:function(service){this.service=service},syncServiceArgs:function(){delete this.options.data["bmeEvent.service"];delete this.options.data.BMEParam;if(this.service!=undefined){this.options.data["bmeEvent.service"]=jBME.util.getNameByFunExp(this.service);var argumentsArray=jBME.util.getArgsByFunExp(this.service);if(argumentsArray&&argumentsArray.length>0){this.options.data.BMEParam=argumentsArray}}return this},targetstep:undefined,setTargetstep:function(targetstep){this.targetstep=targetstep;if(targetstep!=undefined){this.options.data["bmeEvent.targetstep"]=targetstep}},sourceid:undefined,setSourceid:function(sourceid){this.sourceid=sourceid;if(sourceid!=undefined){this.options.data["bmeEvent.sourceid"]=sourceid}},view:undefined,setView:function(view){this.view=view;if(view!=undefined){this.options.data["bmeEvent.view"]=view}},model:undefined,setModel:function(model){this.model=model;if(model!=undefined){this.options.data["bmeEvent.model"]=model}},setExport:function(export_){this.dynattr["export"]=export_;if(export_!=undefined){this.options.data["bmeEvent.export"]=export_}},monitor:true,setMonitor:function(monitor){this.monitor=monitor},popup:undefined,setPopup:function(title,width,height){this.popup={title:title,width:width,height:height}},onbefore:undefined,setOnbefore:function(onbefore){this.onbefore=onbefore},callOnbefore:function(){var result=(this.onbefore instanceof Function?this.onbefore.apply(this):eval(this.onbefore));if(this.jqFire&&result!==false){this.jqFire.triggerHandler("before")}return result},script:undefined,setScript:function(script){this.script=script},callScript:function(){return(this.script instanceof Function?this.script.call(this):eval(this.script))},onresponse:undefined,setOnresponse:function(onresponse){this.onresponse=onresponse},callOnresponse:function(response){var result=(this.onresponse instanceof Function?this.onresponse.call(this,response):eval(this.onresponse));if(this.jqFire&&result!==false){this.jqFire.triggerHandler("response")}return result},oneach:undefined,setOneach:function(oneach){this.oneach=oneach},callOneach:function(target){var result=(this.oneach instanceof Function?this.oneach.call(this,target):eval(this.oneach));if(this.jqFire&&result!==false){this.jqFire.triggerHandler("each")}return result},onerror:undefined,setOnerror:function(onerror){this.onerror=onerror;if(onerror!=undefined){this.options.data["bmeEvent.errorMode"]=onerror}},callOnerror:function(jFireTag,response){var errorStr=jFireTag.onerror;if(errorStr==undefined){var modeStr=jFireTag.mode;if(modeStr=="render"||modeStr=="export"||modeStr=="validate"||modeStr=="webutil"){errorStr="popup"}}if(errorStr instanceof Function){errorStr.call(this)}else{if(errorStr=="popup"){var jFireTagRender=new jBME.FireTag();jFireTagRender.setMode("popup");jFireTagRender.setRegionid("");jFireTagRender.setTargetid("");jFireTagRender.popup=(this.popup||{title:response.result.poptitle,width:500,height:350});jFireTagRender.setValidation(false);jBME.Fire.execute(jFireTagRender)}else{var url=jFireTag.options.url;jBME.web.navigate(url)}}},onafter:undefined,setOnafter:function(onafter){this.onafter=onafter},callOnafter:function(){var result=(this.onafter instanceof Function?this.onafter.call(this):eval(this.onafter));if(this.jqFire&&result!==false){this.jqFire.triggerHandler("after")}},dynattr:undefined,jEvent:undefined,postdata:undefined,toString:function(){return jBME.util.toString(this,"jBME.FireTag")},options:undefined,init:function(){this.options={url:jBME.util.getURL(),type:"post",cache:false,data:{BMEClear:[],BMEClearItem:[]},dataType:"text",beforeSubmit:function(data,jqRegion,options){return true},success:function(responseText,statusText,xhr){},error:function(xhr,textStatus,errorThrown){}};this.dynattr=[]}}})();jBME.Fire.util={agent:"jBME.Fire.util.agent",addFireAgent:function(c,a){var b=jQuery("#"+c);if(b.length==0){return}if(b.data(jBME.Fire.util.agent)==undefined){b.data(jBME.Fire.util.agent,[])}b.data(jBME.Fire.util.agent).push(a);if(b.hasClass(jBME.meta.cbme_disabled)){jQuery("#"+a).addClass(jBME.meta.cbme_disabled)}},appendPresetFireAgents:function(b,a){if(b.hasClass("bc_field")){jQuery(":input",b).each(function(){if(!a[this.id]){a.push(this.id);if(jBME.util.isDisabled(b[0])){jBME.util.setDisabled(this,true)}}})}},getFireAgents:function(e,c){c=(c||[]);var d=jQuery("#"+e);var b=(d.data(jBME.Fire.util.agent)||[]);this.appendPresetFireAgents(d,b);if(b.length==0&&!c[e]){c.push(e)}for(var a=0;a<b.length;++a){if(e==b[a]){c.push(e)}else{this.getFireAgents(b[a],c)}}return c},setRegionValidateSuccess:function(a){jQuery(a.regionSelector).getInputs().each(function(){if(jBME.util.objectLength($(this).rules())>0){jBME.validate.setResult(this.id,"success","")}})}};(function(){jBME.Fire.Mode=function(mode){this.mode=mode;this.init();this.SUPER=jBME.Fire.Mode.prototype;return this};jBME.Fire.Mode.register=function(func){if(func instanceof Function){func.apply()}};jBME.Fire.Mode.prototype={mode:"anonymous",init:function(){jBME.Fire.Mode[this.mode]=this},execute:function(jFireTag,jEvent){this.onInit(jFireTag,jEvent);if(jEvent&&jBME.util.isDisabled(jEvent.currentTarget)){return false}if(this.canExecute(jFireTag)===false){return false}var jqRegion=jQuery(jFireTag.regionSelector);var jqInputs=jqRegion.getInputs();if(this.onBefore(jFireTag,jqInputs)===false){return false}var options=jQuery.extend(true,{},jFireTag.syncServiceArgs().options);options.data=jQuery.extend(jFireTag.postdata,options.data);this.onVisit(jFireTag,jqInputs,options.data);jFireTag.callScript();this.onLock(jFireTag);jqRegion.ajaxRegionSubmit(options)},onInit:function(jFireTag,jEvent){var jMode=this;jFireTag.options.success=function(responseText,statusText,xhr){jMode.onResponse(jFireTag,responseText,statusText,xhr)};jFireTag.options.error=function(xhr,statusText,thrownError){jMode.onError(jFireTag,xhr,statusText,thrownError)};jFireTag.postdata={};if(jEvent!=undefined){if(jEvent.postdata){jFireTag.postdata=jEvent.postdata}else{jEvent.postdata=jFireTag.postdata}jFireTag.jEvent=jEvent;window.jEvent=jEvent}},lockTarget:undefined,onLock:function(jFireTag){if(jFireTag.jEvent){this.lockTarget=jFireTag.jEvent.currentTarget;jBME.util.setDisabled(this.lockTarget,true)}if(jFireTag.monitor){jBME.theme.block.on(jFireTag)}},onUnlock:function(jFireTag){if(jFireTag.monitor){jBME.theme.block.off(jFireTag)}if(jFireTag.jEvent&&this.lockTarget){jBME.util.setDisabled(this.lockTarget,false);this.lockTarget=undefined}},canExecute:function(jFireTag){return true},onBefore:function(jFireTag,jqInputs){if(jFireTag.validation&&!jqInputs.valid(true)){return false}if(jFireTag.callOnbefore()===false){return false}},onVisit:function(jFireTag,jqInputs,data){for(var i=0,max=jqInputs.length;i<max;++i){var element=jqInputs[i];this.onVisitElement(jFireTag,element,data)}},onVisitElement:function(jFireTag,element,data){var jqElement=jQuery(element);jqElement.trigger({type:"beforesubmit",postdata:data});if(jqElement.hasClass(jBME.meta.cbme_clear)&&!data.BMEClear[element.name]){data.BMEClear[element.name]=true;data.BMEClear.push(element.name)}if(jqElement.hasClass(jBME.meta.cbme_clear_item)){var clearItem=jqElement.attr("orgName")+":"+jqElement.val();if(!data.BMEClearItem[clearItem]){data.BMEClearItem[clearItem]=true;data.BMEClearItem.push(clearItem)}}},onError:function(jFireTag,xhr,statusText,thrownError){this.onUnlock(jFireTag)},onResponse:function(jFireTag,responseText,statusText,xhr){var response=jBME.web.parseResponse(responseText);var branchResult=undefined;if(jFireTag.callOnresponse(response)!==false){this.onResponseValidateResult(jFireTag,response);if(response.hasStrutsException()){branchResult=this.onResponseStrutsException(jFireTag,response)}else{if(response.hasException()){branchResult=this.onResponseException(jFireTag,response)}else{if(response.hasError()){branchResult=this.onResponseError(jFireTag,response)}else{if(response.passValidate()){branchResult=this.onResponseSuccess(jFireTag,response)}else{branchResult=this.onResponseFailed(jFireTag,response)}}}}}this.onUnlock(jFireTag);if(branchResult!==false){this.onAfter(jFireTag)}},onResponseValidateResult:function(jFireTag,response){if(jFireTag.validation){if(response.passValidate()){jBME.Fire.util.setRegionValidateSuccess(jFireTag)}else{if(!response.hasException()){try{eval(response.body)}catch(e){}}}jBME.theme.validate.doAfter(jQuery(jFireTag.regionSelector).getInputs())}},onResponseSuccess:function(jFireTag,response){},onResponseFailed:function(jFireTag,response){return false},onResponseError:function(jFireTag,response){jFireTag.callOnerror(jFireTag,response);return false},onResponseException:function(jFireTag,response){jFireTag.callOnerror(jFireTag,response);return false},onResponseStrutsException:function(jFireTag,response){if(response.result.errorMode=="popup"){jQuery.popwin.model(response.result.poptitle,"exceptionProcessor.action","600px","350px")}else{jBME.web.navigate("exceptionProcessor.action")}return false},onAfter:function(jFireTag){jFireTag.callOnafter();window.jEvent=undefined;jFireTag.jEvent=undefined;jFireTag.postdata=undefined}}})();(function(){jBME.Fire.execute=function(a,c){var b=jBME.Fire.Mode[a.mode];if(b instanceof jBME.Fire.Mode){b.execute(a,c)}};jBME.Fire.bind=function(a){a.getBinders().bind(a.event,function(b){jBME.Fire.execute(a,b)})}})();(function(){jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("validate");a.canExecute=function(b){b.setTargetid("")}});jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("render");a.onResponseSuccess=function(c,b){var e=jQuery("<div>"+b.body+"</div>");var d=jBME.util.replaceElementsById(c.targetSelector,e,document,function(f){return c.callOneach(f)});jBME.ready();d.onLoadHelp()}});jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("export");a.canExecute=function(b){b.setTargetid("")};a.onResponseSuccess=function(c,b){var d=$("#bmefile");if(d.size()>0){d.remove()}var e="download.action?bmeEvent.filename="+b.body+"&BMETimestamp="+(new Date().getTime())+"&BMEWebToken="+jBME.context.token;d=$('<iframe id="bmefile" src="'+e+'"/>');d.css({position:"absolute",top:"-1000px",left:"-1000px"});d.appendTo("body")}});jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("widget");a.onError=function(b,g,f,d){this.SUPER.onError.apply(this,arguments);var e=b.dynattr.jqWidgetPad;if(e){var c=jQuery("label",e);c.text(g.status+" "+g.statusText);c.toggle();e.attr("title",b.view);e.html(c)}};a.onResponseSuccess=function(d,c){if(d.targetid){jBME.Fire.Mode.render.onResponseSuccess.apply(this,arguments)}else{if(d.dynattr.jqWidgetPad){var e=d.dynattr.jqWidgetPad;var b=jQuery(c.body).filter(".page");e.replaceWith(b);jBME.ready();b.onLoadHelp()}}}});jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("navigate");a.onResponseSuccess=function(c,b){if(c.targetid!=undefined){jQuery.post(c.options.url,{},function(d){jQuery(c.targetSelector).replaceWith(d);jBME.ready();a.onAfter(c)},"text");return false}else{jBME.web.navigate(c.options.url)}}});jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("popup");a.onResponseSuccess=function(d,c){jQuery.popwin.firePopup(d.popup.title,d.options.url,b,d.popup.width,d.popup.height);function b(e){e=(e||[]);var f=e[0];var g=e[1];if(g){a.onResponseStrutsException(f,g);return false}if(f&&(f.targetid||d.targetid)){var h=new jBME.FireTag();h.setMode("render");h.setRegionid("");h.setValidation(false);h.setTargetid(f.targetid||d.targetid);h.setOneach(f.oneach);h.setOnafter(function(){a.onAfter(d)});jBME.Fire.execute(h)}else{a.onAfter(d)}}return false}});jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("popin");a.onResponseStrutsException=function(c,b){jQuery.popwin.closeSelect(arguments);return false};a.onAfter=function(b){this.SUPER.onAfter.apply(this,arguments);jQuery.popwin.closeSelect(arguments)}});jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("webutil");a.canExecute=function(b){b.setTargetid("")}});jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("client");a.callService=function(b){if(b.service){var c=new Function("var f=this."+b.service+"\n; if(f instanceof Function){f.call(this);}");var d=$(b.targetSelector);if(d.size()>0){d.each(function(){if(b.callOneach(this)!==false){c.call($(this))}})}else{c.call($target)}}};a.execute=function(b,c){this.onInit(b,c);if(c&&jBME.util.isDisabled(c.currentTarget)){return false}if(b.callOnbefore()!==false){b.callScript();this.callService(b);b.callOnafter()}}})})();jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("sampleCustomMode")});(function(a){jQuery.fn.bmeClientServiceSample=function(){alert('This is the sample of BME Client Service Definition.\n1) "jQuery.fn" means jQuery.prototype\n2) "bmeClientServiceSample" is Client Service name\n3) "this" object point to jQuery("...") object.\n');return this};jQuery.fn.closeConversation=function(){if(jBME.context.cid&&!jBME.context.isclosed){var b=new jBME.FireTag();b.setMode("webutil");b.setService("closeConversation()");b.setValidation(false);b.setMonitor(false);b.setRegionid("");b.setTargetid("");b.options.url+="&BMECIDClosing=1";jBME.context.isclosed=true;jBME.Fire.execute(b)}return this}})(jQuery);(function(){jBME.ComboBox=function(a){this.attach(a);return this};jBME.ComboBox.DROPDOWN_MIN_HEIGHT=50;jBME.ComboBox.DROPDOWN_MAX_HEIGHT=undefined;jBME.ComboBox.prototype={jqCombo:undefined,jqSelect:undefined,jqDrop:undefined,dropPoper:undefined,jqFirstCheck:undefined,attach:function(a){this.jqCombo=jQuery(jBME.util.getIdSelector(a)).filter(".bc_combobox");this.jqSelect=jQuery(".bc_combobox_select",this.jqCombo);this.jqDrop=jQuery(".bc_combobox_dropdown",this.jqCombo);this.dropPoper=new jBME.Poper(this.jqDrop);this.jqFirstCheck=this.jqDrop.find(":checkbox:first");this.updateSelectText(true);this.updatePosition();this.activate()},activate:function(){var a=this;this.jqSelect.bind("click",function(b){if(jBME.util.isDisabled(a.jqCombo)){return}if(a.jqDrop.is(":hidden")){a.updatePosition()}a.dropPoper.toggle(a.jqSelect)});jQuery(document).bind("click",function(b){if(a.jqDrop.is(":visible")&&$(b.target).closest(".bc_combobox_select")[0]!=a.jqSelect[0]){if(b.pageX>=a.jqDrop.offset().left&&b.pageX<=(a.jqDrop.offset().left+a.jqDrop.outerWidth())&&b.pageY>=a.jqDrop.offset().top&&b.pageY<=(a.jqDrop.offset().top+a.jqDrop.outerHeight())){return}a.dropPoper.hide()}});jQuery(":checkbox",this.jqDrop).bind("click",function(b){$(this).valid();a.updateSelectText();b.stopPropagation()});jQuery(".bc_comboboxitem",this.jqDrop).bind("click",function(c){var b=jQuery(this).find(":checkbox");b.attr("checked",!b.attr("checked"));b.valid();a.updateSelectText()})},updatePosition:function(){this.jqDrop.width(this.jqSelect.outerWidth()-3);if(jQuery(":checkbox",this.jqDrop).length==0){this.jqDrop.height(jBME.ComboBox.DROPDOWN_MIN_HEIGHT)}},updateSelectText:function(a){var c=this;var b="";jQuery(":checked",c.jqDrop).each(function(e){var d=jQuery("#"+this.id+"_text",c.jqDrop);if(b!=""){b+=","}b+=d.text()});this.jqSelect.find(":input").val(b);if(a){this.jqSelect.find(":input").attr("defaultValue",b)}}}})();(function(){jBME.Pagenation=function(b,a){this.loopSupportID=b;this.pageID=this.getPageID();this.pagenationObj=$("#"+this.pageID);this.curPageObj=$("#"+this.pageID+"_curPage");this.totalPageObj=$("#"+this.pageID+"_totalPage");this.gotoObj=$("#"+this.pageID+"_goto");this.service=a;this.init();return this};jBME.Pagenation.prototype={pageID:"",loopSupportID:"",pagenationObj:"",curPageObj:"",totalPageObj:"",gotoObj:"",service:"",getPageID:function(){return $("#"+this.loopSupportID).find(".bc_pagenation").attr("id")},bindPageEvent:function(a,d,c){var b=new jBME.FireTag("",a,d,"loadPageData");b.setRegionid(this.loopSupportID);b.setTargetid(this.loopSupportID);b.setService(this.service);b.pageID=this.pageID;b.pagenation=this;b.bindObj=$("#"+a);b.prepareFunc=c;jBME.Fire.bind(b)},setFirstPage:function(a){a.curPageObj.val("1");return true},setPreviousPage:function(a){a.curPageObj.val(Number(a.curPageObj.val())-1);return true},setNextPage:function(a){a.curPageObj.val(Number(a.curPageObj.val())+1);return true},setLastPage:function(a){a.curPageObj.val(a.totalPageObj.val());return true},setGotoPage:function(a){if(0==Number(a.totalPageObj.val())){return false}var b=Number(a.gotoObj.val());if(b<1){a.curPageObj.val("1");return true}if(b>Number(a.totalPageObj.val())){a.curPageObj.val(a.totalPageObj.val());return true}a.curPageObj.val(b);return true},init:function(){this.bindPageEvent(this.pageID+"_first","click",this.setFirstPage);this.bindPageEvent(this.pageID+"_previous","click",this.setPreviousPage);this.bindPageEvent(this.pageID+"_next","click",this.setNextPage);this.bindPageEvent(this.pageID+"_last","click",this.setLastPage);this.bindPageEvent(this.pageID+"_goto","change",this.setGotoPage);this.bindPageEvent(this.pageID+"_recordPerPage","change");$("#"+this.pageID+"_goto").bind("keypress",function(a){var b=a.which;if(!((b>=48&&b<=57)||b==8||b==13)){a.preventDefault();return false}})}}})();jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("loadPageData");a.canExecute=function(b){if(b.bindObj.hasClass("paginate_disabled_first")||b.bindObj.hasClass("paginate_disabled_previous")||b.bindObj.hasClass("paginate_disabled_next")||b.bindObj.hasClass("paginate_disabled_last")){return false}if(b.prepareFunc){return b.prepareFunc(b.pagenation)}};a.onResponseSuccess=function(e,b){var d=jBME.Fire.Mode.render.onResponseSuccess.apply(this,arguments);var c=new jQuery.Event("after");c.stopPropagation();$("#"+e.pagenation.getPageID()).trigger(c);return d}});jBME.Fire.Mode.register(function(){var a=new jBME.Fire.Mode("updateBigTable");a.onResponseSuccess=function(d,c){var b=$(c.body);var g=$(d.bigTable.tableBodySelector,b);var f=$("#"+d.bigTable.tableID+"_totalNo",b);var e=Number(f.val());d.bigTable.saveToCache(e,g);d.bigTable.from=d.from;d.bigTable.to=d.to;d.bigTable.showCache();d.bigTable.loading=false;d.bigTable.judgeAndGetNewData();jBME.ready()}});(function(){jBME.BigTable=function(c,a,b){this.service=a;this.tableID=c;this.tableBodySelector="#"+c+"_tbody";this.container=$("#"+c);this.tableObj=$("#"+c+"_table");this.tableOuter=this.tableObj.parent();this.scrollObj=this.container.find("div.bigtable_scrollbar:eq(0)");this.scrollInnerObj=this.scrollObj.find("div:eq(0)");this.tableHeadObj=$("#"+c+"_head");this.tableBodyObj=$(this.tableBodySelector,this.container);this.cols=this.tableHeadObj.find("th").length;this.rowH=this.tableBodyObj.find("tr:eq(0)").outerHeight();this.scrollFocus=false;this.perNo=10;this.cacheScreenNo=3;this.cacheNo=this.perNo*(this.cacheScreenNo*2+1);this.from=0;this.to=this.from+this.cacheNo+1;this.topNo=0;this.totalNo=Number($("#"+c+"_totalNo").val());this.loading=false;this.curIDArr=b;this.tdValueArr=[];this.curTdArr=[];this.init();return this};jBME.BigTable.prototype={saveCurTd:function(){var c=this.tableBodyObj.children("tr");for(var b=0;b<this.perNo;b++){var a=$(c[b]).children("td");this.curTdArr.push(a)}},saveToCache:function(a,c){this.totalNo=a;this.tdValueArr.length=0;if(0!=a){var e=c.children("tr");this.to=this.from+e.length;for(var b=0;b<e.length;b++){var f=$(e[b]).children("td");var h=new Array();f.each(function(){h.push($(this).html())});this.tdValueArr.push(h)}for(var g=0;g<(this.perNo-e.length);g++){var j=$(e[0]).clone();var d=0;j.children("td").each(function(){var i="&nbsp;";if(0==d){i="<label class='bc bc_label'>&nbsp;</label>"}d++;$(this).html(i)});j.appendTo(c)}}},showCache:function(){for(var b=0;b<this.tableBodyRowArr.length;b++){if(this.topNo+b>=this.to){break}var c=this.tdValueArr[this.topNo+b-this.from];if(!c){this.curTdArr[b].each(function(){this.innerHTML="&nbsp;"});this.curTdArr[b][0].innerHTML="<label class='bc bc_label'>loading</label>";return}for(var a=0;a<this.cols;a++){this.curTdArr[b][a].innerHTML=c[a]}}},init:function(){this.saveToCache(this.totalNo,this.tableBodyObj);this.saveCurTd();if(this.totalNo>this.perNo){$("tr",this.tableBodyObj).slice(this.perNo).remove()}this.tableBodyRowArr=this.tableBodyObj.children("tr");this.scrollBar();this.scrollInnerObj.height(this.totalNo*this.rowH)},scrollBar:function(){var b=this;this.scrollObj.bind("scroll",function(){b.scrollHandler(b)});var c=this.tableHeadObj.height();var a=this.tableObj.outerHeight();this.scrollObj.css({height:(a-c)+"px","margin-top":(c+2)+"px"});this.tableOuter.css({"margin-top":-a+"px"});this.tableOuter.bind("mouseover",function(){b.scrollFocus=true});this.tableOuter.bind("mouseout",function(){b.scrollFocus=false});if(document.addEventListener){this.tableObj.context.addEventListener("DOMMouseScroll",function(d){return b.scrollFunc(d,b)},false)}else{window.onmousewheel=document.onmousewheel=function(d){b.scrollFunc(d,b)}}if($.browser.msie){this.tableOuter.css({width:(this.scrollObj.width()-16)+"px"});this.scrollObj.bind("resize",function(){this.tableOuter.width(this.scrollObj.width()-16)})}},scrollHandler:function(b){var a=parseInt(b.scrollObj.scrollTop()/b.scrollInnerObj.height()*(b.totalNo));b.topNo=a;if(b.judgeAndGetNewData()){return}b.showCache()},judgeAndGetNewData:function(){if(!this.needNewData()){return false}var b=this.topNo-this.perNo*3-1;if(b<0){b=0}var a=b+this.cacheNo;if(a>this.totalNo){a=this.totalNo}this.getNewData(b,a);return true},scrollFunc:function(d,c){if(!c.scrollFocus){return}d=d||window.event;if($.browser.mozilla&&d.stopPropagation){d.preventDefault();if(!d.stopPropagation()){d.cancelBubble=true;d.returnValue=false}}var b=0;if(d.wheelDelta){b=d.wheelDelta*-0.25}else{if(d.detail){b=d.detail*10}}var a=c.scrollObj.scrollTop()+b;c.scrollObj.scrollTop(a);return false},setLockScreen:function(){},refreshData:function(){this.getNewData(this.from,this.to)},needNewData:function(){if(this.loading){return false}if(this.topNo<this.from){return true}if((this.topNo+this.perNo)>this.to){return true}return false},getNewData:function(c,b){var a=new jBME.FireTag("",this.tableID,"click","updateBigTable");a.setRegionid(this.tableID+"_foot");a.setTargetid(this.tableID);a.setService(this.service+"('"+c+"', '"+b+"')");a.bigTable=this;a.from=c;a.to=b;jBME.Fire.execute(a);this.loading=true},getCurIDArr:function(){return this.curIDArr}}})();(function(){jBME.DblSelectbox=function(a){this.attach(a);return this};jBME.DblSelectbox.prototype={jqSubmit:undefined,jqLeft:undefined,jqRight:undefined,attach:function(b){this.jqSubmit=jQuery(jBME.util.getIdSelector(b+"_submit"));this.jqLeft=jQuery(jBME.util.getIdSelector(b+"_left"));this.jqRight=jQuery(jBME.util.getIdSelector(b+"_right"));var a=this;this.jqLeft.bind("dblclick",function(){a.moveToRight()});this.jqRight.bind("dblclick",function(){a.moveToLeft()});this.copyToSubmit()},copyToSubmit:function(){var a=this;a.jqSubmit.empty();jQuery("option",this.jqRight).each(function(){$(this).clone().appendTo(a.jqSubmit).attr("selected","selected")});this.adjustSize()},adjustSize:function(){this.jqLeft.css("width","auto");this.jqRight.css("width","auto");this.jqLeft.css("width","100%");this.jqRight.css("width","100%")},moveUp:function(){var a=jQuery("option:selected",this.jqRight);if(0==a.length){return}if(0==a.first().prev().length){return}a.each(function(){var b=$(this);b.insertBefore(b.prev())});this.adjustSize()},moveDown:function(){var c=jQuery("option:selected",this.jqRight);if(0==c.length){return}if(0==c.last().next().length){return}for(var b=c.length-1;b>=0;b--){var a=$(c.get(b));a.insertAfter(a.next())}this.adjustSize()},moveToRight:function(){this.moveSelected(this.jqLeft,this.jqRight)},moveToLeft:function(){this.moveSelected(this.jqRight,this.jqLeft)},moveAllToRight:function(){this.moveAll(this.jqLeft,this.jqRight)},moveAllToLeft:function(){this.moveAll(this.jqRight,this.jqLeft)},moveSelected:function(d,a){var c=this;var b=jQuery("option:selected",d);if(0==b.length){return}b.each(function(){$(this).appendTo(a)});this.copyToSubmit()},moveAll:function(d,a){var c=this;var b=jQuery("option",d);if(0==b.length){return}b.each(function(){$(this).appendTo(a)});this.copyToSubmit()}}})();(function(){function f(p){p.css("left",document.documentElement.scrollLeft);p.css("top",document.documentElement.scrollTop);p.width(document.documentElement.offsetWidth);p.height(document.documentElement.offsetHeight)}function n(){var p=$("body");jqMask=$("<div class='bf_mask'></div>");p.append(jqMask);$(window).bind("resize.mask",function(){f(jqMask)});jqMask.css("z-index",999);return jqMask}function j(p){if(!p.mask){return}if(undefined==p.jqMask){p.jqMask=n()}f(p.jqMask);p.jqMask.show()}function h(p){if(undefined==p.jqMask){return}p.jqMask.remove();p.jqMask=undefined}function d(p){if(undefined!=p.jqAfterWrap){return}p.jqAfterWrap=p.jqPop;if(undefined==p.wrapperFunc){p.jqAfterWrap.appendTo("body");p.jqAfterWrap.css("z-index",999);return}if(undefined==p.jqWrapper){p.jqWrapper=p.wrapperFunc.apply()}p.jqPop.css("position","static");p.jqPop.show();jBME.lockReady=true;p.jqPop.appendTo(p.jqWrapper.jqContent);jBME.lockReady=false;p.jqAfterWrap=p.jqWrapper}function o(p){if(undefined==p.jqPopFrom){return}p.popFromInfo=b(p.jqPopFrom)}function m(p){d(p);o(p);g(p);var r=i();var q=$.extend(true,{},p.popFromInfo);a(p,q,r);l(p,q,r);p.jqAfterWrap.css({left:q.left+"px",top:q.top+"px"});p.jqAfterWrap.show();p.jqAfterWrap.fixSelectorBug()}function k(p){if(undefined==p.jqAfterWrap){return}p.jqAfterWrap.hide();p.jqPop.hide();p.jqPop.css("position","absolute");if(undefined!=p.jqPopParent){jBME.lockReady=true;p.jqPop.appendTo(p.jqPopParent);jBME.lockReady=false}if(undefined!=p.jqWrapper){p.jqWrapper.jqContent.empty();p.jqWrapper.remove();p.jqWrapper=undefined}p.jqAfterWrap=undefined}function e(){return{left:0,top:0,right:0,bottom:0}}function c(){return{left:0,top:0,width:0,height:0}}function i(){var q=document.documentElement;var p=document.body;return{scrollTop:q.scrollTop+p.scrollTop,scrollHeight:q.scrollHeight,scrollLeft:q.scrollLeft+p.scrollLeft,scrollWidth:q.scrollWidth,offsetHeight:q.offsetHeight,offsetWidth:q.offsetWidth}}function b(q){jqObj=$(q);var p=c();p.left=jqObj.offset().left;p.top=jqObj.offset().top;p.width=jqObj.outerWidth();p.height=jqObj.outerHeight();return p}function g(q){var r=q.jqAfterWrap.is(":hidden");q.jqAfterWrap.css("left","-1000px");q.jqAfterWrap.show();if(undefined!=q.jqWrapper){var s=q.jqWrapper.jqContent;var p=s.outerWidth(true)-s.width();q.jqAfterWrap.width(s.width()+p)}q.popWidth=q.jqAfterWrap.outerWidth();q.popHeight=q.jqAfterWrap.outerHeight();if(r){q.jqAfterWrap.hide()}}function a(p,q,r){if(p.bottomFirst){q.top=p.popFromInfo.top+p.popFromInfo.height+p.offsetInfo.top;p.resultBottom=true;if(q.top-r.scrollTop+p.popHeight-p.offsetInfo.bottom>r.offsetHeight){p.resultBottom=false;q.top=p.popFromInfo.top-p.popHeight+p.offsetInfo.bottom}}else{q.top=p.popFromInfo.top-p.popHeight+p.offsetInfo.bottom;p.resultBottom=false;if(q.top-r.scrollTop-p.offsetInfo.top<0){p.resultBottom=true;q.top=p.popFromInfo.top+p.popFromInfo.height+p.offsetInfo.top}}if((q.top-r.scrollTop-p.offsetInfo.top<0)||(q.top-r.scrollTop+p.popHeight-p.offsetInfo.bottom>r.offsetHeight)){q.top=r.scrollTop}}function l(p,q,r){p.resultRight=true;q.left=p.popFromInfo.left+p.offsetInfo.left;if(q.left-r.scrollLeft+p.popWidth-p.offsetInfo.right>r.offsetWidth){p.resultRight=false;q.left=p.popFromInfo.left+p.popFromInfo.width-p.popWidth+p.offsetInfo.right}if(q.left<r.scrollLeft+p.offsetInfo.left){q.left=r.scrollLeft}}jBME.Poper=function(p){this.setPop(p);this.offsetInfo=e();return this};jBME.Poper.prototype={$view:$(".bc_view"),jqPopFrom:undefined,jqPop:undefined,jqPopParent:undefined,jqMask:undefined,mask:false,wrapperFunc:undefined,jqWrapper:undefined,bottomFirst:true,resultBottom:true,resultRight:true,popFromInfo:undefined,offsetInfo:undefined,jqAfterWrap:undefined,popWidth:undefined,popHeight:undefined,eventName:undefined,createShadowWrapper:function(){var q='<div class="bf_shadow">';q+='<div head="true">';q+='<div l="true"></div>';q+='<div r="true"></div>';q+='<div c="true"></div>';q+="</div>";q+='<div ml="true"><div mr="true" content="true"></div></div>';q+='<div foot="true" id="foot">';q+='<div l="true"></div>';q+='<div r="true"></div>';q+='<div c="true"></div>';q+="</div>";q+="</div>";var p=$(q);p.jqContent=p.find("[content]");p.appendTo("body");p.css("z-index",999);return p},setPop:function(p){if(undefined==p){return}this.jqPop=p;this.jqPopParent=p.parent()},defaultWrap:function(){this.wrapperFunc=this.createShadowWrapper},setPopFromInfoByDom:function(p){this.popFromInfo=b(p)},setPopFromInfoByEvent:function(p){this.popFromInfo=c();this.popFromInfo.left=mouseX(p);this.popFromInfo.top=mouseY(p)},toggle:function(p){if(this.isShow()){this.hide();return}this.show(p)},isShow:function(){if(undefined==this.jqAfterWrap){return false}return this.jqAfterWrap.is(":visible")},showIn:function(p,q){this.popFromInfo=c();this.show();this.jqAfterWrap.css({left:p+"px",top:q+"px"})},show:function(p){if(undefined!=p){this.jqPopFrom=p}j(this);m(this);if(undefined==this.jqWrapper){return}this.eventName="beforerender."+this.jqPop.attr("id");var q=this;$(".bc_view").unbind(this.eventName).bind(this.eventName,function(r,s){if(q.jqPop.closest("[id="+s+"]")){q.hide()}})},hide:function(){k(this);h(this);this.$view.unbind(this.eventName)}}})();(function(){jBME.menu=function(a){this.attach(a);return this};jBME.menu.prototype={jqPopMenu:undefined,jqBind:undefined,jqPopFrom:undefined,cfg:undefined,poper:undefined,attach:function(a){this.cfg=a;this.jqPopMenu=$("#"+a.id);this.jqBind=$("#"+a.bindid);this.jqPopFrom=this.jqBind;this.jqPopMenu.data("menu",this);this.poper=new jBME.Poper(this.jqPopMenu);this.poper.defaultWrap();this.poper.mask=true;this.initImg();this.bindEvent()},initImg:function(){this.jqPopMenu.find("> .bc_link").each(function(){var a=$(this);var b=a.children();if($.isEmptyObject(b)||!($(b[0]).is("img"))){a.prepend("<img align='absmiddle' src='"+jBME.theme.defaultPath+"/images/empty.gif'/>")}})},getItems:function(){return this.jqPopMenu.find(">.bc_link")},bindEvent:function(){var a=this;if(""!=this.cfg.event){this.jqBind.bind(this.cfg.event,function(){a.showMenu()})}this.getItems().each(function(){var b=$(this);b.unbind("click.menuitem").bind("click.menuitem",function(d){d.stopPropagation();if(jBME.util.isDisabled(b)){d.preventDefault();return}a.hideMenu();var c=new jQuery.Event("menuItemClick");c.stopPropagation();c.jqItem=b;c.menuObj=a;a.jqPopMenu.trigger(c)})})},showMenuFrom:function(a){this.jqPopFrom=a;this.showMenu()},showMenu:function(){this.hideMenu();var b=this;if(jBME.util.isDisabled(b.jqBind)){return}function a(c){var d=new jQuery.Event(c);d.menuObj=b;d.stopPropagation();b.jqPopMenu.trigger(d)}a("beforeShow");this.poper.show(this.jqPopFrom);a("afterShow");$(document).bind("click."+this.cfg.id,function(c){var e=$(c.target);var d=b;if(0!=e.closest("[id="+b.cfg.id+"]").length){return}if(0!=e.closest("[id="+b.cfg.bindid+"]").length){return}if(c.target==b.jqPopFrom.get(0)){return}if($.contains(b.jqPopFrom.get(0),c.target)){return}b.hideMenu()})},hideMenu:function(){if(this.jqPopMenu.is(":hidden")){return}var a=new jQuery.Event("beforeHide");a.menuObj=this;a.stopPropagation();this.jqPopMenu.trigger(a);this.poper.hide();$(document).unbind("click."+this.cfg.id)}}})();(function(){jBME.DataGrid=function(a){this.attach(a);return this};jBME.DataGrid.prototype={jqDataGrid:undefined,otherPageCheckCount:0,checkName:undefined,attach:function(a){this.jqDataGrid=$("#"+a);this.init()},init:function(){var a=$(".cbme_col_check",this.jqDataGrid);if(0==a.length){return 0}var d=$(a[0]);this.checkName=d.attr("name");var e=this;if(d.hasClass("cbme_crosspages")){d.bind("beforesubmit",function(){e.updateCheckName()})}var c=d.attr("allCheckCount");var b=0;a.each(function(){$(this).attr("orgName",e.checkName);if(this.checked){b++}});this.otherPageCheckCount=c-b},updateCheckName:function(){var a=$(".cbme_col_check",this.jqDataGrid);var c=this;var b=0;a.each(function(){var d=$(this);if(this.checked){d.attr("name",c.checkName+"["+(c.otherPageCheckCount+b)+"]");b++}else{d.removeAttr("name")}})}}})();(function(){jBME.SearchBox=function(a){this.attach(a);return this};jBME.SearchBox.prototype={jqSearchBox:undefined,jqInput:undefined,jqSearchBtn:undefined,event:undefined,value:undefined,attach:function(b){this.jqSearchBox=$("#"+b);this.jqInput=$("#"+b+"_input");this.jqSearchBtn=$("#"+b+"_search");var a=this;this.jqInput.bind("keypress",function(c){if((13==c.which)||((10==c.which)&&(c.ctrlKey))){a.event=c;a.doTrigger()}});this.jqSearchBtn.bind("click",function(c){a.event=c;a.doTrigger()})},doTrigger:function(){this.value=this.jqInput.val();var a=new jQuery.Event("search");a.value=this.value;a.isNext=!this.event.ctrlKey;a.stopPropagation();this.jqSearchBox.trigger(a);this.event=undefined}}})();(function(){jBME.SelectTree=function(a){this.attach(a);this.adjustHeight($("div#"+a.settings.id).height());return this};jBME.SelectTree.prototype={objTree:undefined,jqTree:undefined,jqSelectedBox:undefined,attach:function(b){this.objTree=b;this.jqTree=$("#"+b.settings.id);this.jqSelectedBox=$("#"+b.settings.id+"_selected");var c=this;var a=$.tree.plugins.checkbox.get_checked(this.objTree);a.each(function(e){var d=$(this).children("a[bmeCheck]");var f=d.children("input.checkbox-input");if(0==f.length){return}c.addNodePath(d)});this.jqTree.bind("check",function(d){if(null==d.jqInput){return}if(d.checked){c.addNodePath(d.node);return}c.removeNodePath(d.node)})},addNodePath:function(a){var g=a.children("input.checkbox-input");if(!g.attr("checked")){return}var b=$("<div class='treepath_row'></div>").appendTo(this.jqSelectedBox);a.data("row",b);var e=a.parent();var d=a.attr("icon");if(typeof d=="undefined"||d==""||d==null){d=jBME.theme.customPath+"/images/tree/icon_shiftleft.png"}var c=$("<div class='treepath_text'><div class='treepath_text_inner'><img src='"+d+"' width='16' height='16' border='0' style='padding:0 4px;' align='absmiddle' />"+a.attr("nodeface")+"</div></div>").appendTo(b);b.hover(function(){$(this).addClass("treepath_row_over")},function(){$(this).removeClass("treepath_row_over")});b.bind("click",function(){var h=$.tree.reference(e);h.find_node(e)});var f=$("<div class='treepath_delbtn'>&nbsp;</div>").appendTo(b);f.bind("click",function(){$.tree.plugins.checkbox.uncheck(e);b.remove()})},removeNodePath:function(a){var b=a.data("row");b.remove()},adjustHeight:function(b){var e=$("#"+this.objTree.settings.id+"_div");var d=271;var f=d+29;e.css("height",d);this.jqSelectedBox.css("height",f);if(b){var g=parseInt(b);var c=$("#selectTreeTbl_"+this.objTree.settings.id);var a=c.outerHeight(true);d=g-(a-d);if(d<0){d=0}e.height(d);f=g-(a-f);this.jqSelectedBox.height(f)}}}})();(function(){jBME.Panel=function(a){this.attach(a);return this};jBME.Panel.prototype={jqPanel:undefined,jqHeader:undefined,attach:function(a){this.jqPanel=$("#"+a);this.jqHeader=$("#"+a+"_header");this.bindEvent()},open:function(){this.jqPanel.removeClass("tpanel_closed")},close:function(){this.jqPanel.addClass("tpanel_closed")},toggleClose:function(){this.jqPanel.toggleClass("tpanel_closed")},isOpen:function(){return !this.jqPanel.hasClass("tpanel_closed")},bindEvent:function(){var c=this;a();b();d();function a(){var e=c.jqPanel.find("> .panel_title");e.bind("click",function(g){if(jBME.util.isDisabled(c.jqPanel)){return}var f=$(g.target);if(f.closest(".panel_header").size()>0){return}c.toggleClose()})}function b(){var e=c.jqHeader.find(".panel_closebtn");e.bind("click",function(f){if(jBME.util.isDisabled(c.jqPanel)){return}c.jqPanel.remove()})}function d(){var e="afterValid";c.jqPanel.unbind(e).bind(e,function(g){if(c.isOpen()){return}var f=c.jqPanel.find("[vStatus='fail']");if(0==f.length){return}c.open()})}}}})();