(function(a){a.resizeObjs=function(){return{arr:new Array(),fixSize:new Number(),init:function(){arr=new Array();fixSize=0;startSize={w:a(window).width(),h:a(window).height()}},reFixSize:function(b){fixSize+=b},getFixSize:function(){return fixSize},get:function(){return arr},push:function(b){arr.push(b)},shift:function(c){var b=a.grep(arr,function(e,d){return a(e.container).data("orderNum")==a(c).data("orderNum")},true);arr=b},doResize:function(){var g=a(window).height()-startSize.h;var c=a("#pluginbarPop");var h=false;if("none"==c.css("display")){h=true;c.show()}a(arr).each(function(l){var k=a(this.container);if("none"==k.css("display")){k.show();k.css("height",k.height()+g);if(this.child){var j=k.find("iframe:first-child");j.css("height",j.outerHeight()+g)}k.hide()}else{if(k.attr("active")!="false"){k.css("height",k.height()+g);if(this.child){var j=k.find("iframe:first-child");j.css("height",j.outerHeight()+g)}}}});if(h){h=false;c.hide()}startSize.h=a(window).height();var b=a(window).width()-startSize.w;var f=a("#tabpageContent");f.width(f.width()+b);startSize.w=a(window).width();var e=a("#tabpageOverflow");e.width(e.width()+b);var d=a("#horimenuContainer");d.width(d.width()+b);if(a.browser.mozilla){if(a.resizeObjs.second){a.resizeObjs.second=false}else{a.resizeObjs.second=true;setTimeout("$.resizeObjs().doResize()",1)}}}}};a.selectAll={initEvent:function(f,c){var d=a("#"+c);var e=a("#"+f);var b=e.find(":checkbox");b.each(function(g){var h=a(this);h.bind("click",function(){h.selectAllCbox(e,d)})});if(e.find("#"+c).attr("id")!=c){d.bind("click",function(){d.selectAllCbox(e,d)})}}};a.fn.selectAllCbox=function(c,b){var d;if(this.attr("id")==b.attr("id")){d=a(":checkbox",c);if(this.attr("checked")){d.each(function(e){this.checked=true})}else{d.each(function(e){this.checked=false})}return true}else{d=c.find(":checkbox:not(:checked)");if(d.length==0){b.attr("checked",true)}else{if(d.length==1&&d.attr("id")==b.attr("id")){b.attr("checked",true)}else{b.attr("checked",false)}}return true}};a.fn.alignMiddle=function(d,c){var b=this;e(b,d,c);function e(m,g,l){var f;if(l){f=a("#"+l)}else{f=a("body")}var k=g||0;var h=f.height();var i=m.height();var j;if(h>i+k){j=(h-i)/2-k/2}m.css("padding-top",j)}a(window).bind("resize",function(){e(b,d,c)})}})(jQuery);(function(a){a.fn.mainFrameLayout=function(k){var b=this;var g=a.extend({},k);var f="";for(var d=0;d<g.columns.length;d++){f+="<div></div>";if(g.columns[d].height>0){var e=g.columns[d].height;a.resizeObjs().reFixSize(e)}}var h=a(f).appendTo(b);var c=a(window).height();var j=a.resizeObjs().getFixSize();h.each(function(l){var m=a(this);m.attr("id",g.columns[l].id).css({width:g.columns[l].width,height:g.columns[l].height});if(g.columns[l].autoSize){var n=c-j;m.height(n);a.resizeObjs().push({container:m,child:false})}})}})(jQuery);(function(a){a.contents=function(){return{init:function(){var d="<div class='top_logo'></div>";if(typeof(sysmenuData)!="undefined"){d+="<div id='systemMenu' class='sysmenu'>";d+="</div>"}d+="<div class='top_fun'>";d+="<ul>";d+="<li class='fun_logout' onclick='location.href=\""+logoutConf.lnk+"\"'>"+logoutConf.name+"</li>";d+="<li class='top_fun_split'>&nbsp;|&nbsp;</li>";d+="<li class='fun_help' id='"+helpConf.id+"' onclick='window.open(\""+helpConf.lnk+"\");'>"+helpConf.name+"</li>";if(!searchConf.isDisabled){var e=a("#searchPopBox");e.hide();d+="<li class='top_fun_split'>&nbsp;|&nbsp;</li>";d+="<li class='fun_search' id='"+searchConf.id+"' onmouseover='$.showSearchPop(this);'>"+searchConf.name+"</li>"}d+="<li class='fun_user'>"+userConf.name+"</li>";d+="</ul>";d+="</div>";d+="<div class='top_menu' id='topMenu'></div>";if(!alarmConf.isDisabled){d+="<div class='top_alarm' id='"+alarmConf.id+"'>";if(alarmConf.children.length>0){for(var b=0;b<alarmConf.children.length;b++){d+="<ul id='"+alarmConf.children[b].id+"'><li class='alarm_left'></li><li class='alarm_center'>"+alarmConf.children[b].name+"</li><li class='alarm_right'></li></ul>"}}d+="</div>"}function c(g){if((typeof g.children)!="undefined"&&g.children.length>0){var f=g.children;a(f).each(function(h){if(this.isSelected&&(typeof this.url)!="undefined"&&""!=this.url){tabsData.data[tabsData.data.length]={name:this.name,id:this.id.toString(),url:this.url,hideCloseIcon:this.hideCloseIcon}}c(this)})}}a("#topFrame").append(d);if(typeof(menuData)!="undefined"){a("#topMenu").horimenu(menuData);a(menuData.data).each(function(f){if((typeof this.isSelected)!="undefined"&&this.isSelected&&(typeof this.url)!="undefined"&&""!=this.url){tabsData.data[tabsData.data.length]={name:this.name,id:this.id.toString(),url:this.url,hideCloseIcon:this.hideCloseIcon}}c(this)})}a("#horimenuContainer").width(a(window).width()-406);if(typeof(sysmenuData)!="undefined"){a("#systemMenu").sysmenu(sysmenuData);a(sysmenuData.systemMenu).each(function(f){if((typeof this.isSelected)!="undefined"&&this.isSelected&&(typeof this.url)!="undefined"&&""!=this.url){tabsData.data[tabsData.data.length]={name:this.name,id:this.id.toString(),url:this.url,hideCloseIcon:this.hideCloseIcon}}c(this)})}a("#middleFrame").tabPage(tabsData);a.plugin=a("#middleFrame").pluginBar(pluginData);a("#footerFrame").append("<div id='stateBar'></div>");a("#stateBar").stateBar()}}}})(jQuery);(function(a){a.showSearchPop=function(c){var b=a(c);var f=a("#searchPopBox");var e=b.offset();var d=e.left-f.width()+b.width()+30;f.css({top:e.top-6,left:d});f.show();f.mouseover(function(){a(this).show()});f.mouseout(function(){a(this).hide()})}})(jQuery);(function(a){a.fn.pluginBar=function(n){var d=a(this);var u;var q;var f;var v;var k;var i;var l;var e;var w=false;this.defaults={align:"left",hidden:false};var j=a.extend({},this.defaults,n);r(j.items);return{add:t,remove:b,newMsg:z,rePosition:x,hide:o,show:h};function t(D){var B=false;if(f.css("display")=="none"){f.show();B=true}var s=a("<div class='pluginbar_item'></div>");var E=a("<div class='pluginbar_item_icon'></div>");s.append(E);s.attr("id",D.id);E.css("background-image","url("+D.icon+")");q.append(s);s.bind("mouseover",function(){});s.bind("mouseout",function(){});s.bind("click.showpop",function(){if(f.is(":visible")&&f.data("actObj")==s){c(s)}else{p(s,D)}});var C=a("<div class='pluginbarPopContent_body'></div>");C.height(u.height()-k.height());v.append(C);if(D.contentUrl&&!D.contentType){var A=a("<iframe src='' frameborder='0' scrolling='auto' name='pluginIFra"+D.id+"' width='100%'></iframe>");A.appendTo(C);A.attr("src",D.contentUrl).attr("height","100%")}if("SHORTCUTMENU"==D.contentType){C.shortcutMenu(shortcutMenuData)}a.resizeObjs().push({container:C,child:false});if(B){f.hide()}s.data("contentObj",C)}function b(s){}function z(s,A){}function x(A){var s=a("#tabpageContent");if(A=="left"){u.css({left:"0px",right:"auto"});f.css({left:"36px",right:"auto"});q.css("margin-left","0px");s.css("float","right");u.removeClass("pluginbar_alignright");f.parent().removeClass("pluginbar_pop_alignright")}else{u.css({left:"auto",right:"0px"});f.css({left:"auto",right:"36px"});q.css("margin-left","-3px");s.css("float","left");u.addClass("pluginbar_alignright");f.parent().addClass("pluginbar_pop_alignright")}}function h(){u.show();var s=a("#tabpageContent");if(a.browser.msie){s.width(a(window).width()-u.outerWidth()-1)}else{s.width(a(window).width()-u.outerWidth())}a("#tabpageFix").removeClass("tabpage_for_pluginhidden")}function o(){u.hide();if(w){y();f.hide()}else{f.hide();w=false}var s=a("#tabpageContent");s.width(a(window).width());a("#tabpageFix").addClass("tabpage_for_pluginhidden")}function p(s,A){var B=f.data("actObj");if(B){B.removeClass("pluginbar_item_on")}i.html(A.name);s.addClass("pluginbar_item_on");f.data("actObj",s);f.show();f.find("div.pluginbarPopContent_body").hide();s.data("contentObj").show()}function c(s){if(!w){f.hide();s.removeClass("pluginbar_item_on")}}function y(){w=false;g(-1);l.attr("class","float_pop");f.removeClass("pluginbarpop_fix")}function m(){w=true;g(1);l.attr("class","fix_pop");f.addClass("pluginbarpop_fix")}function g(B){var A=196;var s=a("#tabpageContent");s.width(s.width()-A*B);u.width(u.width()+A*B)}function r(s){u=a("<div id='pluginbar'></div>");q=a("<div id='pluginbarContainer'><div class='pluginbar_top'></div><div class='pluginbar_bottom'></div></div>");u.append(q);f=a("<div id='pluginbarPop' class='pluginbar_pop pluginbarpop_float'></div>");v=a("<div id='pluginbarPopContent'></div>");k=a("<div class='pluginbarPopContent_header'></div>").appendTo(v);i=a("<div class='pluginbarPopContent_header_left'></div>").appendTo(k);var A=a("<div class='pluginbarPopContent_header_right'></div>").appendTo(k);l=a("<span class='float_pop'></span>").appendTo(A);e=a("<span class='close_pop'></span>").appendTo(A);f.append(v);var G=a("#tabpageContent");G.before(u);var I=u.offset();var H=(I.left+u.width())+"px";var B=(I.top-1)+"px";f.css({position:"absolute",left:H,top:B});f.hide();G.after("<div class='nofloat'></div>");G.after(f);var D=a.resizeObjs().getFixSize();var F=a(window).height()-D;u.height(F);f.height(F-1);a.resizeObjs().push({container:u,child:false});a.resizeObjs().push({container:f,child:false});if(a.browser.msie){G.width(a(window).width()-u.outerWidth()-1)}else{G.width(a(window).width()-u.outerWidth())}if(s&&s.length>0){for(var E=0;E<s.length;E++){var C=s[E];t(C)}}f.bind("mouseover",function(){});f.bind("mouseout",function(){});l.bind("click",function(){if(w){y()}else{m()}});e.bind("click",function(){if(w){y();f.hide()}else{f.hide();w=false}var J=f.data("actObj");J.removeClass("pluginbar_item_on")});x(j.align);if(j.hidden){o()}}}})(jQuery);(function(b){b.fn.shortcutMenu=function(c){return new a().init(this,c)};function a(){return{init:function(d,p){var e=b('<ul id="shortcutmenu" class="shortcutmenu"></ul>').appendTo(d);e.data("saveUrl",p.saveUrl);e.data("selectedData",[]);var o=p.selectedData;if(o&&o.length>0){b(o).each(function(q){a().addItem(this)})}var c=b('<div class="shortcutmenu_bottom"></div>').appendTo(d);var j=b('<span class="bc_btn bc_ui_ele"><div><div>'+p.setLabel+"</div></div></span>").appendTo(c);j.bind("click",a().openCloseAll);var i=b('<div id="shortcutmenuAll" class="shortcutmenu_all"></div>').prependTo(d);var k=b('<div class="shortcutmenu_all_content"></div>').appendTo(i);var h=p.allData.data;if(h&&h.length>0){var n;b(h).each(function(s){var q=this;n=b('<div class="shortcutmenu_all_group"></div>').appendTo(k);var t=b('<div class="shortcutmenu_all_fa">'+q.name+"</div>").appendTo(n);var r=b('<ul class="shortcutmenu_all_sub"></ul>').appendTo(n);if(q.children&&q.children.length>0){b(q.children).each(function(){var w=this;var v=b("<li><label for="+w.id+">"+w.name+"</label></li>").appendTo(r);var u=b('<input id="'+w.id+'" type="checkbox" value="'+w.id+'" />').prependTo(v);u.bind("click",function(){if(u.attr("checked")){a().addItem(w)}else{a().removeItem(w.id)}})})}if(s>0&&s%3==0){b('<div class="nofloat"></div>').appendTo(k)}});var f=n.outerWidth(true);if(h.length>4){i.width(f*4)}else{i.width(f*h.length)}}else{j.hide()}var g=b('<div class="shortcutmenu_all_bottom"></div>').appendTo(i);var l=b('<span class="bc_btn bc_ui_ele"><div><div>'+p.okLabel+"</div></div></span>").appendTo(g);l.bind("click",a().okHandler);var m=b('<span class="bc_btn bc_ui_ele"><div><div>'+p.cancelLabel+"</div></div></span>").appendTo(g);m.bind("click",a().cancelHandler);a().resize();i.hide()},addItem:function(g){var h=b("#shortcutmenu");var d=b("<li id="+g.id+">"+g.name+"</li>").appendTo(h);var c=b('<span class="shortcutmenu_up"></span>').prependTo(d);var f=b('<span class="shortcutmenu_del"></span>').prependTo(d);d.bind("click",function(){var i=b.fn.tabPage.add({name:g.name,url:g.url,id:g.id.toString()})});d.hover(function(){b(this).addClass("shortcutmenu_over")},function(){b(this).removeClass("shortcutmenu_over")});c.bind("click",function(){if(d.prev().is("li")){d.insertBefore(d.prev());d.mouseout()}else{d.appendTo(h);d.mouseout()}a().saveState();return false});f.bind("click",function(){d.remove();a().saveState();return false});var e=h.data("selectedData");e.push(g);h.data("selectedData",e)},removeItem:function(g){var f=b("#shortcutmenu");var d=f.find("li[id="+g+"]");d.remove();var e=f.data("selectedData");var c=b.grep(e,function(j,h){return j.id==g},true);f.data("selectedData",c)},resize:function(){var c=b("#pluginbar");var d=b("#shortcutmenuAll");var e=d.find("div.shortcutmenu_all_content");if(d.height()>c.height()-10){e.height(c.height()-50)}},openCloseAll:function(){var c=b("#shortcutmenuAll");if(c.is(":hidden")){a().showAll()}else{a().hideAll()}},showAll:function(){var e=b("#shortcutmenuAll");var d=e.data("poper");if(undefined==d){d=new jBME.Poper(e);d.defaultWrap();d.mask=true;e.data("poper",d)}var c=b("#pluginbarPop");var h=c.offset();d.showIn(h.left+c.width(),h.top-2);a().resize();var g=b("#shortcutmenu");e.find("input:checked").attr("checked",false);g.find("li").each(function(){var i=e.find("input[id="+b(this).attr("id")+"]");i.attr("checked",true)});var f=[];b(g.data("selectedData")).each(function(){f.push(this)});g.data("lastData",f)},hideAll:function(){var c=b("#shortcutmenuAll");c.data("poper").hide()},okHandler:function(){a().saveState();a().hideAll()},cancelHandler:function(){var d=b("#shortcutmenu");var c=d.data("lastData");d.html("");d.data("selectedData",[]);b(c).each(function(){a().addItem(this)});a().hideAll()},saveState:function(){var c=[];var e=b("#shortcutmenu");var d=e.data("saveUrl");e.find("li").each(function(){c.push(b(this).attr("id"))});b.ajax({url:d,data:{ids:c.toString()}})}}}})(jQuery);(function(b){b.fn.horimenu=function(c){return new a().init(this,c)};function a(){return{init:function(e,d){var c="<div class='horimenu'>";c+="<div class='horimenu_bg_left'></div>";c+="<div class='horimenu_bg_center' id='horimenuContainer'></div>";c+="<div class='horimenu_bg_right'></div>";c+="<div id='menuTitleContainer'></div>";c+="<div id='submenuContainer'></div>";c+="</div>";b(e).append(c);b(d.data).each(function(f){var g=a().addMenu(b("#horimenuContainer"),this,f);a().addSubTitle(b("#menuTitleContainer"),this,f);a().addSubmenu(b("#submenuContainer"),this.children,f);if(f<d.data.length-1){a().addSplit(g)}})},shortmenu:function(d,c){var f="<ul class='horimenu_title_normal'>";f+="<li class='horimenu_title_left'></li>";f+="<li class='horimenu_title_center shortmenu'></li>";f+="<li class='horimenu_title_right'></li>";f+="</ul>";var e=b(f).prependTo(d);e.click(function(){});e.mouseover(function(){b(this).removeClass("horimenu_title_normal");b(this).addClass("horimenu_title_on");a().showSubMenu(0)});e.mouseout(function(){b(this).removeClass("horimenu_title_on");b(this).addClass("horimenu_title_normal");a().hideSubMenu(0)});a().addSubmenu(b("#submenuContainer"),c,0)},addMenu:function(d,e,c){var g="<ul class='horimenu_title_normal title_ul' title='"+e.name+"'>";g+="<li class='horimenu_title_left'></li>";g+="<li class='horimenu_title_center'><span>"+e.name+"</span></li>";g+="<li class='horimenu_title_right'></li>";g+="</ul>";var f=b(g).appendTo(d);f.click(function(){if(e.url){if(typeof(sysmenuData)!="undefined"){var i="{ id: '"+e.id+"', label:'"+e.name+"', url: '"+e.url+"'}";b.fn.historyReport(i,sysmenuData)}var h=b.fn.tabPage.add({name:e.name,url:e.url,id:e.id.toString(),helpid:e.helpid})}});f.mouseover(function(){b(this).removeClass("horimenu_title_normal");b(this).addClass("horimenu_title_on");if(e.children.length>0){a().showSubMenu(c)}});f.mouseout(function(){b(this).removeClass("horimenu_title_on");b(this).addClass("horimenu_title_normal");if(e.children.length>0){a().hideSubMenu(c)}});return f},addSubTitle:function(e,g,d){var f=b("#horimenuContainer").find("ul.title_ul:eq("+d+")");var h="<div style='position: absolute;'><ul class='horimenu_title_sub_on'><li class='horimenu_title_left'></li><li class='horimenu_title_center'><span>"+g.name+"</span></li><li class='horimenu_title_right'></li></ul></div>";var c=b(h).appendTo(e);c.width(f.width()+12);var i=f.offset();c.css("left",i.left-6);c.mouseover(function(){a().showSubTitle(d);a().showSubMenu(d)});c.mouseout(function(){a().hideSubTitle(d);a().hideSubMenu(d)});c.hide()},addSubmenu:function(h,m,k){var d=b("#horimenuContainer").find("ul.title_ul:eq("+k+")");var e="<div style='position:absolute;'><div class='menu_masker'><iframe frameborder='0' src=''></iframe></div></div>";var l=b(e).appendTo(h);e="<div class='horimenu_sub'><div class='horimenuSub_top'><table width='100%' border='0' cellspacing='0' cellpadding='0'><tr><td><div class='horimenuSub_top_left'></div></td>	<td class='horimenuSub_top_center'></td><td><div class='horimenuSub_top_right'></div></td></tr></table></div><div class='horimenuSub_center_left'><div class='horimenuSub_center_right'><div class='horimenuSub_center_center'><ul></ul></div><div class='porlet_nofloat'></div></div></div><div class='horimenuSub_bottom'><table width='100%' border='0' cellspacing='0' cellpadding='0'><tr><td><div class='horimenuSub_bottom_left'></div></td><td class='horimenuSub_bottom_center'></td><td><div class='horimenuSub_bottom_right'></div></td></tr></table></div></div>";var f=b(e).appendTo(l);f.attr("id","horimenuSub"+k).addClass("horimenu_sub");b(m).each(function(){a().addSubItem(f.find("ul:eq(0)"),this,k)});var j=b(f).width();var c=b(f).height();f.find("li").each(function(){if((d.width())>=(j+11)){b(this).width(d.width()+26);f.width(d.width()+37)}else{b(this).width(j-11)}b(this).find("a").css("display","block")});var g=l.find("iframe:eq(0)");g.width(j+8);g.height(c+8);var i=d.offset();l.css("left",i.left-2);l.mouseover(function(){d.removeClass("horimenu_title_normal");d.addClass("horimenu_title_on");a().showSubMenu(k)});l.mouseout(function(){d.removeClass("horimenu_title_on");d.addClass("horimenu_title_normal");a().hideSubMenu(k)});l.hide()},addSubItem:function(d,e,c){var f="<li><a>"+e.name+"</a></li>";var g=b(f).appendTo(d);if(e.disabled){g.attr("disabled",true)}g.click(function(){if(e.javascript){e.javascript(e.url);return}if(typeof(sysmenuData)!="undefined"){var i="{ id: '"+e.id+"', label:'"+e.name+"', url: '"+e.url+"'}";b.fn.historyReport(i,sysmenuData)}var h=b.fn.tabPage.add({name:e.name,url:e.url,id:e.id,helpid:e.helpid});a().hideSubMenu(c)})},addSplit:function(d){var c="<ul class='horimenu_title_split'><li></li></ul>";b(c).insertAfter(d)},showSubMenu:function(c){b("#submenuContainer > div:eq("+c+")").show()},hideSubMenu:function(c){b("#submenuContainer > div:eq("+c+")").hide()},showSubTitle:function(c){b("#menuTitleContainer > div:eq("+c+")").show()},hideSubTitle:function(c){b("#menuTitleContainer > div:eq("+c+")").hide()}}}})(jQuery);(function($){$.fn.sysmenu=function(s){var container=this;var titleItem=container;var menu;var menuList;var subMenu;var delayCloseTimer=this.delayCloseTimer=null;var closetime=0;var singleBoxWidth=240;var itemsHash={};var showSearch=s.hasSearch;var showHistory=s.showHistory;if(typeof(s.historyTitle)!="undefined"){var historyTitle=s.historyTitle}else{var historyTitle="The last history"}var itemArr=s.subProj;var systemMenu=s.systemMenu;titleItem.bind("click",function(){$(this).removeClass("sysmenu").addClass("sysmenu_hover");showmenu();var maskDiv=$("<div style='position: absolute; top: 0px; left: 0px;'></div>");maskDiv.width($("body").width());maskDiv.height($("body").height());maskDiv.insertBefore(menu);menu.data("maskDiv",maskDiv)});if(!menu){createMenu(titleItem)}function showmenu(){menu.show();menu.find("div.shortsubmenu_sub").hide()}function hidemenu(){titleItem.removeClass("sysmenu_hover").addClass("sysmenu");menu.hide();menu.find("div.shortsubmenu_sub").hide();var maskDiv=menu.data("maskDiv");$(maskDiv).remove()}function changeItem(){titleItem.removeClass("sysmenu_hover").addClass("sysmenu");var maskDiv=menu.data("maskDiv");$(maskDiv).remove()}function createMenu(obj){var menuHtml="<div id='systemMenuContainer' onmouseover='$.menuEnter();' ><div class='shortmenu_sub'>";menuHtml+="<div class='menu_masker'><iframe width='0' height='0' frameborder='0' src=''></iframe></div>";menuHtml+="<div class='horimenuSub_top'><table width='100%' border='0' cellspacing='0' cellpadding='0'><tr><td><div class='horimenuSub_top_left'></div></td><td class='horimenuSub_top_center'></td><td><div class='horimenuSub_top_right'></div></td></tr></table></div>";menuHtml+="<div class='horimenuSub_center_left'><div class='horimenuSub_center_right'><div class='horimenuSub_center_center'>";if(showSearch){menuHtml+="<div class='sysmenu_header'><div class='sysmenu_search'><div class='search_input'><input type='text' value='' name='systemSearch' id='systemSearch' class='system_text_input' /><input type='submit' value='' class='system_btn' /></div></div>";menuHtml+="<div class='sysmenu_map_tool'><div class='system_menu_close'></div><span>Site Map</span></div>";menuHtml+="<div class='nofloat'></div></div>"}else{menuHtml+="<div class='sysmenu_header'>";menuHtml+="<div class='sysmenu_map_tool'><div class='system_menu_close'></div></div>";menuHtml+="<div class='nofloat'></div></div>"}if(typeof(itemArr)!="undefined"){menuHtml+="<div class='shortmenu_proj_list'><ul class='shortmenu_proj_ul'></ul></div>"}if(showHistory){menuHtml+="<div class='shortmenu_his_list'><span class='history_title'>"+historyTitle+"</span><ul class='shortmenu_his_ul'></ul></div>"}if(typeof(systemMenu)!="undefined"){menuHtml+="<div class='shortmenu_proj_items_list'><ul class='shortmenu_proj_itmes_ul'></ul></div>"}menuHtml+="<div class='porlet_nofloat'></div></div></div></div>";menuHtml+="<div class='horimenuSub_bottom'><table width='100%' border='0' cellspacing='0' cellpadding='0'><tr><td><div class='horimenuSub_bottom_left'></div></td><td class='horimenuSub_bottom_center'></td><td><div class='horimenuSub_bottom_right'></div></td></tr></table>";menuHtml+="</div></div>";var menuEle=$(menuHtml);menuEle.appendTo("#topFrame");menu=menuEle;if(typeof(itemArr)!="undefined"){for(var i=0;i<itemArr.length;i++){addMenuItem(itemArr[i])}}if(typeof(systemMenu)!="undefined"){for(var i=0;i<systemMenu.length;i++){addProjItem(systemMenu[i])}}if(showHistory&&$.cookie("historyItems")!=null){var ulObj=menu.find("ul.shortmenu_his_ul");var historyStr=$.cookie("historyItems");var historyObj=eval("("+historyStr+")");if(ulObj.html()!=""){ulObj.html("")}for(var j=0;j<historyObj.length;j++){addHistoryList(historyObj[j])}}var offset=obj.offset();var searchBox=menu.find("div.sysmenu_header");var projBox=menu.find("div.shortmenu_proj_list");var projSubBox=menu.find("div.shortmenu_proj_items_list");var historyBox=menu.find("div.shortmenu_his_list");var boxW=0;if(projBox.width()!=null&&projSubBox.width()!=null&&historyBox.width()==null){boxW=projBox.width()+projSubBox.width();if(projBox.height()>projSubBox.height()){projSubBox.addClass("list_noline");projSubBox.height(projBox.height())}else{projBox.addClass("list_noline");projBox.height(projSubBox.height())}}if((projBox.width()==null||projSubBox.width()==null)&&historyBox.width()==null){boxW=singleBoxWidth;if(projBox.width()==null){projSubBox.width(singleBoxWidth);projSubBox.addClass("list_noline")}else{if(projSubBox.width()==null){projBox.width(singleBoxWidth);projBox.addClass("list_noline")}}}if(historyBox.width()!=null&&projSubBox.width()!=null&&projBox.width()==null){boxW=historyBox.width()+projSubBox.width();if(historyBox.height()>projSubBox.height()){projSubBox.addClass("list_noline")}else{historyBox.addClass("list_noline")}}$("#systemMenuContainer").css({top:(offset.top+obj.height()+2),width:(boxW+18)});menu.find("div.system_menu_close").click(function(){hidemenu()});if(typeof(systemMenu)!="undefined"){projSubBox.showSubMenu("sub_selected")}menu.hide();titleItem.ExternalClick(menu,changeItem);return menuEle}function addHistoryList(itemData){var ulObj=menu.find("ul.shortmenu_his_ul");var itemHtml="<li>";itemHtml+="<a href = '#none'>"+itemData.label+"</a>";itemHtml+="</li>";var hisItem=$(itemHtml).prependTo(ulObj);hisItem.click(function(){var tabitem=$.fn.tabPage.add({name:itemData.label,url:itemData.url,id:itemData.id,helpid:itemData.helpid});hidemenu()})}function addMenuItem(itemAtt){var ul=menu.find("ul.shortmenu_proj_ul");var menuHtml="<li>";menuHtml+="<a href='"+itemAtt.url+"' target='_blank'><img src='"+$.trim(itemAtt.icon)+"' /></a>";menuHtml+="</li>";var menuItem=$(menuHtml).appendTo(ul);itemsHash[itemAtt.id]=menuItem;if(itemAtt.isdisabled){menuItem.attr("disabled",true)}menuItem.click(function(){hidemenu()});return menuItem}function addProjItem(itemsAtt){var ul=menu.find("ul.shortmenu_proj_itmes_ul");if(itemsAtt.children.length>0){var menuHtml="<li>";menuHtml+="<a href='#none' class='has_sub'>"+itemsAtt.name+"</a>"}else{var menuHtml="<li>";menuHtml+="<a href='#none'>"+itemsAtt.name+"</a>"}menuHtml+="</li>";var projMenuItem=$(menuHtml).appendTo(ul);var itemw=$(ul).width();if(typeof(itemArr)!="undefined"||showHistory){projMenuItem.width(itemw+2)}else{projMenuItem.width(singleBoxWidth+7)}if(itemsAtt.children.length==0){projMenuItem.click(function(){hidemenu();if(typeof(sysmenuData)!="undefined"){var itemDataString="{ id: '"+itemsAtt.id+"', label:'"+itemsAtt.name+"', url: '"+itemsAtt.url+"'}";$.fn.historyReport(itemDataString,sysmenuData)}var tabitem=$.fn.tabPage.add({name:itemsAtt.name,url:itemsAtt.url,id:itemsAtt.id,helpid:itemsAtt.helpid})})}else{createSubMenu(projMenuItem,itemsAtt.children)}return projMenuItem}function showSubMenu(actObj){var subMenuContainer=$(actObj).next();subMenuContainer.bind("mouseover",function(){$(this).show();titleItem.removeClass("sysmenu").addClass("sysmenu_hover")});subMenuContainer.show()}function hideSubMenu(actObj){var subMenuContainer=$(actObj).next();subMenuContainer.hide()}function createSubMenu(liObj,subItemsArr){var menuHtml="<div class='shortsubmenu_sub'>";menuHtml+="<div class='menu_masker'><iframe width='0' height='0' frameborder='0' src=''></iframe></div>";menuHtml+="<div class='horimenuSub_top'><table width='100%' border='0' cellspacing='0' cellpadding='0'><tr><td><div class='horimenuSub_top_left'></div></td><td class='horimenuSub_top_center'></td><td><div class='horimenuSub_top_right'></div></td></tr></table></div>";menuHtml+="<div class='horimenuSub_center_left'><div class='horimenuSub_center_right'><div class='horimenuSub_center_center'>";menuHtml+="<ul></ul>";menuHtml+="</div><div class='porlet_nofloat'></div></div></div>";menuHtml+="<div class='horimenuSub_bottom'><table width='100%' border='0' cellspacing='0' cellpadding='0'><tr><td><div class='horimenuSub_bottom_left'></div></td><td class='horimenuSub_bottom_center'></td><td><div class='horimenuSub_bottom_right'></div></td></tr></table>";menuHtml+="</div>";var menuEle=$(menuHtml);menuEle.appendTo(liObj);var _subMenu=menuEle;for(var i=0;i<subItemsArr.length;i++){addSubMenuItem(subItemsArr[i],_subMenu)}var projBox=menu.find("div.shortmenu_proj_list");var projSubBox=menu.find("div.shortmenu_proj_items_list");if($.browser.msie){if($.browser.version=="7.0"||$.browser.version=="6.0"){var topDiff=-6}if($.browser.version=="8.0"){var topDiff=-5}}else{var topDiff=-4}_subMenu.css({left:$(_subMenu).parent().width()-12,top:topDiff});_subMenu.hide()}function addSubMenuItem(itemAtt,_subMenu){var ul=_subMenu.find("ul:eq(0)");if(itemAtt.children&&itemAtt.children.length>0){var menuHtml="<li>";menuHtml+="<a href='#none' class='has_sub'>"+itemAtt.name+"</a>"}else{var menuHtml="<li>";menuHtml+="<a href='#none'>"+itemAtt.name+"</a>"}menuHtml+="</li>";var menuItem=$(menuHtml).appendTo(ul);menuItem.css({width:(_subMenu.width()-11)});if(itemAtt.children&&itemAtt.children.length>0){createSubMenu(menuItem,itemAtt.children)}else{menuItem.click(function(){_subMenu.hide();hidemenu();if(typeof(sysmenuData)!="undefined"){var itemDataString="{ id: '"+itemAtt.id+"', label:'"+itemAtt.name+"', url: '"+itemAtt.url+"'}";$.fn.historyReport(itemDataString,sysmenuData)}var tabitem=$.fn.tabPage.add({name:itemAtt.name,url:itemAtt.url,id:itemAtt.id,helpid:itemAtt.helpid})})}}}})(jQuery);(function(a){a.menuEnter=function(){var c=a("#systemMenuContainer");var b=a("#systemMenu");b.removeClass("sysmenu").addClass("sysmenu_hover")}})(jQuery);(function(a){a.fn.stateBar=function(){var d="";var c="";a(this).append("<div id='loginInfo'></div><div id='alarmInfo'></div>");d+="<ul>";d+="<li class='login_user'>"+loginData.user+"</li>";d+="<li class='login_ip'>"+loginData.ipAddress+"</li>";d+="</ul>";a("#loginInfo").append(d);a("#topLnk").append(c);a.fn.alarm()};a.fn.alarm=function(){};var b=function(d){var e="";e+="<ul>";for(var c=0;c<d.length;c++){e+="<li id='alarm"+d[c].id+"'><img src='"+d[c].icon+"' align='absmiddle' />"+d[c].times+"</li>"}e+="</ul>";a("#alarmInfo").html(e)}})(jQuery);(function(b){b.fn.tabPage=function(e){var d=b.extend({},e);return new c().init(this,d)};b.fn.tabPage.add=function(f,e,g,d){return c().add(f,e,g,d)};var a=new Array();function c(){var d=10000;return{spaceWidth:500,init:function(j,i){var g=b(window).width()-76;d=i.max||d;var f="<div class='tabpage'>";f+="<div class='tabpage_bg_left'></div>";f+="<div class='tabpage_bg_right'></div>";f+="<div class='tabpage_bg_center'>";f+="<div class='tabpage_fix' id='tabpageFix'></div>";f+="<div class='tabpage_overflow' id='tabpageOverflow'>";f+="<div class='tabpage_inner' id='tabPageInner'>";f+="<div id='tabpageTitle'>";f+="</div></div></div>";f+="<div class='tabpage_tools' id='tabpageTools'></div>";f+="</div>";f+="</div>";f+="<div id='tabpageContent'></div>";var e=b(f);e.appendTo(j);var k=b("#tabpageTitle");var h=b("#tabpageOverflow");c().initTools(b("#tabpageTools"));k.data("count",0).data("current",new Array()).width(c().spaceWidth);h.width(g);k.data("max",d);k.data("openedNum",0);b.resizeObjs().reFixSize(e.outerHeight());if(i.data){b(i.data).each(function(l){c().add({name:this.name,url:this.url,id:this.id,hideCloseIcon:this.hideCloseIcon,index:l,helpid:this.helpid})})}},add:function(I,h,u,v,k,x){if(typeof I=="object"){var E=I;I=E.name;h=E.url;u=E.id;v=E.hideCloseIcon;k=E.index;x=E.helpid}var r=b("#tabpageTitle");var A=b("#tabpageFix");var m=b("#tabpageTools");if(u){if(document.getElementById("tabpageTitle"+u)){var y=document.getElementById("tabpageTitle"+u);c().switchTo(y);return true}tid="tabpageTitle"+u}else{tid="tabpageTitleRd"+k}var D=r.find("li.tabpage_title_center");if(D.length>0){for(var C=0;C<D.length;C++){var n=b(D[C]);if(I==n.text()){var z=n.parent();c().switchTo(z);return true}}}var f=r.data("openedNum");var B=r.data("max");if(f>=B){return true}var H=k?k:c().count();var p="<ul id='"+tid+"' class='tabpage_title tabpage_title_normal' title='"+I+"' tabIndx='"+H+"'>";p+="<li class='tabpage_title_left'></li>";p+="<li class='tabpage_title_center'><span>"+I+"</span></li>";p+="<li class='tabpage_title_icon'><span></span></li>";p+="<li class='tabpage_title_right'></li>";p+="</ul>";var F;var g=0;if(v){F=b(p).appendTo(A);g=0}else{F=b(p).appendTo(r);g=F.width();a.push(F)}F.helpid=x;if(I=="内容上传"){F.helpid="真空"}var l=b("#tabpageOverflow");l.width(b(window).width()-A.width()-76);var t=r.width();var G=t+g;r.width(G);F.click(function(){c().switchTo(F)});F.mouseover(function(){if("tabpage_title_on"==b(this).attr("class")){return false}b(this).removeClass("tabpage_title_normal");b(this).addClass("tabpage_title_over")});F.mouseout(function(){if("tabpage_title_on"==b(this).attr("class")){return false}b(this).removeClass("tabpage_title_over");b(this).addClass("tabpage_title_normal")});F.find("li:eq(2)").click(function(){c().del(F)});var o=F.find("span:eq(1)");o.mouseover(function(){b(this).addClass("tabicon_over")});o.mouseout(function(){b(this).removeClass("tabicon_over")});if(v){F.addClass("tabpage_title_fix");F.find("li.tabpage_title_icon:eq(0)").hide()}var s=b.resizeObjs().getFixSize()+4;var e="<div></div>";var w=b(e).appendTo("#tabpageContent");var j=b(window).height()-s;b(w).height(j);F.data("orderNum",H);w.data("orderNum",H);w.data("toHeight",j);e="<iframe name='tabPageIfra"+H+"' width='100%' scrolling='auto' frameborder='0' border='0' src=''></iframe>";var q=b(e).appendTo(b(w));if(h.indexOf("?")>0){h+="&BMETimestamp="+(new Date().getTime())}else{h+="?BMETimestamp="+(new Date().getTime())}b(q).height(j).attr("src",h);b.resizeObjs().push({container:b(w),child:true});c().switchTo(F);c().count(1);if((r.width()-c().spaceWidth)>l.width()){c().scrollShow()}c().scrollResize("add");c().scrollRepos("add");f++;r.data("openedNum",f);F.setHelpId=function(i){F.data("helpid",i||"真空")};return F},del:function(h){var i=b("#tabpageTitle");var g=b("#tabpageOverflow");b.resizeObjs().shift(b("#tabpageContent > div:eq("+b(h).data("orderNum")+")"));c().resetCurrent(h,"del");var i=b("#tabpageTitle");var f=i.width();var j=f-h.width();i.width(j);a=b.grep(a,function(l,k){return l!=h});c().getCurrentIframe(h).each(function(){this.src="about:blank"});b("#tabpageContent > div:eq("+b(h).data("orderNum")+")").remove();b(h).remove();c().count(-1);b("div.tabpage_bg_center ul.tabpage_title").each(function(k){b(this).show();b(this).data("orderNum",k)});b("#tabpageContent > div").each(function(k){b(this).data("orderNum",k)});c().switchTo();c().scrollResize("del");c().scrollRepos("del");if((i.width()-c().spaceWidth)<=g.width()){c().scrollHide()}var e=i.data("openedNum");e--;i.data("openedNum",e)},switchTo:function(f){var p;if(f){p=f}else{if(c().getCurrent(0)){p=c().getCurrent(0)}else{if(b("#tabpageTitle > ul:eq(0)")){p=b("#tabpageTitle > ul:eq(0)")}else{return false}}}c().resetCurrent(p);b("#tabpageTitle").data("currentItem",b(p));b("#tabpageTitle > ul").removeClass("tabpage_title_on").addClass("tabpage_title_normal");b("#tabpageFix > ul").removeClass("tabpage_title_on").addClass("tabpage_title_normal");b(p).removeClass("tabpage_title_normal").addClass("tabpage_title_on");var q=b("#tabPageInner");var l=b("#tabpageTitle");var h=b("#tabpageOverflow");var r=document.getElementById("tabpageTitle").getElementsByTagName("ul");for(var o=0;o<r.length;o++){r[o].style.display="block"}var k=b(p).attr("id");var m=0;for(var o=0;o<r.length;o++){if(r[o].id){if(r[o].id==k){m=o}}}var s=b(p).width()+1;var g=Math.ceil(Math.abs(parseInt(q.css("left")))/s);var j=Math.floor((Math.abs(parseInt(q.css("left")))+h.width())/s);if(m<g){if(parseInt(q.css("left"))<0){var e=parseInt(q.css("left"))+((g-m)*s);if(e>0){e=0}}else{var e=0}q.css("left",e);for(var o=(j-g+m);o<r.length;o++){r[o].style.display="none"}}if(m>=j){var e=parseInt(q.css("left"))-((m-j+1)*s);if(e>0){e=0}q.css("left",e);for(var o=m+1;o<r.length;o++){r[o].style.display="none"}}if(g<=m&&m<j){for(var o=j;o<r.length;o++){r[o].style.display="none"}}if(b.browser.mozilla){b("#tabpageContent > div").css("visibility","hidden").css("height","0px").attr("active",false);var n=b("#tabpageContent > div:eq("+b(p).data("orderNum")+")");n.css("visibility","visible").css("height",n.data("toHeight")+"px").attr("active",true)}else{b("#tabpageContent > div").hide();b("#tabpageContent > div:eq("+b(p).data("orderNum")+")").show()}},initTools:function(f){var e="<ul>";e+="<li class='tabpage_scroll'>";e+="	<div style='position:absolute'>";e+="	<ul id='tabpageScrollBar'>";e+="		<li class='tabpage_scroll_left'></li>";e+="		<li class='tabpage_scroll_center'></li>";e+="		<li class='tabpage_scroll_right'></li>";e+="	</ul>";e+="	</div>";e+="</li>";e+="<li class='tabpage_icon_list'></li>";e+="<li class='tabpage_icon_close'></li>";e+="</ul>";var h=b(e).appendTo(f);c().scrollTabpage(b("#tabpageScrollBar"));document.getElementById("tabpageScrollBar").onselectstart=function(){return false};c().scrollHide();var g=h.find("li.tabpage_icon_list");var i=h.find("li.tabpage_icon_close");g.bind("mouseover",c().showOpenedList);g.bind("mouseout",c().closeOpenedList);i.bind("click",c().closeCurrent)},showOpenedList:function(){c().showTabPop()},closeOpenedList:function(){c().hideTabPop()},showTabPop:function(){c().createTabPop();var e=b("#tabPopContainer");e.mouseover(function(){b(this).show()});e.mouseout(function(){b(this).hide()});e.show()},hideTabPop:function(){var e=b("#tabPopContainer");e.hide()},createTabPop:function(){if(document.getElementById("tabPopContainer")){b("#tabPopContainer").remove()}var h="<div class='tab_pop_menu' id='tabPopContainer'>";h+="<div class='menu_masker'><iframe width='0' height='0' frameborder='0' src=''></iframe></div>";h+="<div class='tab_pop_tool' id='tabPopTool'></div><div class='nofloat'></div>";h+="<div class='horimenuSub_top'><table width='100%' border='0' cellspacing='0' cellpadding='0'><tr><td><div class='horimenuSub_top_left'></div></td><td class='horimenuSub_top_center'></td><td><div class='horimenuSub_top_right'></div></td></tr></table></div>";h+="<div class='horimenuSub_center_left'><div class='horimenuSub_center_right'><div class='horimenuSub_center_center'>";h+="<ul></ul>";h+="</div><div class='porlet_nofloat'></div></div></div>";h+="<div class='horimenuSub_bottom'><table width='100%' border='0' cellspacing='0' cellpadding='0'><tr><td><div class='horimenuSub_bottom_left'></div></td><td class='horimenuSub_bottom_center'></td><td><div class='horimenuSub_bottom_right'></div></td></tr></table>";h+="</div>";var g=b(h).appendTo("#topFrame");var k=b("#tabpageTools").find("li.tabpage_icon_list");var j=k.offset();var e=j.left-g.width()+k.width()+5;g.css({left:e,top:j.top-6});for(var f=0;f<a.length;f++){c().addTabMenuItem(a[f])}return g},addTabMenuItem:function(h){var i=b("#tabPopContainer");var e=b("#tabPopContainer").find("ul");var f="<li>";f+="<a href='#none'>"+h.text()+"</a>";f+="</li>";var g=b(f).appendTo(e);g.css({width:(i.width()-11)});g.click(function(){i.hide();c().switchTo(h)});return g},closeCurrent:function(){var e=b("#tabpageTitle").data("currentItem");c().del(e)},scrollTabpage:function(e){e.focus(function(){e.blur()});e.bind("mousedown",c().scrollDown)},scrollDown:function(e){b(document).bind("mousemove.tabPageScroll",c().scrollMove);b(document).bind("mouseup.tabPageScroll",c().scrollUp);e=c().fixE(e);if(e.which!=1){return true}b(this).data("lastMouseX",e.clientX);this.isScrolling=true},scrollUp:function(e){b(document).unbind("mousemove.tabPageScroll");b(document).unbind("mouseup.tabPageScroll");this.isScrolling=false},scrollMove:function(g){var f=b("#tabpageScrollBar");var h=parseInt(f.css("left"));var e=g.clientX;var j=f.data("lastMouseX");var i=h+(e-j);if(i<1){i=1}if(i>=(59-f.width())){i=59-f.width()}f.css("left",i);f.data("lastMouseX",g.clientX);c().scrollTo(i,f)},scrollHide:function(){var e=b("#tabpageTools");e.hide()},scrollShow:function(){var e=b("#tabpageTools");e.show()},scrollResize:function(f){var h=b("#tabpageScrollBar");var i=h.find("li:eq(1)");var j=h.width();var g=i.width();if(h.css("display")=="none"){return true}var e;if("add"==f){if(h.width()<=26){return true}e=-2}else{if(h.width()>=44){return true}e=2}h.width(j+e);i.width(g+e)},scrollRepos:function(m){var g=b("#tabpageTitle");var k=b("#tabPageInner");var j=b("#tabpageOverflow");var f=b("#tabpageScrollBar");var i=g.find("ul:last");var l;if("add"==m){if(g.width()-c().spaceWidth>j.width()){toX=j.width()-(g.width()-c().spaceWidth);var n=-Math.ceil(Math.abs(toX)/(i.width()+1))*(i.width()+1);k.css("left",n+"px");var p=parseInt(k.css("left"));var g=b("#tabpageTitle");var k=b("#tabPageInner");var i=g.find("ul:last");var o=g.width()-i.width()-c().spaceWidth;var h=58-f.width();var e=-(h*p/o+1);f.css("left",e+"px")}}else{toX=parseInt(k.css("left"));if(toX<0){var n=toX+(i.width()+1);k.css("left",n+"px")}}},scrollTo:function(k,g){var f=b("#tabpageTitle");var e=b("#tabPageInner");var i=f.find("ul:last");var h=f.width()-i.width()-c().spaceWidth;var j=58-g.width();var l=-(k-1)/j*h;e.css("left",l+"px")},count:function(f){var e=b("#tabpageTitle").data("count");if(f&&isNaN!=f){e+=f}b("#tabpageTitle").data("count",e);return e},resetCurrent:function(f,e){var g=b("#tabpageTitle").data("current");var h=b.grep(g,function(k,j){return k.data("orderNum")==b(f).data("orderNum")},true);if("del"!=e){h.unshift(b(f))}b("#tabpageTitle").data("current",h)},isOpen:function(){},getCurrent:function(e){return b("#tabpageTitle").data("current")[e]},getCurrentIframe:function(e){var f=b("#tabpageContent > div:eq("+b(e).data("orderNum")+")");var g=f.find("iframe:first-child");return g},fixE:function(e){if(typeof e=="undefined"){e=window.event}if(typeof e.layerX=="undefined"){e.layerX=e.offsetX}if(typeof e.layerY=="undefined"){e.layerY=e.offsetY}if(typeof e.which=="undefined"){e.which=e.button}return e}}}})(jQuery);(function($){$.fn.getFormData=function(toType){var textObj=this.find(":text");var checkedObj=this.find(":checked");var selectedObj=this.find(":selected");var hideObj=this.find("input:hidden");var jsonstr="";jsonstr+="({";if(textObj.length>0){textObj.each(function(i){if(this.value){jsonstr+="'"+this.name+"': '"+this.value+"',"}})}if(checkedObj.length>0){checkedObj.each(function(i){if(this.value){jsonstr+="'"+this.name+"': '"+this.value+"',"}})}if(hideObj.length>0){hideObj.each(function(i){if(this.value){jsonstr+="'"+this.name+"': '"+this.value+"',"}})}if(selectedObj.length>0){selectedObj.each(function(i){if(this.value){jsonstr+="'"+$(this).parent().attr("name")+"': '"+this.value+"',"}})}jsonstr+="})";jsonstr=jsonstr.replace(",}","}");return eval(jsonstr)}})(jQuery);(function(a){a.fn.fullPageHeight=function(){var c=document.body.offsetHeight-22;var b=this.find("div.page_container").height();if(b<c){a(this).css("height",c)}else{this.css("height","auto")}a(window).bind("resize.fullPageHeight",{targetEle:this},d);function d(g){var h=g.data.targetEle;h.css("height","auto");if(a.browser.msie&&"6.0"==a.browser.version){a("body").css("height","auto")}var f=document.body.offsetHeight-22;var e=h.find("div.page_container").height();if(e<=f){h.css("height",f)}if(a.browser.msie&&"6.0"==a.browser.version){a("body").css("height","100%")}}}})(jQuery);(function(a){a.fn.containerMiddle=function(){var b=this;d(b);a(window).bind("resize.fullPageHeight",{targetEle:b},c);function c(e){var f=e.data.targetEle;d(f)}function d(g){var f=a("body").height();var e=g.height();var h=(f-e)/2-100;if(h>0){g.css("top",h+"px")}}}})(jQuery);(function(b){function a(){var d;this.show=function(){e();d.show()};this.cancel=function(){if(d){d.remove()}};function e(){if(document.getElementById("pageload")){b("#pageload").remove()}d=c()}function c(){var g="<div id='pageload'>";g+="<div class='pageload_masker'><iframe width='100%' height='100%' frameborder='0'></iframe></div>";g+="<div class='pageload_body'></div>";g+="</div>";var f=b(g);f.appendTo("body");f.hide();return f}}b.pageload=new a()})(jQuery);(function(e){function g(h){return"string"==typeof h?document.getElementById(h):h}function d(i,j,h){if(i.addEventListener){i.addEventListener(j,h,false)}else{if(i.attachEvent){i.attachEvent("on"+j,h)}else{i["on"+j]=h}}}function c(k,j){for(var l=0,h=k.length;l<h;l++){j(k[l],l)}}function b(i,h){var j=document.createElement("OPTION");j.value=i;j.innerHTML=h;return j}var a={create:function(){return function(){this.initialize.apply(this,arguments)}}};Object.extend=function(h,j){for(var i in j){h[i]=j[i]}return h};var f=function(){};f.prototype={create:function(k,j,h){if(k.length<=0||j.lenght<=0){return}var i=this;this.Selects=[];this.Menu=j;this.SetOptions(h);this.Default=this.options.Default||[];this.ShowEmpty=!!this.options.ShowEmpty;this.EmptyText=this.options.EmptyText.toString();c(k,function(m,l){d((i.Selects[l]=g(m)),"change",function(){i.Set(l)})});this.ReSet()},SetOptions:function(h){this.options={Default:[],ShowEmpty:false,EmptyText:"Please select"};Object.extend(this.options,h||{})},ReSet:function(){this.SetSelect(this.Selects[0],this.Menu,this.Default.shift());this.Set(0)},Set:function(j){var m=this.Menu;for(var k=1,h=this.Selects.length;k<h;k++){if(m.length>0){var l=this.Selects[k-1].value;if(l!=""){c(m,function(i){if(i.val==l){m=i.menu||[]}})}else{m=[]}if(k>j){this.SetSelect(this.Selects[k],m,this.Default.shift())}}else{this.SetSelect(this.Selects[k],[],"")}}this.Default.length=0},SetSelect:function(h,j,i){h.options.length=0;h.disabled=false;if(this.ShowEmpty){h.appendChild(b("",this.EmptyText))}if(j.length<=0){h.disabled=true;return}c(j,function(k){var l=b(k.val,k.txt?k.txt:k.val);l.selected=(i==l.value);h.appendChild(l)})},Add:function(h){this.Menu[this.Menu.length]=h;this.ReSet()},Delete:function(j){if(j<0||j>=this.Menu.length){return}for(var k=j,h=this.Menu.length-1;k<h;k++){this.Menu[k]=this.Menu[k+1]}this.Menu.pop();this.ReSet()}};e.cascadeselect=new f()})(jQuery);(function(a){a.fn.tab=function(k){var h=this;var e=a.extend({},k);var c=0;var b=h.children(".tab_title");var d=b.find(".tab_title_normal");var j=h.children(".tab_content");var f=[];if(e.normalStyle){h.addClass(e.normalStyle)}g(c);d.each(function(l){var m=a(this);m.bind("click",function(){g(l)});m.data("no",l);if(l==0){m.addClass("tab_title_first")}});function g(n){c=n;var m=a(d[n]);var l=a(j[n]);if(d[n].className.indexOf("button_disable")!=-1){return}d.removeClass("tab_title_normal");d.removeClass("tab_title_on");d.addClass("tab_title_normal");m.removeClass("tab_title_normal");m.removeClass("tab_title_on");m.addClass("tab_title_on");j.hide();l.show();i(n)}function i(o){if(f.length>0){for(var m=0,l=f.length;m<l;m++){var n=f[m];if(typeof(n.backfun)=="function"){n.backfun.apply(this,[{type:n.type,data:o}])}}}}return{addEventListener:function(n,m){var o={type:n,backfun:m};var l=a.inArray(o,f);if(-1==l){f.push(o)}},removeEventListener:function(m,l){var n={type:m,backfun:l};a.grep(f,function(p,o){return p==n},true)},switchTo:function(l){g(l-1)},getCurrent:function(){return c+1}}}})(jQuery);function setBmeInputElementValue(b,e,d,f){var a=$(b);var c=a.find(e);c.val(d);if(!f){return}c.valid()}(function(a){a.fn.setBmeInputValue=function(b,c){setBmeInputElementValue(this,"input",b,c)}})(jQuery);(function(a){a.fn.setBmeTextareaValue=function(b){setBmeInputElementValue(this,"textarea",b,validate)}})(jQuery);(function(a){a.fn.setBmeSelectValue=function(b){setBmeInputElementValue(this,"select",b,validate)}})(jQuery);(function(a){a.fn.clearFileValue=function(){var c=jQuery("#"+this.attr("id")+"_text");var d=jQuery("#"+this.attr("id")+"_file");c.val("");c.valid();d.val("");if(a.browser.msie){var b=d.clone(true);d.replaceWith(b)}}})(jQuery);(function(b){function a(){if(undefined!=jBME.titleTipsPoper){return}jBME.titleTipsPoper=new jBME.Poper();jBME.titleTipsPoper.offsetInfo.left=15;jBME.titleTipsPoper.offsetInfo.right=-15;jBME.titleTipsPoper.offsetInfo.top=5}b.fn.onLoadHelp=function(){this.tipsHelp();this.focusBorderInit();this.focusFieldInit();this.autoHeightInit();a()}})(jQuery);(function(a){a.fn.autoHeight=function(c,f){var h=this;var e=a(document.documentElement);var b=0;if(undefined==c){this.addClass("auto_height_self");e=h.parent();var g=e.children(":not(.auto_height_self)");this.removeClass("auto_height_self");g.each(function(j){b+=a(this).outerHeight(true)})}else{if("number"===typeof(c)){b=c}else{a(c||[]).each(function(){b+=a(this).outerHeight(true)})}}h.height(d(b));if(f!==false){a(window).bind("resize",function(){h.height(d(b))})}function d(i){var j=e.innerHeight()-(i||0);j-=h.outerHeight(true)-h.height();if(parseFloat(a.browser.version)>=8){j-=4}return Math.max(j,0)}};a.fn.autoHeightInit=function(){var b=this;var c=b.find(".bc_auto_height");c.each(function(d){var e=a(this);e.autoHeight(undefined,true)})}})(jQuery);(function(a){a.fn.tipsHelp=function(){if(!jBME.tipsObj){var d='<div class="bf_tips">';d+='<div hl="true"></div>';d+='<div hr="true"></div>';d+='<div ml="true"><div mr="true"></div></div>';d+='<div fl="true"></div>';d+='<div fr="true"></div>';d+="</div>";jBME.tipsObj=a(d);jBME.tipsObj.content=jBME.tipsObj.find("[mr]");jBME.tipsObj.appendTo("body");jBME.tipsObj.poper=new jBME.Poper(jBME.tipsObj)}jBME.tipsObj.getTipsTarget=function(g){var f=g.attr("bmeTipsId");if(undefined==f){f=g}else{f=a("#"+f)}return f};jBME.tipsObj.hideTips=function(){jBME.tipsObj.jqTipsTarget=undefined;jBME.tipsObj.hide()};jBME.tipsObj.refresh=function(g,f){if(jBME.tipsObj.jqTipsTarget&&(jBME.tipsObj.jqTipsTarget.get(0)!=f.get(0))){return}e(g,f)};var b=this;var c=b.find("[bmeTips],[validateRules]");c.each(function(f){var h=a(this);var g=jBME.tipsObj.getTipsTarget(h);h.unbind("focusin.tips").bind("focusin.tips",function(){jBME.tipsObj.jqTipsTarget=g;jBME.tipsObj.refresh(h,g)});h.unbind("blur.tips").bind("blur.tips",function(j){var i=jBME.tipsObj.getTipsTarget(a(j.target));if(jBME.tipsObj.jqTipsTarget&&(jBME.tipsObj.jqTipsTarget.get(0)!=i.get(0))){return}jBME.tipsObj.hideTips()});if((a.browser.safari||a.browser.msie)&&h.is("input[type='checkbox'],input[type='radio'],input[type='text']")){h.unbind("click.tips").bind("click.tips",function(){jBME.tipsObj.jqTipsTarget=g;jBME.tipsObj.refresh(h,g)})}});function e(j,i){var g=j.attr("vMsg");var h="";if(g){h+="<p class='tips_error'>"+g+"</p>"}var f=j.attr("bmeTips");if(f){h+=f}if((""==h)||(a(document.activeElement).filter(":input").attr("name")!=j.attr("name"))){jBME.tipsObj.hideTips();return}jBME.tipsObj.poper.setPopFromInfoByDom(i);jBME.tipsObj.poper.popFromInfo.left+=20;jBME.tipsObj.poper.popFromInfo.width=0;jBME.tipsObj.poper.bottomFirst=false;jBME.tipsObj.content.html("&nbsp;");jBME.tipsObj.width("auto");jBME.tipsObj.poper.show();jBME.tipsObj.content.html(h);jBME.tipsObj.jqTipsTarget=i;jBME.tipsObj.width(jBME.tipsObj.width());jBME.tipsObj.poper.show();jBME.tipsObj.attr("arrowTop",jBME.tipsObj.poper.resultBottom);jBME.tipsObj.fixSelectorBug();jBME.tipsObj.css("z-index",9999);return}}})(jQuery);(function(a){a.fn.focusBorderInit=function(){var b=this;var c=b.find("[focusBorder]");c.each(function(e){var d=a(this);var f=d.attr("focusBorder");d.unbind("focus.border").bind("focus.border",function(){d.addClass(f)});d.unbind("blur.border").bind("blur.border",function(){d.removeClass(f)})})}})(jQuery);(function(a){a.fn.focusFieldInit=function(){var b=this;var c=b.find("[focusField]").not(".field_no_bg");c.each(function(){var e=a(this);var d=e.attr("focusField");e.find(":input").each(function(g){var f=a(this);f.unbind("focus.field").bind("focus.field",function(){e.addClass(d)});f.unbind("blur.field").bind("blur.field",function(){e.removeClass(d)})})})}})(jQuery);(function(a){a.fn.conditionCheck=function(e){var b=this;var d=b.find(".vlist_condition_title");var g=d.find(":radio");var c=b.find("div.vlist_condition_content");g.each(function(j){var h=a(this);h.bind("click",function(){f(j)})});function f(h){c.hide();a(c[h]).show()}}})(jQuery);(function(a){a.fn.tips=function(f){f=f||{};var g=f.maxWidth||800;var d=f.attrName||"title";var b=this;actObjs=b.find("["+d+"]");actObjs.each(function(){var i=a(this);var j=i.attr(d);i.data("tips",a("<div>"+j+"</div>"));if(d=="title"){i.removeAttr("title")}i.unbind("mouseover").bind("mouseover",e);i.unbind("mouseout").bind("mouseout",c);i.unbind("click").bind("click",c)});function h(){jBME.titleTipsPoper.wrapperFunc=function(){var i=jBME.titleTipsPoper.createShadowWrapper();i.bind("mouseout",c);i.removeClass("bf_shadow").addClass("bf_title_tips");i.css("max-width",g+"px");return i}}function e(i){h();jBME.titleTipsPoper.setPop(a(this).data("tips"));jBME.titleTipsPoper.setPopFromInfoByEvent(i);jBME.titleTipsPoper.show()}function c(i){jBME.titleTipsPoper.hide()}}})(jQuery);(function(a){a.fn.ExternalClick=function(e,h){var c=a(this);var d=a(e);var g=Math.random().toString();if(h){var b=h}c.attr("ExternalClickID",g);d.attr("ExternalClickID",g);function f(k){var i=a(k.target);var j=i.parents("[ExternalClickID='"+g+"']");var l=false;if(i.data("ExternalClickID")==g){l=true}if(j.size()>0){l=true}if(!l&&d.is(":visible")){d.hide();if(h){b.call(this,c,d)}}}a(document).mousedown(f)}})(jQuery);(function($){$.fn.historyReport=function(dataString,s){var maxLength=10;var ulObj=$("#systemMenuContainer").find("ul.shortmenu_his_ul");var hisBox=$("#systemMenuContainer").find("div.shortmenu_his_list");var submenuBox=$("#systemMenuContainer").find("div.shortmenu_proj_items_list");if(typeof(s.showHistory)!="undefined"&&s.showHistory){var historyStr=$.cookie("historyItems");if(historyStr!=null){var historyObj=eval("("+historyStr+")");var newReport=eval("("+dataString+")");for(var i=0;i<historyObj.length;i++){if(historyObj[i].id==newReport.id){historyObj.splice(i,1)}}historyObj.push(newReport);if(historyObj.length>maxLength){historyObj=historyObj.slice((historyObj.length-maxLength))}$.cookie("historyItems",null);$.cookie("historyItems",getJsonString(historyObj))}else{var historyStr="["+dataString+"]";$.cookie("historyItems",historyStr)}var historyStr=$.cookie("historyItems");var historyObj=eval("("+historyStr+")");if(ulObj.html()!=""){ulObj.html("")}for(var j=0;j<historyObj.length;j++){addHistoryList(historyObj[j])}}function getJsonString(jsonObj){var sA=[];(function(o){var isObj=true;if(o instanceof Array){isObj=false}else{if(typeof o!="object"){if(typeof o=="string"){sA.push('"'+o+'"')}else{sA.push(o)}return}}sA.push(isObj?"{":"[");for(var i in o){if(o.hasOwnProperty(i)&&i!="prototype"){if(isObj){sA.push(i+":")}arguments.callee(o[i]);sA.push(",")}}sA.push(isObj?"}":"]")})(jsonObj);return sA.slice(0).join("").replace(/,\}/g,"}").replace(/,\]/g,"]")}function addHistoryList(itemData){var itemHtml="<li>";itemHtml+="<a href = '#none'>"+itemData.label+"</a>";itemHtml+="</li>";var hisItem=$(itemHtml).prependTo(ulObj);if($("#systemMenuContainer").css("display")=="none"){$("#systemMenuContainer").show();if(hisBox.height()>submenuBox.height()){submenuBox.addClass("list_noline");hisBox.removeClass("list_noline")}else{hisBox.addClass("list_noline");submenuBox.removeClass("list_noline")}$("#systemMenuContainer").hide()}hisItem.click(function(){var tabitem=$.fn.tabPage.add(itemData.label,itemData.url,itemData.id);tabitem.setHelpId(itemsData.helpid);$("#systemMenu").removeClass("sysmenu_hover").addClass("sysmenu");$("#systemMenuContainer").hide();var maskDiv=$("#systemMenuContainer").data("maskDiv");$(maskDiv).remove()})}}})(jQuery);(function(a){a.fn.showSubMenu=function(g){var l=15,h=50,m=6,i;var d=a(this);var e=[];var f=[];k(g);function k(t){i=t;var o=d,r=a(d).find("div.shortsubmenu_sub"),n=r.size(),p=0;for(p;p<n;p++){var q=a(r[p]).parent("li");e[p]=q;f[p]=r[p];a(e[p]).data("subNum",p);e[p].mouseover(function(){j(a(this).data("subNum"),true)});e[p].mouseout(function(){j(a(this).data("subNum"))})}}function j(n,q){var s=f[n],o=e[n],r=a(o).find("a:eq(0)");if(s.t){clearInterval(s.t)}if(q){a(r).addClass(i);a(s).show();a(o).css("overflow","visible");s.t=setInterval(function(){b(s,1)},l)}else{a(r).removeClass(i);s.t=setInterval(function(){b(s,-1)},l)}}function b(o,n){if(n==1){a(o).show()}else{a(o).hide();a(o).parent("li").css("overflow","hidden")}clearInterval(o.t)}}})(jQuery);(function(a){a.fn.toggleDisabled=function(b){if(this.toggleClass("cbme_disabled",b).hasClass("cbme_disabled")){this.attr("disabled","disabled");this.find(":input,.bc,.bc_toggleable").attr("disabled","disabled").addClass("cbme_disabled")}else{this.removeAttr("disabled");this.find(":input,.bc,.bc_toggleable").removeAttr("disabled").removeClass("cbme_disabled")}return this};a.fn.fixSelectorBug=function(){return this.toggleClass("bmeFixSelectorBug")}})(jQuery);